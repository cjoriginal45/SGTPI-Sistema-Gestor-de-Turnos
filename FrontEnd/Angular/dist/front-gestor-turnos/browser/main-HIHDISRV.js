var _C=Object.defineProperty,CC=Object.defineProperties;var EC=Object.getOwnPropertyDescriptors;var us=Object.getOwnPropertySymbols;var Qp=Object.prototype.hasOwnProperty,Kp=Object.prototype.propertyIsEnumerable;var Yp=(e,t,n)=>t in e?_C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t)=>{for(var n in t||={})Qp.call(t,n)&&Yp(e,n,t[n]);if(us)for(var n of us(t))Kp.call(t,n)&&Yp(e,n,t[n]);return e},R=(e,t)=>CC(e,EC(t));var Xp=(e,t)=>{var n={};for(var r in e)Qp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&us)for(var r of us(e))t.indexOf(r)<0&&Kp.call(e,r)&&(n[r]=e[r]);return n};var L=(e,t,n)=>new Promise((r,o)=>{var i=l=>{try{a(n.next(l))}catch(f){o(f)}},s=l=>{try{a(n.throw(l))}catch(f){o(f)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(e,t)).next())});function Vc(e,t){return Object.is(e,t)}var Ie=null,ds=!1,jc=1,gt=Symbol("SIGNAL");function Q(e){let t=Ie;return Ie=e,t}function Bc(){return Ie}var Hr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qo(e){if(ds)throw new Error("");if(Ie===null)return;Ie.consumerOnSignalRead(e);let t=Ie.nextProducerIndex++;if(gs(Ie),t<Ie.producerNode.length&&Ie.producerNode[t]!==e&&Yo(Ie)){let n=Ie.producerNode[t];ms(n,Ie.producerIndexOfThis[t])}Ie.producerNode[t]!==e&&(Ie.producerNode[t]=e,Ie.producerIndexOfThis[t]=Yo(Ie)?eh(e,Ie,t):0),Ie.producerLastReadVersion[t]=e.version}function Jp(){jc++}function Uc(e){if(!(Yo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===jc)){if(!e.producerMustRecompute(e)&&!hs(e)){Lc(e);return}e.producerRecomputeValue(e),Lc(e)}}function $c(e){if(e.liveConsumerNode===void 0)return;let t=ds;ds=!0;try{for(let n of e.liveConsumerNode)n.dirty||bC(n)}finally{ds=t}}function Hc(){return Ie?.consumerAllowSignalWrites!==!1}function bC(e){e.dirty=!0,$c(e),e.consumerMarkedDirty?.(e)}function Lc(e){e.dirty=!1,e.lastCleanEpoch=jc}function Ko(e){return e&&(e.nextProducerIndex=0),Q(e)}function ps(e,t){if(Q(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Yo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ms(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function hs(e){gs(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Uc(n),r!==n.version))return!0}return!1}function Xo(e){if(gs(e),Yo(e))for(let t=0;t<e.producerNode.length;t++)ms(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function eh(e,t,n){if(th(e),e.liveConsumerNode.length===0&&nh(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=eh(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ms(e,t){if(th(e),e.liveConsumerNode.length===1&&nh(e))for(let r=0;r<e.producerNode.length;r++)ms(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];gs(o),o.producerIndexOfThis[r]=t}}function Yo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function gs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function th(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function nh(e){return e.producerNode!==void 0}function zc(e,t){let n=Object.create(DC);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Uc(n),Qo(n),n.value===fs)throw n.error;return n.value};return r[gt]=n,r}var kc=Symbol("UNSET"),Fc=Symbol("COMPUTING"),fs=Symbol("ERRORED"),DC=R(A({},Hr),{value:kc,dirty:!0,error:null,equal:Vc,kind:"computed",producerMustRecompute(e){return e.value===kc||e.value===Fc},producerRecomputeValue(e){if(e.value===Fc)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Fc;let n=Ko(e),r,o=!1;try{r=e.computation(),Q(null),o=t!==kc&&t!==fs&&r!==fs&&e.equal(t,r)}catch(i){r=fs,e.error=i}finally{ps(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function AC(){throw new Error}var rh=AC;function oh(e){rh(e)}function Gc(e){rh=e}var wC=null;function qc(e,t){let n=Object.create(vs);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(Qo(n),n.value);return r[gt]=n,r}function Jo(e,t){Hc()||oh(e),e.equal(e.value,t)||(e.value=t,xC(e))}function Wc(e,t){Hc()||oh(e),Jo(e,t(e.value))}var vs=R(A({},Hr),{equal:Vc,value:void 0,kind:"signal"});function xC(e){e.version++,Jp(),$c(e),wC?.()}function Zc(e){let t=Q(null);try{return e()}finally{Q(t)}}var Yc;function ei(){return Yc}function pn(e){let t=Yc;return Yc=e,t}var ys=Symbol("NotFound");function z(e){return typeof e=="function"}function zr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _s=zr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ti(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ae=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(i){t=i instanceof _s?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{ih(i)}catch(s){t=t??[],s instanceof _s?t=[...t,...s.errors]:t.push(s)}}if(t)throw new _s(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ih(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ti(n,t)}remove(t){let{_finalizers:n}=this;n&&ti(n,t),t instanceof e&&t._removeParent(this)}};Ae.EMPTY=(()=>{let e=new Ae;return e.closed=!0,e})();var Qc=Ae.EMPTY;function Cs(e){return e instanceof Ae||e&&"closed"in e&&z(e.remove)&&z(e.add)&&z(e.unsubscribe)}function ih(e){z(e)?e():e.unsubscribe()}var It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Gr={setTimeout(e,t,...n){let{delegate:r}=Gr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Gr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Es(e){Gr.setTimeout(()=>{let{onUnhandledError:t}=It;if(t)t(e);else throw e})}function ni(){}var sh=Kc("C",void 0,void 0);function ah(e){return Kc("E",void 0,e)}function lh(e){return Kc("N",e,void 0)}function Kc(e,t,n){return{kind:e,value:t,error:n}}var cr=null;function qr(e){if(It.useDeprecatedSynchronousErrorHandling){let t=!cr;if(t&&(cr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=cr;if(cr=null,n)throw r}}else e()}function ch(e){It.useDeprecatedSynchronousErrorHandling&&cr&&(cr.errorThrown=!0,cr.error=e)}var ur=class extends Ae{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Cs(t)&&t.add(this)):this.destination=NC}static create(t,n,r){return new Wr(t,n,r)}next(t){this.isStopped?Jc(lh(t),this):this._next(t)}error(t){this.isStopped?Jc(ah(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Jc(sh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TC=Function.prototype.bind;function Xc(e,t){return TC.call(e,t)}var eu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){bs(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){bs(r)}else bs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){bs(n)}}},Wr=class extends ur{constructor(t,n,r){super();let o;if(z(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&It.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Xc(t.next,i),error:t.error&&Xc(t.error,i),complete:t.complete&&Xc(t.complete,i)}):o=t}this.destination=new eu(o)}};function bs(e){It.useDeprecatedSynchronousErrorHandling?ch(e):Es(e)}function PC(e){throw e}function Jc(e,t){let{onStoppedNotification:n}=It;n&&Gr.setTimeout(()=>n(e,t))}var NC={closed:!0,next:ni,error:PC,complete:ni};var Zr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dt(e){return e}function tu(...e){return nu(e)}function nu(e){return e.length===0?dt:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var X=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=RC(n)?n:new Wr(n,r,o);return qr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=uh(r),new r((o,i)=>{let s=new Wr({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Zr](){return this}pipe(...n){return nu(n)(this)}toPromise(n){return n=uh(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function uh(e){var t;return(t=e??It.Promise)!==null&&t!==void 0?t:Promise}function OC(e){return e&&z(e.next)&&z(e.error)&&z(e.complete)}function RC(e){return e&&e instanceof ur||OC(e)&&Cs(e)}function ru(e){return z(e?.lift)}function te(e){return t=>{if(ru(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(e,t,n,r,o){return new ou(e,t,n,r,o)}var ou=class extends ur{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Yr(){return te((e,t)=>{let n=null;e._refCount++;let r=K(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Qr=class extends X{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ru(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ae;let n=this.getSubject();t.add(this.source.subscribe(K(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ae.EMPTY)}return t}refCount(){return Yr()(this)}};var dh=zr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=(()=>{class e extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ds(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dh}next(n){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Qc:(this.currentObservers=null,i.push(n),new Ae(()=>{this.currentObservers=null,ti(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return e.create=(t,n)=>new Ds(t,n),e})(),Ds=class extends le{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Qc}};var Be=class extends le{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ke=new X(e=>e.complete());function fh(e){return e&&z(e.schedule)}function ph(e){return e[e.length-1]}function As(e){return z(ph(e))?e.pop():void 0}function Ln(e){return fh(ph(e))?e.pop():void 0}function mh(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(p){try{f(r.next(p))}catch(h){s(h)}}function l(p){try{f(r.throw(p))}catch(h){s(h)}}function f(p){p.done?i(p.value):o(p.value).then(a,l)}f((r=r.apply(e,t||[])).next())})}function hh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dr(e){return this instanceof dr?(this.v=e,this):new dr(e)}function gh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(b){return Promise.resolve(b).then(g,h)}}function a(g,b){r[g]&&(o[g]=function(M){return new Promise(function(P,H){i.push([g,M,P,H])>1||l(g,M)})},b&&(o[g]=b(o[g])))}function l(g,b){try{f(r[g](b))}catch(M){v(i[0][3],M)}}function f(g){g.value instanceof dr?Promise.resolve(g.value.v).then(p,h):v(i[0][2],g)}function p(g){l("next",g)}function h(g){l("throw",g)}function v(g,b){g(b),i.shift(),i.length&&l(i[0][0],i[0][1])}}function vh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof hh=="function"?hh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(f){i({value:f,done:a})},s)}}var ws=e=>e&&typeof e.length=="number"&&typeof e!="function";function xs(e){return z(e?.then)}function Ms(e){return z(e[Zr])}function Ss(e){return Symbol.asyncIterator&&z(e?.[Symbol.asyncIterator])}function Is(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ts=kC();function Ps(e){return z(e?.[Ts])}function Ns(e){return gh(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield dr(n.read());if(o)return yield dr(void 0);yield yield dr(r)}}finally{n.releaseLock()}})}function Os(e){return z(e?.getReader)}function we(e){if(e instanceof X)return e;if(e!=null){if(Ms(e))return FC(e);if(ws(e))return LC(e);if(xs(e))return VC(e);if(Ss(e))return yh(e);if(Ps(e))return jC(e);if(Os(e))return BC(e)}throw Is(e)}function FC(e){return new X(t=>{let n=e[Zr]();if(z(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LC(e){return new X(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function VC(e){return new X(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Es)})}function jC(e){return new X(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function yh(e){return new X(t=>{UC(e,t).catch(n=>t.error(n))})}function BC(e){return yh(Ns(e))}function UC(e,t){var n,r,o,i;return mh(this,void 0,void 0,function*(){try{for(n=vh(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Xe(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Rs(e,t=0){return te((n,r)=>{n.subscribe(K(r,o=>Xe(r,e,()=>r.next(o),t),()=>Xe(r,e,()=>r.complete(),t),o=>Xe(r,e,()=>r.error(o),t)))})}function ks(e,t=0){return te((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function _h(e,t){return we(e).pipe(ks(t),Rs(t))}function Ch(e,t){return we(e).pipe(ks(t),Rs(t))}function Eh(e,t){return new X(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function bh(e,t){return new X(n=>{let r;return Xe(n,t,()=>{r=e[Ts](),Xe(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>z(r?.return)&&r.return()})}function Fs(e,t){if(!e)throw new Error("Iterable cannot be null");return new X(n=>{Xe(n,t,()=>{let r=e[Symbol.asyncIterator]();Xe(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Dh(e,t){return Fs(Ns(e),t)}function Ah(e,t){if(e!=null){if(Ms(e))return _h(e,t);if(ws(e))return Eh(e,t);if(xs(e))return Ch(e,t);if(Ss(e))return Fs(e,t);if(Ps(e))return bh(e,t);if(Os(e))return Dh(e,t)}throw Is(e)}function de(e,t){return t?Ah(e,t):we(e)}function k(...e){let t=Ln(e);return de(e,t)}function Fe(e,t){let n=z(e)?e:()=>e,r=o=>o.error(n());return new X(t?o=>t.schedule(r,0,o):r)}function iu(e){return!!e&&(e instanceof X||z(e.lift)&&z(e.subscribe))}var Tt=zr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ri(e,t){let n=typeof t=="object";return new Promise((r,o)=>{let i=!1,s;e.subscribe({next:a=>{s=a,i=!0},error:o,complete:()=>{i?r(s):n?r(t.defaultValue):o(new Tt)}})})}function G(e,t){return te((n,r)=>{let o=0;n.subscribe(K(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:$C}=Array;function HC(e,t){return $C(t)?e(...t):e(t)}function Ls(e){return G(t=>HC(e,t))}var{isArray:zC}=Array,{getPrototypeOf:GC,prototype:qC,keys:WC}=Object;function Vs(e){if(e.length===1){let t=e[0];if(zC(t))return{args:t,keys:null};if(ZC(t)){let n=WC(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ZC(e){return e&&typeof e=="object"&&GC(e)===qC}function js(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function oi(...e){let t=Ln(e),n=As(e),{args:r,keys:o}=Vs(e);if(r.length===0)return de([],t);let i=new X(YC(r,t,o?s=>js(o,s):dt));return n?i.pipe(Ls(n)):i}function YC(e,t,n=dt){return r=>{wh(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let l=0;l<o;l++)wh(t,()=>{let f=de(e[l],t),p=!1;f.subscribe(K(r,h=>{i[l]=h,p||(p=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wh(e,t,n){e?Xe(n,e,t):t()}function xh(e,t,n,r,o,i,s,a){let l=[],f=0,p=0,h=!1,v=()=>{h&&!l.length&&!f&&t.complete()},g=M=>f<r?b(M):l.push(M),b=M=>{i&&t.next(M),f++;let P=!1;we(n(M,p++)).subscribe(K(t,H=>{o?.(H),i?g(H):t.next(H)},()=>{P=!0},void 0,()=>{if(P)try{for(f--;l.length&&f<r;){let H=l.shift();s?Xe(t,s,()=>b(H)):b(H)}v()}catch(H){t.error(H)}}))};return e.subscribe(K(t,g,()=>{h=!0,v()})),()=>{a?.()}}function be(e,t,n=1/0){return z(t)?be((r,o)=>G((i,s)=>t(r,i,o,s))(we(e(r,o))),n):(typeof t=="number"&&(n=t),te((r,o)=>xh(r,o,e,n)))}function Kr(e=1/0){return be(dt,e)}function Mh(){return Kr(1)}function Xr(...e){return Mh()(de(e,Ln(e)))}function Bs(e){return new X(t=>{we(e()).subscribe(t)})}function su(...e){let t=As(e),{args:n,keys:r}=Vs(e),o=new X(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),l=s,f=s;for(let p=0;p<s;p++){let h=!1;we(n[p]).subscribe(K(i,v=>{h||(h=!0,f--),a[p]=v},()=>l--,void 0,()=>{(!l||!h)&&(f||i.next(r?js(r,a):a),i.complete())}))}});return t?o.pipe(Ls(t)):o}function We(e,t){return te((n,r)=>{let o=0;n.subscribe(K(r,i=>e.call(t,i,o++)&&r.next(i)))})}function se(e){return te((t,n)=>{let r=null,o=!1,i;r=t.subscribe(K(n,void 0,void 0,s=>{i=we(e(s,se(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Sh(e,t,n,r,o){return(i,s)=>{let a=n,l=t,f=0;i.subscribe(K(s,p=>{let h=f++;l=a?e(l,p,h):(a=!0,p),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function zt(e,t){return z(t)?be(e,t,1):be(e,1)}function Vn(e){return te((t,n)=>{let r=!1;t.subscribe(K(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function hn(e){return e<=0?()=>Ke:te((t,n)=>{let r=0;t.subscribe(K(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Us(e=QC){return te((t,n)=>{let r=!1;t.subscribe(K(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function QC(){return new Tt}function mn(e){return te((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function gn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?We((o,i)=>e(o,i,r)):dt,hn(1),n?Vn(t):Us(()=>new Tt))}function Jr(e){return e<=0?()=>Ke:te((t,n)=>{let r=[];t.subscribe(K(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function au(e,t){let n=arguments.length>=2;return r=>r.pipe(e?We((o,i)=>e(o,i,r)):dt,Jr(1),n?Vn(t):Us(()=>new Tt))}function lu(e,t){return te(Sh(e,t,arguments.length>=2,!0))}function cu(...e){let t=Ln(e);return te((n,r)=>{(t?Xr(e,n,t):Xr(e,n)).subscribe(r)})}function Je(e,t){return te((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(K(r,l=>{o?.unsubscribe();let f=0,p=i++;we(e(l,p)).subscribe(o=K(r,h=>r.next(t?t(l,h,p,f++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function jn(e){return te((t,n)=>{we(e).subscribe(K(n,()=>n.complete(),ni)),!n.closed&&t.subscribe(n)})}function Te(e,t,n){let r=z(e)||t||n?{next:e,error:t,complete:n}:e;return r?te((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(K(i,l=>{var f;(f=r.next)===null||f===void 0||f.call(r,l),i.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var f;a=!1,(f=r.error)===null||f===void 0||f.call(r,l),i.error(l)},()=>{var l,f;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):dt}var hu={JSACTION:"jsaction"},mu={JSACTION:"__jsaction",OWNER:"__owner"},Nh={};function KC(e){return e[mu.JSACTION]}function Ih(e,t){e[mu.JSACTION]=t}function XC(e){return Nh[e]}function JC(e,t){Nh[e]=t}var V={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},eE=[V.MOUSEENTER,V.MOUSELEAVE,"pointerenter","pointerleave"],R2=[V.CLICK,V.DBLCLICK,V.FOCUSIN,V.FOCUSOUT,V.KEYDOWN,V.KEYUP,V.KEYPRESS,V.MOUSEOVER,V.MOUSEOUT,V.SUBMIT,V.TOUCHSTART,V.TOUCHEND,V.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],tE=[V.FOCUS,V.BLUR,V.ERROR,V.LOAD,V.TOGGLE],gu=e=>tE.indexOf(e)>=0;function nE(e){return e===V.MOUSEENTER?V.MOUSEOVER:e===V.MOUSELEAVE?V.MOUSEOUT:e===V.POINTERENTER?V.POINTEROVER:e===V.POINTERLEAVE?V.POINTEROUT:e}function rE(e,t,n,r){let o=!1;gu(t)&&(o=!0);let i=typeof r=="boolean"?{capture:o,passive:r}:o;return e.addEventListener(t,n,i),{eventType:t,handler:n,capture:o,passive:r}}function oE(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function iE(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var Th=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function sE(e){return e.which===2||e.which==null&&e.button===4}function aE(e){return Th&&e.metaKey||!Th&&e.ctrlKey||sE(e)||e.shiftKey}function lE(e,t,n){let r=e.relatedTarget;return(e.type===V.MOUSEOVER&&t===V.MOUSEENTER||e.type===V.MOUSEOUT&&t===V.MOUSELEAVE||e.type===V.POINTEROVER&&t===V.POINTERENTER||e.type===V.POINTEROUT&&t===V.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function cE(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let o=r,i=e[o];typeof i!="function"&&(n[o]=i)}return e.type===V.MOUSEOVER?n.type=V.MOUSEENTER:e.type===V.MOUSEOUT?n.type=V.MOUSELEAVE:e.type===V.POINTEROVER?n.type=V.POINTERENTER:n.type=V.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var uE=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Gs=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){uE&&(this.element.style.cursor="pointer"),this.handlerInfos.push(rE(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)oE(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},dE={EVENT_ACTION_SEPARATOR:":"};function Bn(e){return e.eventType}function vu(e,t){e.eventType=t}function Hs(e){return e.event}function Oh(e,t){e.event=t}function Rh(e){return e.targetElement}function kh(e,t){e.targetElement=t}function Fh(e){return e.eic}function fE(e,t){e.eic=t}function pE(e){return e.timeStamp}function hE(e,t){e.timeStamp=t}function zs(e){return e.eia}function Lh(e,t,n){e.eia=[t,n]}function uu(e){e.eia=void 0}function $s(e){return e[1]}function mE(e){return e.eirp}function Vh(e,t){e.eirp=t}function jh(e){return e.eir}function Bh(e,t){e.eir=t}function Uh(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function gE(e,t,n,r,o,i,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:o,eia:i,eirp:s,eiack:a}}var du=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return Bn(this.eventInfo)}setEventType(t){vu(this.eventInfo,t)}getEvent(){return Hs(this.eventInfo)}setEvent(t){Oh(this.eventInfo,t)}getTargetElement(){return Rh(this.eventInfo)}setTargetElement(t){kh(this.eventInfo,t)}getContainer(){return Fh(this.eventInfo)}setContainer(t){fE(this.eventInfo,t)}getTimestamp(){return pE(this.eventInfo)}setTimestamp(t){hE(this.eventInfo,t)}getAction(){let t=zs(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){uu(this.eventInfo);return}Lh(this.eventInfo,t.name,t.element)}getIsReplay(){return mE(this.eventInfo)}setIsReplay(t){Vh(this.eventInfo,t)}getResolved(){return jh(this.eventInfo)}setResolved(t){Bh(this.eventInfo,t)}clone(){return new e(Uh(this.eventInfo))}},vE={},yE=/\s*;\s*/,_E=V.CLICK,fu=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&Bn(t)===V.CLICK&&aE(Hs(t))?vu(t,V.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){jh(t)||(this.populateAction(t,Rh(t)),Bh(t,!0))}resolveParentAction(t){let n=zs(t),r=n&&$s(n);uu(t);let o=r&&this.getParentNode(r);o&&this.populateAction(t,o)}populateAction(t,n){let r=n;for(;r&&r!==Fh(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!zs(t));)r=this.getParentNode(r);let o=zs(t);if(o&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(Bn(t)===V.MOUSEENTER||Bn(t)===V.MOUSELEAVE||Bn(t)===V.POINTERENTER||Bn(t)===V.POINTERLEAVE)))if(lE(Hs(t),Bn(t),$s(o))){let i=cE(Hs(t),$s(o));Oh(t,i),kh(t,$s(o))}else uu(t)}getParentNode(t){let n=t[mu.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),o=r[Bn(n)];o!==void 0&&Lh(n,o,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=KC(t);if(!n){let r=t.getAttribute(hu.JSACTION);if(!r)n=vE,Ih(t,n);else{if(n=XC(r),!n){n={};let o=r.split(yE);for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let a=s.indexOf(dE.EVENT_ACTION_SEPARATOR),l=a!==-1,f=l?s.substr(0,a).trim():_E,p=l?s.substr(a+1).trim():s;n[f]=p}JC(r,n)}Ih(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},$h=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}($h||{}),pu=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new du(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&CE(r.element,n)&&iE(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function CE(e,t){return e.tagName==="A"&&(t.getEventType()===V.CLICK||t.getEventType()===V.CLICKMOD)}var Hh=Symbol.for("propagationStopped"),yu={REPLAY:101};var EE="`preventDefault` called during event replay.";var bE="`composedPath` called during event replay.",qs=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new fu({clickModSupport:n}),this.dispatcher=new pu(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&wE(t),DE(t);t.getAction();){if(xE(t),gu(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),AE(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function DE(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[Hh]=!0,n()};fr(t,"stopPropagation",r),fr(t,"stopImmediatePropagation",r)}function AE(e){return!!e.getEvent()[Hh]}function wE(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);fr(t,"target",n),fr(t,"eventPhase",yu.REPLAY),fr(t,"preventDefault",()=>{throw r(),new Error(EE+"")}),fr(t,"composedPath",()=>{throw new Error(bE+"")})}function xE(e){let t=e.getEvent(),n=e.getAction()?.element;n&&fr(t,"currentTarget",n,{configurable:!0})}function fr(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function zh(e,t){e.ecrd(n=>{t.dispatch(n)},$h.I_AM_THE_JSACTION_FRAMEWORK)}function ME(e){return e?.q??[]}function SE(e){e&&(Ph(e.c,e.et,e.h),Ph(e.c,e.etc,e.h,!0))}function Ph(e,t,n,r){for(let o=0;o<t.length;o++)e.removeEventListener(t[o],n,r)}var IE=!1,Gh=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=IE;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,o){let i=gE(n,r,r.target,o,Date.now());this.handleEventInfo(i)}handleEventInfo(n){if(!this.dispatcher){Vh(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,o){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&eE.indexOf(n)>=0)return;let i=(a,l,f)=>{this.handleEvent(a,l,f)};this.eventHandlers[n]=i;let s=nE(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{i(n,l,a)},o)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),SE(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let o=n[r],i=this.getEventTypesForBrowserEventType(o.eventType);for(let s=0;s<i.length;s++){let a=Uh(o);vu(a,i[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let o=0;o<this.queuedEventInfos.length;o++)this.handleEventInfo(this.queuedEventInfos[o]);this.queuedEventInfos=null}}}return e})();function qh(e,t=window){return ME(t._ejsas?.[e])}function _u(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var zm="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(t,n){super(Na(t,n)),this.code=t}};function TE(e){return`NG0${Math.abs(e)}`}function Na(e,t){return`${TE(e)}${t?": "+t:""}`}var Gm=Symbol("InputSignalNode#UNSET"),PE=R(A({},vs),{transformFn:void 0,applyValueToInputSignal(e,t){Jo(e,t)}});function qm(e,t){let n=Object.create(PE);n.value=e,n.transformFn=t?.transform;function r(){if(Qo(n),n.value===Gm){let o=null;throw new I(-950,o)}return n.value}return r[gt]=n,r}function vi(e){return{toString:e}.toString()}var Ws="__parameters__";function NE(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function Wm(e,t,n){return vi(()=>{let r=NE(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(l,f,p){let h=l.hasOwnProperty(Ws)?l[Ws]:Object.defineProperty(l,Ws,{value:[]})[Ws];for(;h.length<=p;)h.push(null);return(h[p]=h[p]||[]).push(s),l}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var Un=globalThis;function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function OE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function tt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(tt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Wh(e,t){return e?t?`${e} ${t}`:e:t||""}var RE=ce({__forward_ref__:ce});function Dn(e){return e.__forward_ref__=Dn,e.toString=function(){return tt(this())},e}function Ze(e){return Zm(e)?e():e}function Zm(e){return typeof e=="function"&&e.hasOwnProperty(RE)&&e.__forward_ref__===Dn}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ct(e){return{providers:e.providers||[],imports:e.imports||[]}}function Oa(e){return Zh(e,Qm)||Zh(e,Km)}function Ym(e){return Oa(e)!==null}function Zh(e,t){return e.hasOwnProperty(t)?e[t]:null}function kE(e){let t=e&&(e[Qm]||e[Km]);return t||null}function Yh(e){return e&&(e.hasOwnProperty(Qh)||e.hasOwnProperty(FE))?e[Qh]:null}var Qm=ce({\u0275prov:ce}),Qh=ce({\u0275inj:ce}),Km=ce({ngInjectableDef:ce}),FE=ce({ngInjectorDef:ce}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xm(e){return e&&!!e.\u0275providers}var LE=ce({\u0275cmp:ce}),VE=ce({\u0275dir:ce}),jE=ce({\u0275pipe:ce}),BE=ce({\u0275mod:ce}),sa=ce({\u0275fac:ce}),li=ce({__NG_ELEMENT_ID__:ce}),Kh=ce({__NG_ENV_ID__:ce});function co(e){return typeof e=="string"?e:e==null?"":String(e)}function UE(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():co(e)}function Jm(e,t){throw new I(-200,e)}function Od(e,t){throw new I(-201,!1)}var W=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(W||{}),Vu;function eg(){return Vu}function et(e){let t=Vu;return Vu=e,t}function tg(e,t,n){let r=Oa(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&W.Optional)return null;if(t!==void 0)return t;Od(e,"Injector")}var $E={},hr=$E,ju="__NG_DI_FLAG__",aa=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?ys:hr,r)}},la="ngTempTokenPath",HE="ngTokenPath",zE=/\n/gm,GE="\u0275",Xh="__source";function qE(e,t=W.Default){if(ei()===void 0)throw new I(-203,!1);if(ei()===null)return tg(e,void 0,t);{let n=ei(),r;return n instanceof aa?r=n.injector:r=n,r.get(e,t&W.Optional?null:void 0,t)}}function O(e,t=W.Default){return(eg()||qE)(Ze(e),t)}function E(e,t=W.Default){return O(e,Ra(t))}function Ra(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bu(e){let t=[];for(let n=0;n<e.length;n++){let r=Ze(e[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let o,i=W.Default;for(let s=0;s<r.length;s++){let a=r[s],l=WE(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}t.push(O(o,i))}else t.push(O(r))}return t}function ng(e,t){return e[ju]=t,e.prototype[ju]=t,e}function WE(e){return e[ju]}function ZE(e,t,n,r){let o=e[la];throw t[Xh]&&o.unshift(t[Xh]),e.message=YE(`
`+e.message,o,n,r),e[HE]=o,e[la]=null,e}function YE(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==GE?e.slice(2):e;let o=tt(t);if(Array.isArray(t))o=t.map(tt).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):tt(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(zE,`
  `)}`}var rg=ng(Wm("Optional"),8);var QE=ng(Wm("SkipSelf"),4);function gr(e,t){let n=e.hasOwnProperty(sa);return n?e[sa]:null}function KE(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function XE(e){return e.flat(Number.POSITIVE_INFINITY)}function Rd(e,t){e.forEach(n=>Array.isArray(n)?Rd(n,t):t(n))}function og(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ca(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function JE(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function eb(e,t,n){let r=yi(e,t);return r>=0?e[r|1]=n:(r=~r,JE(e,r,t,n)),r}function Cu(e,t){let n=yi(e,t);if(n>=0)return e[n|1]}function yi(e,t){return tb(e,t,1)}function tb(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var vr={},vt=[],Hn=new S(""),ig=new S("",-1),sg=new S(""),ua=class{get(t,n=hr){if(n===hr){let r=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw r.name="NullInjectorError",r}return n}};function ag(e,t){let n=e[BE]||null;if(!n&&t===!0)throw new Error(`Type ${tt(e)} does not have '\u0275mod' property.`);return n}function zn(e){return e[LE]||null}function lg(e){return e[VE]||null}function cg(e){return e[jE]||null}function An(e){return{\u0275providers:e}}function nb(...e){return{\u0275providers:kd(!0,e),\u0275fromNgModule:!0}}function kd(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Rd(t,s=>{let a=s;Uu(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&ug(o,i),n}function ug(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Fd(o,i=>{t(i,r)})}}function Uu(e,t,n,r){if(e=Ze(e),!e)return!1;let o=null,i=Yh(e),s=!i&&zn(e);if(!i&&!s){let l=e.ngModule;if(i=Yh(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let f of l)Uu(f,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let f;try{Rd(i.imports,p=>{Uu(p,t,n,r)&&(f||=[],f.push(p))})}finally{}f!==void 0&&ug(f,t)}if(!a){let f=gr(o)||(()=>new o);t({provide:o,useFactory:f,deps:vt},o),t({provide:sg,useValue:o,multi:!0},o),t({provide:Hn,useValue:()=>O(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let f=e;Fd(l,p=>{t(p,f)})}}else return!1;return o!==e&&e.providers!==void 0}function Fd(e,t){for(let n of e)Xm(n)&&(n=n.\u0275providers),Array.isArray(n)?Fd(n,t):t(n)}var rb=ce({provide:String,useValue:ce});function dg(e){return e!==null&&typeof e=="object"&&rb in e}function ob(e){return!!(e&&e.useExisting)}function ib(e){return!!(e&&e.useFactory)}function uo(e){return typeof e=="function"}function sb(e){return!!e.useClass}var ka=new S(""),Xs={},Jh={},Eu;function Ld(){return Eu===void 0&&(Eu=new ua),Eu}var Ue=class{},ci=class extends Ue{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Hu(t,s=>this.processProvider(s)),this.records.set(ig,eo(void 0,this)),o.has("environment")&&this.records.set(Ue,eo(void 0,this));let i=this.records.get(ka);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(sg,vt,W.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?ys:hr,r)}destroy(){si(this),this._destroyed=!0;let t=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(t)}}onDestroy(t){return si(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){si(this);let n=pn(this),r=et(void 0),o;try{return t()}finally{pn(n),et(r)}}get(t,n=hr,r=W.Default){if(si(this),t.hasOwnProperty(Kh))return t[Kh](this);r=Ra(r);let o,i=pn(this),s=et(void 0);try{if(!(r&W.SkipSelf)){let l=this.records.get(t);if(l===void 0){let f=db(t)&&Oa(t);f&&this.injectableDefInScope(f)?l=eo($u(t),Xs):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&W.Self?Ld():this.parent;return n=r&W.Optional&&n===hr?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[la]=a[la]||[]).unshift(tt(t)),i)throw a;return ZE(a,t,"R3InjectorError",this.source)}else throw a}finally{et(s),pn(i)}}resolveInjectorInitializers(){let t=Q(null),n=pn(this),r=et(void 0),o;try{let i=this.get(Hn,vt,W.Self);for(let s of i)s()}finally{pn(n),et(r),Q(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(tt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ze(t);let n=uo(t)?t:Ze(t&&t.provide),r=lb(t);if(!uo(t)&&t.multi===!0){let o=this.records.get(n);o||(o=eo(void 0,Xs,!0),o.factory=()=>Bu(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=Q(null);try{return n.value===Jh?Jm(tt(t)):n.value===Xs&&(n.value=Jh,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&ub(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ze(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $u(e){let t=Oa(e),n=t!==null?t.factory:gr(e);if(n!==null)return n;if(e instanceof S)throw new I(204,!1);if(e instanceof Function)return ab(e);throw new I(204,!1)}function ab(e){if(e.length>0)throw new I(204,!1);let n=kE(e);return n!==null?()=>n.factory(e):()=>new e}function lb(e){if(dg(e))return eo(void 0,e.useValue);{let t=fg(e);return eo(t,Xs)}}function fg(e,t,n){let r;if(uo(e)){let o=Ze(e);return gr(o)||$u(o)}else if(dg(e))r=()=>Ze(e.useValue);else if(ib(e))r=()=>e.useFactory(...Bu(e.deps||[]));else if(ob(e))r=(o,i)=>O(Ze(e.useExisting),i!==void 0&&i&W.Optional?W.Optional:void 0);else{let o=Ze(e&&(e.useClass||e.provide));if(cb(e))r=()=>new o(...Bu(e.deps));else return gr(o)||$u(o)}return r}function si(e){if(e.destroyed)throw new I(205,!1)}function eo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function cb(e){return!!e.deps}function ub(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function db(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function Hu(e,t){for(let n of e)Array.isArray(n)?Hu(n,t):n&&Xm(n)?Hu(n.\u0275providers,t):t(n)}function it(e,t){let n;e instanceof ci?(si(e),n=e):n=new aa(e);let r,o=pn(n),i=et(void 0);try{return t()}finally{pn(o),et(i)}}function pg(){return eg()!==void 0||ei()!=null}function Vd(e){if(!pg())throw new I(-203,!1)}function fb(e){return typeof e=="function"}var pt=0,j=1,$=2,Ne=3,Nt=4,kt=5,qt=6,da=7,rt=8,Wt=9,yn=10,me=11,ui=12,em=13,_o=14,_t=15,yr=16,to=17,_n=18,Fa=19,hg=20,$n=21,bu=22,_r=23,yt=24,io=25,ye=26,mg=1,Cn=6,En=7,fa=8,fo=9,nt=10;function Ot(e){return Array.isArray(e)&&typeof e[mg]=="object"}function Jt(e){return Array.isArray(e)&&e[mg]===!0}function jd(e){return(e.flags&4)!==0}function wr(e){return e.componentOffset>-1}function La(e){return(e.flags&1)===1}function Zt(e){return!!e.template}function di(e){return(e[$]&512)!==0}function xr(e){return(e[$]&256)===256}var zu=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function gg(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var qn=(()=>{let e=()=>vg;return e.ngInherit=!0,e})();function vg(e){return e.type.prototype.ngOnChanges&&(e.setInput=hb),pb}function pb(){let e=_g(this),t=e?.current;if(t){let n=e.previous;if(n===vr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function hb(e,t,n,r,o){let i=this.declaredInputs[r],s=_g(e)||mb(e,{previous:vr,current:null}),a=s.current||(s.current={}),l=s.previous,f=l[i];a[i]=new zu(f&&f.currentValue,n,l===vr),gg(e,t,o,n)}var yg="__ngSimpleChanges__";function _g(e){return e[yg]||null}function mb(e,t){return e[yg]=t}var tm=null;var ie=function(e,t=null,n){tm?.(e,t,n)},gb="svg",vb="math";function Rt(e){for(;Array.isArray(e);)e=e[pt];return e}function Cg(e,t){return Rt(t[e])}function Ft(e,t){return Rt(t[e.index])}function Va(e,t){return e.data[t]}function ja(e,t){return e[t]}function Yt(e,t){let n=t[e];return Ot(n)?n:n[pt]}function yb(e){return(e[$]&4)===4}function Bd(e){return(e[$]&128)===128}function _b(e){return Jt(e[Ne])}function po(e,t){return t==null?null:e[t]}function Eg(e){e[to]=0}function bg(e){e[$]&1024||(e[$]|=1024,Bd(e)&&Co(e))}function Cb(e,t){for(;e>0;)t=t[_o],e--;return t}function Ba(e){return!!(e[$]&9216||e[yt]?.dirty)}function Gu(e){e[yn].changeDetectionScheduler?.notify(8),e[$]&64&&(e[$]|=1024),Ba(e)&&Co(e)}function Co(e){e[yn].changeDetectionScheduler?.notify(0);let t=Cr(e);for(;t!==null&&!(t[$]&8192||(t[$]|=8192,!Bd(t)));)t=Cr(t)}function Dg(e,t){if(xr(e))throw new I(911,!1);e[$n]===null&&(e[$n]=[]),e[$n].push(t)}function Eb(e,t){if(e[$n]===null)return;let n=e[$n].indexOf(t);n!==-1&&e[$n].splice(n,1)}function Cr(e){let t=e[Ne];return Jt(t)?t[Ne]:t}function Ud(e){return e[da]??=[]}function $d(e){return e.cleanup??=[]}function bb(e,t,n,r){let o=Ud(t);o.push(n),e.firstCreatePass&&$d(e).push(r,o.length-1)}var Z={lFrame:Pg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qu=!1;function Db(){return Z.lFrame.elementDepthCount}function Ab(){Z.lFrame.elementDepthCount++}function wb(){Z.lFrame.elementDepthCount--}function Hd(){return Z.bindingsEnabled}function _i(){return Z.skipHydrationRootTNode!==null}function xb(e){return Z.skipHydrationRootTNode===e}function Mb(e){Z.skipHydrationRootTNode=e}function Sb(){Z.skipHydrationRootTNode=null}function Y(){return Z.lFrame.lView}function Le(){return Z.lFrame.tView}function w(e){return Z.lFrame.contextLView=e,e[rt]}function x(e){return Z.lFrame.contextLView=null,e}function Qe(){let e=Ag();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ag(){return Z.lFrame.currentTNode}function Ib(){let e=Z.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Mr(e,t){let n=Z.lFrame;n.currentTNode=e,n.isParent=t}function zd(){return Z.lFrame.isParent}function wg(){Z.lFrame.isParent=!1}function Tb(){return Z.lFrame.contextLView}function xg(){return qu}function pa(e){let t=qu;return qu=e,t}function Sr(){let e=Z.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Pb(){return Z.lFrame.bindingIndex}function Nb(e){return Z.lFrame.bindingIndex=e}function Ua(){return Z.lFrame.bindingIndex++}function Mg(e){let t=Z.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ob(){return Z.lFrame.inI18n}function Rb(e,t){let n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=e,Wu(t)}function kb(){return Z.lFrame.currentDirectiveIndex}function Wu(e){Z.lFrame.currentDirectiveIndex=e}function Fb(e){let t=Z.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Sg(){return Z.lFrame.currentQueryIndex}function Gd(e){Z.lFrame.currentQueryIndex=e}function Lb(e){let t=e[j];return t.type===2?t.declTNode:t.type===1?e[kt]:null}function Ig(e,t,n){if(n&W.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&W.Host);)if(o=Lb(i),o===null||(i=i[_o],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=Z.lFrame=Tg();return r.currentTNode=t,r.lView=e,!0}function qd(e){let t=Tg(),n=e[j];Z.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Tg(){let e=Z.lFrame,t=e===null?null:e.child;return t===null?Pg(e):t}function Pg(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Ng(){let e=Z.lFrame;return Z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Og=Ng;function Wd(){let e=Ng();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vb(e){return(Z.lFrame.contextLView=Cb(e,Z.lFrame.contextLView))[rt]}function Ir(){return Z.lFrame.selectedIndex}function Er(e){Z.lFrame.selectedIndex=e}function Zd(){let e=Z.lFrame;return Va(e.tView,e.selectedIndex)}function Rg(){return Z.lFrame.currentNamespace}var kg=!0;function $a(){return kg}function Wn(e){kg=e}function jb(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=vg(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function Yd(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:f,ngOnDestroy:p}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),f&&((e.viewHooks??=[]).push(n,f),(e.viewCheckHooks??=[]).push(n,f)),p!=null&&(e.destroyHooks??=[]).push(n,p)}}function Js(e,t,n){Fg(e,t,3,n)}function ea(e,t,n,r){(e[$]&3)===n&&Fg(e,t,n,r)}function Du(e,t){let n=e[$];(n&3)===t&&(n&=16383,n+=1,e[$]=n)}function Fg(e,t,n,r){let o=r!==void 0?e[to]&65535:0,i=r??-1,s=t.length-1,a=0;for(let l=o;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[to]+=65536),(a<i||i==-1)&&(Bb(e,n,t,l),e[to]=(e[to]&4294901760)+l+2),l++}function nm(e,t){ie(4,e,t);let n=Q(null);try{t.call(e)}finally{Q(n),ie(5,e,t)}}function Bb(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[$]>>14<e[to]>>16&&(e[$]&3)===t&&(e[$]+=16384,nm(a,i)):nm(a,i)}var so=-1,br=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function Ub(e){return(e.flags&8)!==0}function $b(e){return(e.flags&16)!==0}function Hb(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];zb(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Lg(e){return e===3||e===4||e===6}function zb(e){return e.charCodeAt(0)===64}function ho(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?rm(e,n,o,null,t[++r]):rm(e,n,o,null,null))}}return e}function rm(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function Vg(e){return e!==so}function ha(e){return e&32767}function Gb(e){return e>>16}function ma(e,t){let n=Gb(e),r=t;for(;n>0;)r=r[_o],n--;return r}var Zu=!0;function ga(e){let t=Zu;return Zu=e,t}var qb=256,jg=qb-1,Bg=5,Wb=0,Gt={};function Zb(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(li)&&(r=n[li]),r==null&&(r=n[li]=Wb++);let o=r&jg,i=1<<o;t.data[e+(o>>Bg)]|=i}function va(e,t){let n=Ug(e,t);if(n!==-1)return n;let r=t[j];r.firstCreatePass&&(e.injectorIndex=t.length,Au(r.data,e),Au(t,null),Au(r.blueprint,null));let o=Qd(e,t),i=e.injectorIndex;if(Vg(o)){let s=ha(o),a=ma(o,t),l=a[j].data;for(let f=0;f<8;f++)t[i+f]=a[s+f]|l[s+f]}return t[i+8]=o,i}function Au(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ug(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Qd(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=qg(o),r===null)return so;if(n++,o=o[_o],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return so}function Yu(e,t,n){Zb(e,t,n)}function Yb(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(Lg(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function $g(e,t,n){if(n&W.Optional||e!==void 0)return e;Od(t,"NodeInjector")}function Hg(e,t,n,r){if(n&W.Optional&&r===void 0&&(r=null),(n&(W.Self|W.Host))===0){let o=e[Wt],i=et(void 0);try{return o?o.get(t,r,n&W.Optional):tg(t,r,n&W.Optional)}finally{et(i)}}return $g(r,t,n)}function zg(e,t,n,r=W.Default,o){if(e!==null){if(t[$]&2048&&!(r&W.Self)){let s=Jb(e,t,n,r,Gt);if(s!==Gt)return s}let i=Gg(e,t,n,r,Gt);if(i!==Gt)return i}return Hg(t,n,r,o)}function Gg(e,t,n,r,o){let i=Kb(n);if(typeof i=="function"){if(!Ig(t,e,r))return r&W.Host?$g(o,n,r):Hg(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&W.Optional))Od(n);else return s}finally{Og()}}else if(typeof i=="number"){let s=null,a=Ug(e,t),l=so,f=r&W.Host?t[_t][kt]:null;for((a===-1||r&W.SkipSelf)&&(l=a===-1?Qd(e,t):t[a+8],l===so||!im(r,!1)?a=-1:(s=t[j],a=ha(l),t=ma(l,t)));a!==-1;){let p=t[j];if(om(i,a,p.data)){let h=Qb(a,t,n,s,r,f);if(h!==Gt)return h}l=t[a+8],l!==so&&im(r,t[j].data[a+8]===f)&&om(i,a,t)?(s=p,a=ha(l),t=ma(l,t)):a=-1}}return o}function Qb(e,t,n,r,o,i){let s=t[j],a=s.data[e+8],l=r==null?wr(a)&&Zu:r!=s&&(a.type&3)!==0,f=o&W.Host&&i===a,p=ta(a,s,n,l,f);return p!==null?fi(t,s,p,a,o):Gt}function ta(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,l=e.directiveStart,f=e.directiveEnd,p=i>>20,h=r?a:a+p,v=o?a+p:f;for(let g=h;g<v;g++){let b=s[g];if(g<l&&n===b||g>=l&&b.type===n)return g}if(o){let g=s[l];if(g&&Zt(g)&&g.type===n)return l}return null}function fi(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof br){let a=i;a.resolving&&Jm(UE(s[n]));let l=ga(a.canSeeViewProviders);a.resolving=!0;let f,p=a.injectImpl?et(a.injectImpl):null,h=Ig(e,r,W.Default);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&jb(n,s[n],t)}finally{p!==null&&et(p),ga(l),a.resolving=!1,Og()}}return i}function Kb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(li)?e[li]:void 0;return typeof t=="number"?t>=0?t&jg:Xb:t}function om(e,t,n){let r=1<<e;return!!(n[t+(e>>Bg)]&r)}function im(e,t){return!(e&W.Self)&&!(e&W.Host&&t)}var mr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return zg(this._tNode,this._lView,t,Ra(r),n)}};function Xb(){return new mr(Qe(),Y())}function Zn(e){return vi(()=>{let t=e.prototype.constructor,n=t[sa]||Qu(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[sa]||Qu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Qu(e){return Zm(e)?()=>{let t=Qu(Ze(e));return t&&t()}:gr(e)}function Jb(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[$]&2048&&!di(s);){let a=Gg(i,s,n,r|W.Self,Gt);if(a!==Gt)return a;let l=i.parent;if(!l){let f=s[hg];if(f){let p=f.get(n,Gt,r);if(p!==Gt)return p}l=qg(s),s=s[_o]}i=l}return o}function qg(e){let t=e[j],n=t.type;return n===2?t.declTNode:n===1?e[kt]:null}function Kd(e){return Yb(Qe(),e)}function sm(e,t=null,n=null,r){let o=Wg(e,t,n,r);return o.resolveInjectorInitializers(),o}function Wg(e,t=null,n=null,r,o=new Set){let i=[n||vt,nb(e)];return r=r||(typeof e=="object"?void 0:tt(e)),new ci(i,t||Ld(),r||null,o)}var Ye=class e{static THROW_IF_NOT_FOUND=hr;static NULL=new ua;static create(t,n){if(Array.isArray(t))return sm({name:""},n,t,"");{let r=t.name??"";return sm({name:r},t.parent,t.providers,r)}}static \u0275prov=T({token:e,providedIn:"any",factory:()=>O(ig)});static __NG_ELEMENT_ID__=-1};var eD=new S("");eD.__NG_ELEMENT_ID__=e=>{let t=Qe();if(t===null)throw new I(204,!1);if(t.type&2)return t.value;if(e&W.Optional)return null;throw new I(204,!1)};var Zg=!1,Eo=(()=>{class e{static __NG_ELEMENT_ID__=tD;static __NG_ENV_ID__=n=>n}return e})(),ya=class extends Eo{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return xr(n)?(t(),()=>{}):(Dg(n,t),()=>Eb(n,t))}};function tD(){return new ya(Y())}var Gn=class{},Ha=new S("",{providedIn:"root",factory:()=>!1});var Yg=new S(""),Qg=new S(""),en=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Be(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),nD=(()=>{class e{internalPendingTasks=E(en);scheduler=E(Gn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return L(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ku=class extends le{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,pg()&&(this.destroyRef=E(Eo,{optional:!0})??void 0,this.pendingTasks=E(en,{optional:!0})??void 0)}emit(t){let n=Q(null);try{super.next(t)}finally{Q(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof Ae&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},he=Ku;function pi(...e){}function Kg(e){let t,n;function r(){e=pi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function am(e){return queueMicrotask(()=>e()),()=>{e=pi}}var Xd="isAngularZone",_a=Xd+"_ID",rD=0,ve=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new he(!1);onMicrotaskEmpty=new he(!1);onStable=new he(!1);onError=new he(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Zg}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,sD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Xd)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,oD,pi,pi);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},oD={};function Jd(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function iD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Kg(()=>{e.callbackScheduled=!1,Xu(e),e.isCheckStableRunning=!0,Jd(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Xu(e)}function sD(e){let t=()=>{iD(e)},n=rD++;e._inner=e._inner.fork({name:"angular",properties:{[Xd]:!0,[_a]:n,[_a+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(aD(l))return r.invokeTask(i,s,a,l);try{return lm(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),cm(e)}},onInvoke:(r,o,i,s,a,l,f)=>{try{return lm(e),r.invoke(i,s,a,l,f)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!lD(l)&&t(),cm(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Xu(e),Jd(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Xu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function lm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function cm(e){e._nesting--,Jd(e)}var Ju=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new he;onMicrotaskEmpty=new he;onStable=new he;onError=new he;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function aD(e){return Xg(e,"__ignore_ng_zone__")}function lD(e){return Xg(e,"__scheduler_tick__")}function Xg(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Qt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},cD=new S("",{providedIn:"root",factory:()=>{let e=E(ve),t=E(Qt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function um(e,t){return qm(e,t)}function uD(e){return qm(Gm,e)}var Jg=(um.required=uD,um);function dD(){return bo(Qe(),Y())}function bo(e,t){return new st(Ft(e,t))}var st=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=dD}return e})();function fD(e){return e instanceof st?e.nativeElement:e}function pD(e){return typeof e=="function"&&e[gt]!==void 0}function D(e,t){let n=qc(e,t?.equal),r=n[gt];return n.set=o=>Jo(r,o),n.update=o=>Wc(r,o),n.asReadonly=hD.bind(n),n}function hD(){let e=this[gt];if(e.readonlyFn===void 0){let t=()=>this();t[gt]=e,e.readonlyFn=t}return e.readonlyFn}function e0(e){return pD(e)&&typeof e.set=="function"}function mD(){return this._results[Symbol.iterator]()}var ed=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new le}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=XE(t);(this._changesDetected=!KE(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=mD},gD="ngSkipHydration",vD="ngskiphydration";function t0(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===vD)return!0}return!1}function n0(e){return e.hasAttribute(gD)}function Ca(e){return(e.flags&128)===128}function yD(e){if(Ca(e))return!0;let t=e.parent;for(;t;){if(Ca(e)||t0(t))return!0;t=t.parent}return!1}var r0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(r0||{}),o0=new Map,_D=0;function CD(){return _D++}function ED(e){o0.set(e[Fa],e)}function td(e){o0.delete(e[Fa])}var dm="__ngContext__";function Do(e,t){Ot(t)?(e[dm]=t[Fa],ED(t)):e[dm]=t}function i0(e){return a0(e[ui])}function s0(e){return a0(e[Nt])}function a0(e){for(;e!==null&&!Jt(e);)e=e[Nt];return e}var nd;function l0(e){nd=e}function za(){if(nd!==void 0)return nd;if(typeof document<"u")return document;throw new I(210,!1)}var vn=new S("",{providedIn:"root",factory:()=>bD}),bD="ng",ef=new S(""),tn=new S("",{providedIn:"platform",factory:()=>"unknown"});var tf=new S("",{providedIn:"root",factory:()=>za().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function DD(){let e=new Ao;return e.store=AD(za(),E(vn)),e}var Ao=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:DD});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function AD(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var c0="h",u0="b",wD="f",xD="n",MD="e",SD="t",nf="c",d0="x",Ea="r",ID="i",TD="n",f0="d";var PD="di",ND="s",OD="p";var Zs=new S(""),p0=!1,h0=new S("",{providedIn:"root",factory:()=>p0});var m0=new S(""),RD=!1,kD=new S(""),fm=new S("",{providedIn:"root",factory:()=>new Map}),rf=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(rf||{}),wo=new S(""),pm=new Set;function nn(e){pm.has(e)||(pm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var of=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=FD}return e})();function FD(){return new of(Y(),Qe())}var no=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(no||{}),g0=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),LD=[no.EarlyRead,no.Write,no.MixedReadWrite,no.Read],VD=(()=>{class e{ngZone=E(ve);scheduler=E(Gn);errorHandler=E(Qt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(wo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ie(16),this.executing=!0;for(let r of LD)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ie(17)}register(n){let{view:r}=n;r!==void 0?((r[io]??=[]).push(n),Co(r),r[$]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(rf.AFTER_NEXT_RENDER,n):n()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),rd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[io];t&&(this.view[io]=t.filter(n=>n!==this))}};function Ga(e,t){!t?.injector&&Vd(Ga);let n=t?.injector??E(Ye);return nn("NgAfterNextRender"),BD(e,n,t,!0)}function jD(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function BD(e,t,n,r){let o=t.get(g0);o.impl??=t.get(VD);let i=t.get(wo,null,{optional:!0}),s=n?.phase??no.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(Eo):null,l=t.get(of,null,{optional:!0}),f=new rd(o.impl,jD(e,s),l?.view,r,a,i?.snapshot(null));return o.impl.register(f),f}var ft=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(ft||{}),hm=0,UD=1,Pe=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(Pe||{});var $D=0,qa=1;var HD=4,zD=5;var GD=7,ao=8,qD=9,v0=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(v0||{});function na(e,t){let n=ZD(e),r=t[n];if(r!==null){for(let o of r)o();t[n]=null}}function WD(e){na(1,e),na(0,e),na(2,e)}function ZD(e){let t=HD;return e===1?t=zD:e===2&&(t=qD),t}function y0(e){return e+1}function Ci(e,t){let n=e[j],r=y0(t.index);return e[r]}function Wa(e,t){let n=y0(t.index);return e.data[n]}function YD(e,t,n){let r=t[j],o=Wa(r,n);switch(e){case Pe.Complete:return o.primaryTmplIndex;case Pe.Loading:return o.loadingTmplIndex;case Pe.Error:return o.errorTmplIndex;case Pe.Placeholder:return o.placeholderTmplIndex;default:return null}}function mm(e,t){return t===Pe.Placeholder?e.placeholderBlockConfig?.[hm]??null:t===Pe.Loading?e.loadingBlockConfig?.[hm]??null:null}function QD(e){return e.loadingBlockConfig?.[UD]??null}function gm(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function KD(e,t){let n=t.primaryTmplIndex+ye;return Va(e,n)}var Za="ngb";var XD=(e,t,n)=>{let r=e,o=r.__jsaction_fns??new Map,i=o.get(t)??[];i.push(n),o.set(t,i),r.__jsaction_fns=o},JD=(e,t)=>{let n=e,r=n.getAttribute(Za)??"",o=t.get(r)??new Set;o.has(n)||o.add(n),t.set(r,o)};var eA=e=>{e.removeAttribute(hu.JSACTION),e.removeAttribute(Za),e.__jsaction_fns=void 0},tA=new S("",{providedIn:"root",factory:()=>({})});function _0(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var sf=new S("");var nA="__nghData__",C0=nA,rA="__nghDeferData__",oA=rA,wu="ngh",iA="nghm",E0=()=>null;function sA(e,t,n=!1){let r=e.getAttribute(wu);if(r==null)return null;let[o,i]=r.split("|");if(r=n?i:o,!r)return null;let s=i?`|${i}`:"",a=n?o:s,l={};if(r!==""){let p=t.get(Ao,null,{optional:!0});p!==null&&(l=p.get(C0,[])[Number(r)])}let f={data:l,firstChild:e.firstChild??null};return n&&(f.firstChild=e,Ya(f,0,e.nextSibling)),a?e.setAttribute(wu,a):e.removeAttribute(wu),f}function aA(){E0=sA}function b0(e,t,n=!1){return E0(e,t,n)}function lA(e){let t=e._lView;return t[j].type===2?null:(di(t)&&(t=t[ye]),t)}function cA(e){return e.textContent?.replace(/\s/gm,"")}function uA(e){let t=za(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(i){let s=cA(i);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,o=[];for(;r=n.nextNode();)o.push(r);for(let i of o)i.textContent==="ngetn"?i.replaceWith(t.createTextNode("")):i.remove()}function Ya(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function od(e,t){return e.segmentHeads?.[t]??null}function dA(e){return e.get(kD,!1,{optional:!0})}function fA(e,t){let n=e.data,r=n[MD]?.[t]??null;return r===null&&n[nf]?.[t]&&(r=af(e,t)),r}function D0(e,t){return e.data[nf]?.[t]??null}function af(e,t){let n=D0(e,t)??[],r=0;for(let o of n)r+=o[Ea]*(o[d0]??1);return r}function pA(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[f0];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function Ei(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[f0];e.disconnectedNodes=n?new Set(n):null}return!!pA(e)?.has(t)}function hA(e,t){let n=t.get(sf),o=t.get(Ao).get(oA,{}),i=!1,s=e,a=null,l=[];for(;!i&&s;){i=n.has(s);let f=n.hydrating.get(s);if(a===null&&f!=null){a=f.promise;break}l.unshift(s),s=o[s][OD]}return{parentBlockPromise:a,hydrationQueue:l}}function xu(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===iA}function vm(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function mA(e){for(let r of e.body.childNodes)if(xu(r))return;let t=vm(e.body.previousSibling);if(xu(t))return;let n=vm(e.head.lastChild);if(!xu(n))throw new I(-507,!1)}function A0(e,t){let n=e.contentQueries;if(n!==null){let r=Q(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Gd(i),a.contentQueries(2,t[s],s)}}}finally{Q(r)}}}function id(e,t,n){Gd(0);let r=Q(null);try{t(e,n)}finally{Q(r)}}function lf(e,t,n){if(jd(t)){let r=Q(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Q(r)}}}var Kt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Kt||{});var Ys;function gA(){if(Ys===void 0&&(Ys=null,Un.trustedTypes))try{Ys=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ys}function ym(e){return gA()?.createScriptURL(e)||e}var ba=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zm})`}};function bi(e){return e instanceof ba?e.changingThisBreaksApplicationSecurity:e}function cf(e,t){let n=vA(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${zm})`)}return n===t}function vA(e){return e instanceof ba&&e.getTypeName()||null}var yA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function w0(e){return e=String(e),e.match(yA)?e:"unsafe:"+e}var Qa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Qa||{});function _A(e){let t=M0();return t?t.sanitize(Qa.URL,e)||"":cf(e,"URL")?bi(e):w0(co(e))}function CA(e){let t=M0();if(t)return ym(t.sanitize(Qa.RESOURCE_URL,e)||"");if(cf(e,"ResourceURL"))return ym(bi(e));throw new I(904,!1)}function EA(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?CA:_A}function x0(e,t,n){return EA(t,n)(e)}function M0(){let e=Y();return e&&e[yn].sanitizer}var bA=/^>|^->|<!--|-->|--!>|<!-$/g,DA=/(<|>)/g,AA="\u200B$1\u200B";function wA(e){return e.replace(bA,t=>t.replace(DA,AA))}function S0(e){return e.ownerDocument}function xA(e){return e.ownerDocument.body}function I0(e){return e instanceof Function?e():e}function MA(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var T0="ng-template";function SA(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&MA(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(uf(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function uf(e){return e.type===4&&e.value!==T0}function IA(e,t,n){let r=e.type===4&&!n?T0:e.value;return t===r}function TA(e,t,n){let r=4,o=e.attrs,i=o!==null?OA(o):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Pt(r)&&!Pt(l))return!1;if(s&&Pt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!IA(e,l,n)||l===""&&t.length===1){if(Pt(r))return!1;s=!0}}else if(r&8){if(o===null||!SA(e,o,l,n)){if(Pt(r))return!1;s=!0}}else{let f=t[++a],p=PA(l,o,uf(e),n);if(p===-1){if(Pt(r))return!1;s=!0;continue}if(f!==""){let h;if(p>i?h="":h=o[p+1].toLowerCase(),r&2&&f!==h){if(Pt(r))return!1;s=!0}}}}return Pt(r)||s}function Pt(e){return(e&1)===0}function PA(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return RA(t,e)}function NA(e,t,n=!1){for(let r=0;r<t.length;r++)if(TA(e,t[r],n))return!0;return!1}function OA(e){for(let t=0;t<e.length;t++){let n=e[t];if(Lg(n))return t}return e.length}function RA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function _m(e,t){return e?":not("+t.trim()+")":t}function kA(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Pt(s)&&(t+=_m(i,o),o=""),r=s,i=i||!Pt(r);n++}return o!==""&&(t+=_m(i,o)),t}function FA(e){return e.map(kA).join(",")}function LA(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!Pt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var wn={};function P0(e,t){return e.createText(t)}function VA(e,t,n){e.setValue(t,n)}function N0(e,t){return e.createComment(wA(t))}function df(e,t,n){return e.createElement(t,n)}function Da(e,t,n,r,o){e.insertBefore(t,n,r,o)}function O0(e,t,n){e.appendChild(t,n)}function Cm(e,t,n,r,o){r!==null?Da(e,t,n,r,o):O0(e,t,n)}function ff(e,t,n){e.removeChild(null,t,n)}function R0(e){e.textContent=""}function jA(e,t,n){e.setAttribute(t,"style",n)}function BA(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function k0(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&Hb(e,t,r),o!==null&&BA(e,t,o),i!==null&&jA(e,t,i)}function pf(e,t,n,r,o,i,s,a,l,f,p){let h=ye+r,v=h+o,g=UA(h,v),b=typeof f=="function"?f():f;return g[j]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:p}}function UA(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:wn);return n}function $A(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=pf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function hf(e,t,n,r,o,i,s,a,l,f,p){let h=t.blueprint.slice();return h[pt]=o,h[$]=r|4|128|8|64|1024,(f!==null||e&&e[$]&2048)&&(h[$]|=2048),Eg(h),h[Ne]=h[_o]=e,h[rt]=n,h[yn]=s||e&&e[yn],h[me]=a||e&&e[me],h[Wt]=l||e&&e[Wt]||null,h[kt]=i,h[Fa]=CD(),h[qt]=p,h[hg]=f,h[_t]=t.type==2?e[_t]:h,h}function HA(e,t,n){let r=Ft(t,e),o=$A(n),i=e[yn].rendererFactory,s=mf(e,hf(e,o,null,F0(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function F0(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function L0(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function mf(e,t){return e[ui]?e[em][Nt]=t:e[ui]=t,e[em]=t,t}function m(e=1){V0(Le(),Y(),Ir()+e,!1)}function V0(e,t,n,r){if(!r)if((t[$]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Js(t,i,n)}else{let i=e.preOrderHooks;i!==null&&ea(t,i,0,n)}Er(n)}var Ka=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ka||{});function sd(e,t,n,r){let o=Q(null);try{let[i,s,a]=e.inputs[n],l=null;(s&Ka.SignalBased)!==0&&(l=t[i][gt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,i):gg(t,l,i,r)}finally{Q(o)}}function j0(e,t,n,r,o){let i=Ir(),s=r&2;try{Er(-1),s&&t.length>ye&&V0(e,t,ye,!1),ie(s?2:0,o),n(r,o)}finally{Er(i),ie(s?3:1,o)}}function Xa(e,t,n){QA(e,t,n),(n.flags&64)===64&&KA(e,t,n)}function gf(e,t,n=Ft){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function zA(e,t,n,r){let i=r.get(h0,p0)||n===Kt.ShadowDom,s=e.selectRootElement(t,i);return GA(s),s}function GA(e){B0(e)}var B0=()=>null;function qA(e){n0(e)?R0(e):uA(e)}function WA(){B0=qA}function ZA(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function U0(e,t,n,r,o,i,s,a){if(!a&&_f(t,e,n,r,o)){wr(t)&&YA(n,t.index);return}if(t.type&3){let l=Ft(t,n);r=ZA(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(l,r,o)}else t.type&12}function YA(e,t){let n=Yt(t,e);n[$]&16||(n[$]|=64)}function QA(e,t,n){let r=n.directiveStart,o=n.directiveEnd;wr(n)&&HA(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||va(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],l=fi(t,e,s,n);if(Do(l,t),i!==null&&tw(t,s-r,l,a,n,i),Zt(a)){let f=Yt(n.index,t);f[rt]=fi(t,e,s,n)}}}function KA(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=kb();try{Er(i);for(let a=r;a<o;a++){let l=e.data[a],f=t[a];Wu(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&XA(l,f)}}finally{Er(-1),Wu(s)}}function XA(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function vf(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];NA(t,i.selectors,!1)&&(r??=[],Zt(i)?r.unshift(i):r.push(i))}return r}function JA(e,t,n,r,o,i){let s=Ft(e,t);ew(t[me],s,i,e.value,n,r,o)}function ew(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?co(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function tw(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],f=s[a+1];sd(r,n,l,f)}}function yf(e,t){let n=e[Wt],r=n?n.get(Qt,null):null;r&&r.handleError(t)}function _f(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let f=s[l],p=s[l+1],h=t.data[f];sd(h,n[f],p,o),a=!0}if(i)for(let l of i){let f=n[l],p=t.data[l];sd(p,f,r,o),a=!0}return a}function nw(e,t){let n=Yt(t,e),r=n[j];rw(r,n);let o=n[pt];o!==null&&n[qt]===null&&(n[qt]=b0(o,n[Wt])),ie(18),Cf(r,n,n[rt]),ie(19,n[rt])}function rw(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Cf(e,t,n){qd(t);try{let r=e.viewQuery;r!==null&&id(1,r,n);let o=e.template;o!==null&&j0(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[_n]?.finishViewCreation(e),e.staticContentQueries&&A0(e,t),e.staticViewQueries&&id(2,e.viewQuery,n);let i=e.components;i!==null&&ow(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[$]&=-5,Wd()}}function ow(e,t){for(let n=0;n<t.length;n++)nw(e,t[n])}function $0(e,t,n,r){let o=Q(null);try{let i=t.tView,a=e[$]&4096?4096:16,l=hf(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=e[t.index];l[yr]=f;let p=e[_n];return p!==null&&(l[_n]=p.createEmbeddedView(i)),Cf(i,l,n),l}finally{Q(o)}}function ad(e,t){return!t||t.firstChild===null||Ca(e)}var iw;function Ef(e,t){return iw(e,t)}var bn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(bn||{});function xo(e){return(e.flags&32)===32}function ro(e,t,n,r,o){if(r!=null){let i,s=!1;Jt(r)?i=r:Ot(r)&&(s=!0,r=r[pt]);let a=Rt(r);e===0&&n!==null?o==null?O0(t,n,a):Da(t,n,a,o||null,!0):e===1&&n!==null?Da(t,n,a,o||null,!0):e===2?ff(t,a,s):e===3&&t.destroyNode(a),i!=null&&vw(t,e,i,n,o)}}function sw(e,t){H0(e,t),t[pt]=null,t[kt]=null}function aw(e,t,n,r,o,i){r[pt]=o,r[kt]=t,el(e,r,n,1,o,i)}function H0(e,t){t[yn].changeDetectionScheduler?.notify(9),el(e,t,t[me],2,null,null)}function lw(e){let t=e[ui];if(!t)return Mu(e[j],e);for(;t;){let n=null;if(Ot(t))n=t[ui];else{let r=t[nt];r&&(n=r)}if(!n){for(;t&&!t[Nt]&&t!==e;)Ot(t)&&Mu(t[j],t),t=t[Ne];t===null&&(t=e),Ot(t)&&Mu(t[j],t),n=t&&t[Nt]}t=n}}function bf(e,t){let n=e[fo],r=n.indexOf(t);n.splice(r,1)}function Df(e,t){if(xr(t))return;let n=t[me];n.destroyNode&&el(e,t,n,3,null,null),lw(t)}function Mu(e,t){if(xr(t))return;let n=Q(null);try{t[$]&=-129,t[$]|=256,t[yt]&&Xo(t[yt]),uw(e,t),cw(e,t),t[j].type===1&&t[me].destroy();let r=t[yr];if(r!==null&&Jt(t[Ne])){r!==t[Ne]&&bf(r,t);let o=t[_n];o!==null&&o.detachView(e)}td(t)}finally{Q(n)}}function cw(e,t){let n=e.cleanup,r=t[da];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[da]=null);let o=t[$n];if(o!==null){t[$n]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[_r];if(i!==null){t[_r]=null;for(let s of i)s.destroy()}}function uw(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof br)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];ie(4,a,l);try{l.call(a)}finally{ie(5,a,l)}}else{ie(4,o,i);try{i.call(o)}finally{ie(5,o,i)}}}}}function dw(e,t,n){return fw(e,t.parent,n)}function fw(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[pt];if(wr(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Kt.None||o===Kt.Emulated)return null}return Ft(r,n)}function pw(e,t,n){return mw(e,t,n)}function hw(e,t,n){return e.type&40?Ft(e,n):null}var mw=hw,Em;function Ja(e,t,n,r){let o=dw(e,r,t),i=t[me],s=r.parent||t[kt],a=pw(s,r,t);if(o!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Cm(i,o,n[l],a,!1);else Cm(i,o,n,a,!1);Em!==void 0&&Em(i,r,t,n,o)}function ai(e,t){if(t!==null){let n=t.type;if(n&3)return Ft(t,e);if(n&4)return ld(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return ai(e,r);{let o=e[t.index];return Jt(o)?ld(-1,o):Rt(o)}}else{if(n&128)return ai(e,t.next);if(n&32)return Ef(t,e)()||Rt(e[t.index]);{let r=z0(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Cr(e[_t]);return ai(o,r)}else return ai(e,t.next)}}}return null}function z0(e,t){if(t!==null){let r=e[_t][kt],o=t.projection;return r.projection[o]}return null}function ld(e,t){let n=nt+e+1;if(n<t.length){let r=t[n],o=r[j].firstChild;if(o!==null)return ai(r,o)}return t[En]}function Af(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Do(Rt(a),r),n.flags|=2),!xo(n))if(l&8)Af(e,t,n.child,r,o,i,!1),ro(t,e,o,a,i);else if(l&32){let f=Ef(n,r),p;for(;p=f();)ro(t,e,o,p,i);ro(t,e,o,a,i)}else l&16?gw(e,t,r,n,o,i):ro(t,e,o,a,i);n=s?n.projectionNext:n.next}}function el(e,t,n,r,o,i){Af(n,r,e.firstChild,t,o,i,!1)}function gw(e,t,n,r,o,i){let s=n[_t],l=s[kt].projection[r.projection];if(Array.isArray(l))for(let f=0;f<l.length;f++){let p=l[f];ro(t,e,o,p,i)}else{let f=l,p=s[Ne];Ca(r)&&(f.flags|=128),Af(e,t,f,p,o,i,!0)}}function vw(e,t,n,r,o){let i=n[En],s=Rt(n);i!==s&&ro(t,e,r,i,o);for(let a=nt;a<n.length;a++){let l=n[a];el(l[j],l,e,t,r,i)}}function yw(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:bn.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=bn.Important),e.setStyle(n,r,o,i))}}function Aa(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(Rt(i)),Jt(i)&&_w(i,r);let s=n.type;if(s&8)Aa(e,t,n.child,r);else if(s&32){let a=Ef(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=z0(t,n);if(Array.isArray(a))r.push(...a);else{let l=Cr(t[_t]);Aa(l[j],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function _w(e,t){for(let n=nt;n<e.length;n++){let r=e[n],o=r[j].firstChild;o!==null&&Aa(r[j],r,o,t)}e[En]!==e[pt]&&t.push(e[En])}function G0(e){if(e[io]!==null){for(let t of e[io])t.impl.addSequence(t);e[io].length=0}}var q0=[];function Cw(e){return e[yt]??Ew(e)}function Ew(e){let t=q0.pop()??Object.create(Dw);return t.lView=e,t}function bw(e){e.lView[yt]!==e&&(e.lView=null,q0.push(e))}var Dw=R(A({},Hr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Co(e.lView)},consumerOnSignalRead(){this.lView[yt]=this}});function Aw(e){let t=e[yt]??Object.create(ww);return t.lView=e,t}var ww=R(A({},Hr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Cr(e.lView);for(;t&&!W0(t[j]);)t=Cr(t);t&&bg(t)},consumerOnSignalRead(){this.lView[yt]=this}});function W0(e){return e.type!==2}function Z0(e){if(e[_r]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[_r])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[$]&8192)}}var xw=100;function Y0(e,t=!0,n=0){let o=e[yn].rendererFactory,i=!1;i||o.begin?.();try{Mw(e,n)}catch(s){throw t&&yf(e,s),s}finally{i||o.end?.()}}function Mw(e,t){let n=xg();try{pa(!0),cd(e,t);let r=0;for(;Ba(e);){if(r===xw)throw new I(103,!1);r++,cd(e,1)}}finally{pa(n)}}function Sw(e,t,n,r){if(xr(t))return;let o=t[$],i=!1,s=!1;qd(t);let a=!0,l=null,f=null;i||(W0(e)?(f=Cw(t),l=Ko(f)):Bc()===null?(a=!1,f=Aw(t),l=Ko(f)):t[yt]&&(Xo(t[yt]),t[yt]=null));try{Eg(t),Nb(e.bindingStartIndex),n!==null&&j0(e,t,n,2,r);let p=(o&3)===3;if(!i)if(p){let g=e.preOrderCheckHooks;g!==null&&Js(t,g,null)}else{let g=e.preOrderHooks;g!==null&&ea(t,g,0,null),Du(t,0)}if(s||Iw(t),Z0(t),Q0(t,0),e.contentQueries!==null&&A0(e,t),!i)if(p){let g=e.contentCheckHooks;g!==null&&Js(t,g)}else{let g=e.contentHooks;g!==null&&ea(t,g,1),Du(t,1)}Pw(e,t);let h=e.components;h!==null&&X0(t,h,0);let v=e.viewQuery;if(v!==null&&id(2,v,r),!i)if(p){let g=e.viewCheckHooks;g!==null&&Js(t,g)}else{let g=e.viewHooks;g!==null&&ea(t,g,2),Du(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[bu]){for(let g of t[bu])g();t[bu]=null}i||(G0(t),t[$]&=-73)}catch(p){throw i||Co(t),p}finally{f!==null&&(ps(f,l),a&&bw(f)),Wd()}}function Q0(e,t){for(let n=i0(e);n!==null;n=s0(n))for(let r=nt;r<n.length;r++){let o=n[r];K0(o,t)}}function Iw(e){for(let t=i0(e);t!==null;t=s0(t)){if(!(t[$]&2))continue;let n=t[fo];for(let r=0;r<n.length;r++){let o=n[r];bg(o)}}}function Tw(e,t,n){ie(18);let r=Yt(t,e);K0(r,n),ie(19,r[rt])}function K0(e,t){Bd(e)&&cd(e,t)}function cd(e,t){let r=e[j],o=e[$],i=e[yt],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&hs(i)),s||=!1,i&&(i.dirty=!1),e[$]&=-9217,s)Sw(r,e,r.template,e[rt]);else if(o&8192){Z0(e),Q0(e,1);let a=r.components;a!==null&&X0(e,a,1),G0(e)}}function X0(e,t,n){for(let r=0;r<t.length;r++)Tw(e,t[r],n)}function Pw(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Er(~o);else{let i=o,s=n[++r],a=n[++r];Rb(s,i);let l=t[i];ie(24,l),a(2,l),ie(25,l)}}}finally{Er(-1)}}function tl(e,t){let n=xg()?64:1088;for(e[yn].changeDetectionScheduler?.notify(t);e;){e[$]|=n;let r=Cr(e);if(di(e)&&!r)return e;e=r}return null}function J0(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function ev(e,t,n,r=!0){let o=t[j];if(Ow(o,t,e,n),r){let s=ld(n,e),a=t[me],l=a.parentNode(e[En]);l!==null&&aw(o,e[kt],a,t,l,s)}let i=t[qt];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Nw(e,t){let n=wa(e,t);return n!==void 0&&Df(n[j],n),n}function wa(e,t){if(e.length<=nt)return;let n=nt+t,r=e[n];if(r){let o=r[yr];o!==null&&o!==e&&bf(o,r),t>0&&(e[n-1][Nt]=r[Nt]);let i=ca(e,nt+t);sw(r[j],r);let s=i[_n];s!==null&&s.detachView(i[j]),r[Ne]=null,r[Nt]=null,r[$]&=-129}return r}function Ow(e,t,n,r){let o=nt+r,i=n.length;r>0&&(n[o-1][Nt]=t),r<i-nt?(t[Nt]=n[o],og(n,nt+r,t)):(n.push(t),t[Nt]=null),t[Ne]=n;let s=t[yr];s!==null&&n!==s&&tv(s,t);let a=t[_n];a!==null&&a.insertView(e),Gu(t),t[$]|=128}function tv(e,t){let n=e[fo],r=t[Ne];if(Ot(r))e[$]|=2;else{let o=r[Ne][_t];t[_t]!==o&&(e[$]|=2)}n===null?e[fo]=[t]:n.push(t)}var hi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[j];return Aa(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[rt]}set context(t){this._lView[rt]=t}get destroyed(){return xr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ne];if(Jt(t)){let n=t[fa],r=n?n.indexOf(this):-1;r>-1&&(wa(t,r),ca(n,r))}this._attachedToViewContainer=!1}Df(this._lView[j],this._lView)}onDestroy(t){Dg(this._lView,t)}markForCheck(){tl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$]&=-129}reattach(){Gu(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,Y0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=di(this._lView),n=this._lView[yr];n!==null&&!t&&bf(n,this._lView),H0(this._lView[j],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=di(this._lView),r=this._lView[yr];r!==null&&!n&&tv(r,this._lView),Gu(this._lView)}};var Dr=(()=>{class e{static __NG_ELEMENT_ID__=Fw}return e})(),Rw=Dr,kw=class extends Rw{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=$0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new hi(o)}};function Fw(){return nl(Qe(),Y())}function nl(e,t){return e.type&4?new kw(t,e,bo(e,t)):null}function rl(e,t,n,r,o){let i=e.data[t];if(i===null)i=Lw(e,t,n,r,o),Ob()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Ib();i.injectorIndex=s===null?-1:s.injectorIndex}return Mr(i,!0),i}function Lw(e,t,n,r,o){let i=Ag(),s=zd(),a=s?i:i&&i.parent,l=e.data[t]=jw(e,a,n,t,r,o);return Vw(e,l,i,s),l}function Vw(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function jw(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return _i()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Bw=new RegExp(`^(\\d+)*(${u0}|${c0})*(.*)`);function Uw(e){let t=e.match(Bw),[n,r,o,i]=t,s=r?parseInt(r,10):o,a=[];for(let[l,f,p]of i.matchAll(/(f|n)(\d*)/g)){let h=parseInt(p,10)||1;a.push(f,h)}return[s,...a]}function $w(e){return!e.prev&&e.parent?.type===8}function Su(e){return e.index-ye}function Hw(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function ol(e,t,n,r){let o=Su(r),i=Hw(e,o);if(i===void 0){let s=e.data[TD];if(s?.[o])i=Gw(s[o],n);else if(t.firstChild===r)i=e.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if($w(r)){let f=Su(r.parent);i=od(e,f)}else{let f=Ft(l,n);if(a)i=f.firstChild;else{let p=Su(l),h=od(e,p);if(l.type===2&&h){let g=af(e,p)+1;i=il(g,h)}else i=f.nextSibling}}}}return i}function il(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function zw(e,t){let n=e;for(let r=0;r<t.length;r+=2){let o=t[r],i=t[r+1];for(let s=0;s<i;s++)switch(o){case wD:n=n.firstChild;break;case xD:n=n.nextSibling;break}}return n}function Gw(e,t){let[n,...r]=Uw(e),o;if(n===c0)o=t[_t][pt];else if(n===u0)o=xA(t[_t][pt]);else{let i=Number(n);o=Rt(t[i+ye])}return zw(o,r)}var qw=!1;function Ww(e){qw=e}function Zw(e){let t=e[qt];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let o=e[me];for(let i of r.values())Yw(o,n,i)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function Yw(e,t,n){for(let r of n.node.cases[n.case]){let o=t.get(r.index-ye);o&&ff(e,o,!1)}}function nv(e){let t=e[Cn]??[],r=e[Ne][me],o=[];for(let i of t)i.data[PD]!==void 0?o.push(i):rv(i,r);e[Cn]=o}function Qw(e){let{lContainer:t}=e,n=t[Cn];if(n===null)return;let o=t[Ne][me];for(let i of n)rv(i,o)}function rv(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[Ea];for(;n<o;){let i=r.nextSibling;ff(t,r,!1),r=i,n++}}}function sl(e){nv(e);let t=e[pt];Ot(t)&&xa(t);for(let n=nt;n<e.length;n++)xa(e[n])}function xa(e){Zw(e);let t=e[j];for(let n=ye;n<t.bindingStartIndex;n++)if(Jt(e[n])){let r=e[n];sl(r)}else Ot(e[n])&&xa(e[n])}function ov(e){let t=e._views;for(let n of t){let r=lA(n);r!==null&&r[pt]!==null&&(Ot(r)?xa(r):sl(r))}}function Kw(e,t,n,r){e!==null&&(n.cleanup(t),sl(e.lContainer),ov(r))}function Xw(e,t){let n=[];for(let r of t)for(let o=0;o<(r[d0]??1);o++){let i={data:r,firstChild:null};r[Ea]>0&&(i.firstChild=e,e=il(r[Ea],e)),n.push(i)}return[e,n]}var iv=()=>null;function Jw(e,t){let n=e[Cn];return!t||n===null||n.length===0?null:n[0].data[ID]===t?n.shift():(nv(e),null)}function ex(){iv=Jw}function bm(e,t){return iv(e,t)}var tx=class{},sv=class{},ud=class{resolveComponentFactory(t){throw Error(`No component factory found for ${tt(t)}.`)}},al=class{static NULL=new ud},mo=class{},rn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>nx()}return e})();function nx(){let e=Y(),t=Qe(),n=Yt(t.index,e);return(Ot(n)?n:e)[me]}var rx=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>null})}return e})();var Iu={},lo=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ra(r);let o=this.injector.get(t,Iu,r);return o!==Iu||n===Iu?o:this.parentInjector.get(t,n,r)}};function dd(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Wh(o,a);else if(i==2){let l=a,f=t[++s];r=Wh(r,l+": "+f+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function F(e,t=W.Default){let n=Y();if(n===null)return O(e,t);let r=Qe();return zg(r,n,Ze(e),t)}function av(){let e="invalid";throw new Error(e)}function wf(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a,l=null,f=null,p=ix(s);p===null?a=s:[a,l,f]=p,lx(e,t,n,a,i,l,f)}i!==null&&r!==null&&ox(n,r,i)}function ox(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new I(-301,!1);r.push(t[o],i)}}function ix(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Zt(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,sx(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,o,i]):null}function sx(e,t,n,r){let o=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[o,t.length-1])}function ax(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function lx(e,t,n,r,o,i,s){let a=r.length,l=!1;for(let v=0;v<a;v++){let g=r[v];!l&&Zt(g)&&(l=!0,ax(e,n,v)),Yu(va(n,t),e,g.type)}hx(n,e.data.length,a);for(let v=0;v<a;v++){let g=r[v];g.providersResolver&&g.providersResolver(g)}let f=!1,p=!1,h=L0(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let v=0;v<a;v++){let g=r[v];if(n.mergedAttrs=ho(n.mergedAttrs,g.hostAttrs),ux(e,n,t,h,g),px(h,g,o),s!==null&&s.has(g)){let[M,P]=s.get(g);n.directiveToIndex.set(g.type,[h,M+n.directiveStart,P+n.directiveStart])}else(i===null||!i.has(g))&&n.directiveToIndex.set(g.type,h);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let b=g.type.prototype;!f&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),f=!0),!p&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),h++}cx(e,n,i)}function cx(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Dm(0,t,o,r),Dm(1,t,o,r),wm(t,r,!1);else{let i=n.get(o);Am(0,t,i,r),Am(1,t,i,r),wm(t,r,!0)}}}function Dm(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),lv(t,i)}}function Am(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),lv(t,s)}}function lv(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function wm(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||uf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&o.hasOwnProperty(l)){let f=o[l];for(let p of f)if(p===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){let f=i[l];for(let p=0;p<f.length;p+=2)if(f[p]===t){s??=[],s.push(f[p+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function ux(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=gr(o.type,!0)),s=new br(i,Zt(o),F);e.blueprint[r]=s,n[r]=s,dx(e,t,r,L0(e,n,o.hostVars,wn),o)}function dx(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;fx(s)!=a&&s.push(a),s.push(n,r,i)}}function fx(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function px(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Zt(t)&&(n[""]=e)}}function hx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function cv(e,t,n,r,o,i,s,a){let l=t.consts,f=po(l,s),p=rl(t,e,2,r,f);return i&&wf(t,n,p,po(l,a),o),p.mergedAttrs=ho(p.mergedAttrs,p.attrs),p.attrs!==null&&dd(p,p.attrs,!1),p.mergedAttrs!==null&&dd(p,p.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,p),p}function uv(e,t){Yd(e,t),jd(t)&&e.queries.elementEnd(t)}var Ma=class extends al{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=zn(t);return new go(n,this.ngModule)}};function mx(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&Ka.SignalBased)!==0};return o&&(i.transform=o),i})}function gx(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function vx(e,t,n){let r=t instanceof Ue?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new lo(n,r):n}function yx(e){let t=e.get(mo,null);if(t===null)throw new I(407,!1);let n=e.get(rx,null),r=e.get(Gn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function _x(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return df(t,n,n==="svg"?gb:n==="math"?vb:null)}var go=class extends sv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=gx(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=FA(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){ie(22);let i=Q(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:LA(this.componentDef.selectors[0]),l=pf(0,null,null,1,0,null,null,null,null,[a],null),f=vx(s,o||this.ngModule,t),p=yx(f),h=p.rendererFactory.createRenderer(null,s),v=r?zA(h,r,s.encapsulation,f):_x(s,h),g=hf(null,l,null,512|F0(s),null,null,p,h,f,null,b0(v,f,!0));g[ye]=v,qd(g);let b=null;try{let M=cv(ye,l,g,"#host",()=>[this.componentDef],!0,0);v&&(k0(h,v,M),Do(v,g)),Xa(l,g,M),lf(l,M,g),uv(l,M),n!==void 0&&Cx(M,this.ngContentSelectors,n),b=Yt(M.index,g),g[rt]=b[rt],Cf(l,g,null)}catch(M){throw b!==null&&td(b),td(g),M}finally{ie(23),Wd()}return new fd(this.componentType,g)}finally{Q(i)}}},fd=class extends tx{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=Va(n[j],ye),this.location=bo(this._tNode,n),this.instance=Yt(this._tNode.index,n)[rt],this.hostView=this.changeDetectorRef=new hi(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=_f(r,o[j],o,t,n);this.previousInputValues.set(t,n);let s=Yt(r.index,o);tl(s,1)}get injector(){return new mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Cx(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Yn=(()=>{class e{static __NG_ELEMENT_ID__=Ex}return e})();function Ex(){let e=Qe();return fv(e,Y())}var bx=Yn,dv=class extends bx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return bo(this._hostTNode,this._hostLView)}get injector(){return new mr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Qd(this._hostTNode,this._hostLView);if(Vg(t)){let n=ma(t,this._hostLView),r=ha(t),o=n[j].data[r+8];return new mr(o,n)}else return new mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=xm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-nt}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=bm(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,ad(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!fb(t),a;if(s)a=n;else{let b=n||{};a=b.index,r=b.injector,o=b.projectableNodes,i=b.environmentInjector||b.ngModuleRef}let l=s?t:new go(zn(t)),f=r||this.parentInjector;if(!i&&l.ngModule==null){let M=(s?f:this.parentInjector).get(Ue,null);M&&(i=M)}let p=zn(l.componentType??{}),h=bm(this._lContainer,p?.id??null),v=h?.firstChild??null,g=l.create(f,o,v,i);return this.insertImpl(g.hostView,a,ad(this._hostTNode,h)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(_b(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=o[Ne],f=new dv(l,l[kt],l[Ne]);f.detach(f.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return ev(s,o,i,r),t.attachToViewContainerRef(),og(Tu(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=xm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=wa(this._lContainer,n);r&&(ca(Tu(this._lContainer),n),Df(r[j],r))}detach(t){let n=this._adjustIndex(t,-1),r=wa(this._lContainer,n);return r&&ca(Tu(this._lContainer),n)!=null?new hi(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function xm(e){return e[fa]}function Tu(e){return e[fa]||(e[fa]=[])}function fv(e,t){let n,r=t[e.index];return Jt(r)?n=r:(n=J0(r,t,null,e),t[e.index]=n,mf(t,n)),pv(n,t,e,r),new dv(n,e,t)}function Dx(e,t){let n=e[me],r=n.createComment(""),o=Ft(t,e),i=n.parentNode(o);return Da(n,i,r,n.nextSibling(o),!1),r}var pv=hv,xf=()=>!1;function Ax(e,t,n){return xf(e,t,n)}function hv(e,t,n,r){if(e[En])return;let o;n.type&8?o=Rt(r):o=Dx(t,n),e[En]=o}function wx(e,t,n){if(e[En]&&e[Cn])return!0;let r=n[qt],o=t.index-ye;if(!r||yD(t)||Ei(r,o))return!1;let s=od(r,o),a=r.data[nf]?.[o],[l,f]=Xw(s,a);return e[En]=l,e[Cn]=f,!0}function xx(e,t,n,r){xf(e,n,t)||hv(e,t,n,r)}function Mx(){pv=xx,xf=wx}var pd=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},hd=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Mf(t,n).matches!==null&&this.queries[n].setDirty()}},md=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=kx(t):this.predicate=t}},gd=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},vd=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,Sx(n,i)),this.matchTNodeWithReadOption(t,n,ta(n,t,i,!1,!1))}else r===Dr?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ta(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===st||o===Yn||o===Dr&&n.type&4)this.addMatch(n.index,-2);else{let i=ta(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Sx(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function Ix(e,t){return e.type&11?bo(e,t):e.type&4?nl(e,t):null}function Tx(e,t,n,r){return n===-1?Ix(t,e):n===-2?Px(e,t,r):fi(e,e[j],n,t)}function Px(e,t,n){if(n===st)return bo(t,e);if(n===Dr)return nl(t,e);if(n===Yn)return fv(t,e)}function mv(e,t,n,r){let o=t[_n].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let f=s[l];if(f<0)a.push(null);else{let p=i[f];a.push(Tx(t,p,s[l+1],n.metadata.read))}}o.matches=a}return o.matches}function yd(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=mv(e,t,o,n);for(let a=0;a<i.length;a+=2){let l=i[a];if(l>0)r.push(s[a/2]);else{let f=i[a+1],p=t[-l];for(let h=nt;h<p.length;h++){let v=p[h];v[yr]===v[Ne]&&yd(v[j],v,f,r)}if(p[fo]!==null){let h=p[fo];for(let v=0;v<h.length;v++){let g=h[v];yd(g[j],g,f,r)}}}}}return r}function Nx(e,t){return e[_n].queries[t].queryList}function Ox(e,t,n){let r=new ed((n&4)===4);return bb(e,t,r,r.destroy),(t[_n]??=new hd).queries.push(new pd(r))-1}function Rx(e,t,n){let r=Le();return r.firstCreatePass&&(Fx(r,new md(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Ox(r,Y(),t)}function kx(e){return e.split(",").map(t=>t.trim())}function Fx(e,t,n){e.queries===null&&(e.queries=new gd),e.queries.track(new vd(t,n))}function Mf(e,t){return e.queries.getByIndex(t)}function Lx(e,t){let n=e[j],r=Mf(n,t);return r.crossesNgTemplate?yd(n,e,t,[]):mv(n,e,r,t)}var vo=class{},Sf=class{};var _d=class extends vo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ma(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=ag(t);this._bootstrapComponents=I0(i.bootstrap),this._r3Injector=Wg(t,n,[{provide:vo,useValue:this},{provide:al,useValue:this.componentFactoryResolver},...r],tt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Cd=class extends Sf{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new _d(this.moduleType,t,[])}};var Sa=class extends vo{injector;componentFactoryResolver=new Ma(this);instance=null;constructor(t){super();let n=new ci([...t.providers,{provide:vo,useValue:this},{provide:al,useValue:this.componentFactoryResolver}],t.parent||Ld(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Mo(e,t,n=null){return new Sa({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Vx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=kd(!1,n.type),o=r.length>0?Mo([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(O(Ue))})}return e})();function Ce(e){return vi(()=>{let t=gv(e),n=R(A({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===r0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(Vx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Kt.Emulated,styles:e.styles||vt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&nn("NgStandalone"),vv(n);let r=e.dependencies;return n.directiveDefs=Mm(r,!1),n.pipeDefs=Mm(r,!0),n.id=Hx(n),n})}function jx(e){return zn(e)||lg(e)}function Bx(e){return e!==null}function Et(e){return vi(()=>({type:e.type,bootstrap:e.bootstrap||vt,declarations:e.declarations||vt,imports:e.imports||vt,exports:e.exports||vt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ux(e,t){if(e==null)return vr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Ka.None,l=null),n[i]=[r,a,l],t[i]=s}return n}function $x(e){if(e==null)return vr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function _e(e){return vi(()=>{let t=gv(e);return vv(t),t})}function ll(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function gv(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||vr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||vt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ux(e.inputs,t),outputs:$x(e.outputs),debugInfo:null}}function vv(e){e.features?.forEach(t=>t(e))}function Mm(e,t){if(!e)return null;let n=t?cg:jx;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Bx)}function Hx(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function zx(e){return Object.getPrototypeOf(e.prototype).constructor}function Lt(e){let t=zx(e.type),n=!0,r=[e];for(;t;){let o;if(Zt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Pu(e.inputs),s.declaredInputs=Pu(e.declaredInputs),s.outputs=Pu(e.outputs);let a=o.hostBindings;a&&Yx(e,a);let l=o.viewQuery,f=o.contentQueries;if(l&&Wx(e,l),f&&Zx(e,f),Gx(e,o),OE(e.outputs,o.outputs),Zt(o)&&o.data.animation){let p=e.data;p.animation=(p.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Lt&&(n=!1)}}t=Object.getPrototypeOf(t)}qx(r)}function Gx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function qx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=ho(o.hostAttrs,n=ho(n,o.hostAttrs))}}function Pu(e){return e===vr?{}:e===vt?[]:e}function Wx(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function Zx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function Yx(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function yv(e){return Kx(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Qx(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function Kx(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function cl(e,t,n){return e[t]=n}function Xx(e,t){return e[t]}function Xt(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function mi(e,t,n,r){let o=Xt(e,t,n);return Xt(e,t+1,r)||o}function Jx(e,t,n,r,o){let i=mi(e,t,n,r);return Xt(e,t+2,o)||i}function eM(e,t,n,r,o,i){let s=mi(e,t,n,r);return mi(e,t+2,o,i)||s}function tM(e,t,n,r,o,i,s,a,l){let f=t.consts,p=rl(t,e,4,s||null,a||null);Hd()&&wf(t,n,p,po(f,l),vf),p.mergedAttrs=ho(p.mergedAttrs,p.attrs),Yd(t,p);let h=p.tView=pf(2,p,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f,null);return t.queries!==null&&(t.queries.template(t,p),h.queries=t.queries.embeddedTView(p)),p}function nM(e,t,n,r,o,i,s,a,l,f){let p=n+ye,h=t.firstCreatePass?tM(p,t,e,r,o,i,s,a,l):t.data[p];Mr(h,!1);let v=_v(t,e,h,n);$a()&&Ja(t,e,v,h),Do(v,e);let g=J0(v,e,v,h);return e[p]=g,mf(e,g),Ax(g,h,e),La(h)&&Xa(t,e,h),l!=null&&gf(e,h,f),h}function N(e,t,n,r,o,i,s,a){let l=Y(),f=Le(),p=po(f.consts,i);return nM(l,f,e,t,n,r,o,p,s,a),N}var _v=Cv;function Cv(e,t,n,r){return Wn(!0),t[me].createComment("")}function rM(e,t,n,r){let o=t[qt],i=!o||_i()||xo(n)||Ei(o,r);if(Wn(i),i)return Cv(e,t);let s=o.data[SD]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=ol(o,e,t,n);Ya(o,r,a);let l=af(o,r);return il(l,a)}function oM(){_v=rM}var iM=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,o,i){if(!this.cachedInjectors.has(n)){let s=o.length>0?Mo(o,r,i):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:e,providedIn:"environment",factory:()=>new e})}return e})();var sM=new S("");function Nu(e,t,n){return e.get(iM).getOrCreateInjector(t,e,n,"")}function aM(e,t,n){if(e instanceof lo){let o=e.injector,i=e.parentInjector,s=Nu(i,t,n);return new lo(o,s)}let r=e.get(Ue);if(r!==e){let o=Nu(r,t,n);return new lo(e,o)}return Nu(e,t,n)}function oo(e,t,n,r=!1){let o=n[Ne],i=o[j];if(xr(o))return;let s=Ci(o,t),a=s[qa],l=s[GD];if(!(l!==null&&e<l)&&Sm(a,e)&&Sm(s[$D]??-1,e)){let f=Wa(i,t),h=!r&&!0&&(QD(f)!==null||mm(f,Pe.Loading)!==null||mm(f,Pe.Placeholder))?uM:cM;try{h(e,s,n,t,o)}catch(v){yf(o,v)}}}function lM(e,t){let n=e[Cn]?.findIndex(o=>o.data[ND]===t[qa])??-1;return{dehydratedView:n>-1?e[Cn][n]:null,dehydratedViewIx:n}}function cM(e,t,n,r,o){ie(20);let i=YD(e,o,r);if(i!==null){t[qa]=e;let s=o[j],a=i+ye,l=Va(s,a),f=0;Nw(n,f);let p;if(e===Pe.Complete){let b=Wa(s,r),M=b.providers;M&&M.length>0&&(p=aM(o[Wt],b,M))}let{dehydratedView:h,dehydratedViewIx:v}=lM(n,t),g=$0(o,l,null,{injector:p,dehydratedView:h});if(ev(n,g,f,ad(l,h)),tl(g,2),v>-1&&n[Cn]?.splice(v,1),(e===Pe.Complete||e===Pe.Error)&&Array.isArray(t[ao])){for(let b of t[ao])b();t[ao]=null}}ie(21)}function Sm(e,t){return e<t}function Im(e,t,n){e.loadingPromise.then(()=>{e.loadingState===ft.COMPLETE?oo(Pe.Complete,t,n):e.loadingState===ft.FAILED&&oo(Pe.Error,t,n)})}var uM=null;var If=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Ev=new S("");var bv=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new Ed})}return e})(),Ed=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Tr(e){return!!e&&typeof e.then=="function"}function Dv(e){return!!e&&typeof e.subscribe=="function"}var Av=new S("");function Tf(e){return An([{provide:Av,multi:!0,useValue:e}])}var wv=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=E(Av,{optional:!0})??[];injector=E(Ye);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=it(this.injector,o);if(Tr(i))n.push(i);else if(Dv(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qn=new S("");function dM(){Gc(()=>{throw new I(600,!1)})}function fM(e){return e.isBoundToModule}var pM=10;var ot=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(cD);afterRenderManager=E(g0);zonelessEnabled=E(Ha);rootEffectScheduler=E(bv);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new le;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(en).hasPendingTasks.pipe(G(n=>!n));constructor(){E(wo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=E(Ue);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Ye.NULL){ie(10);let i=n instanceof sv;if(!this._injector.get(wv).done){let g="";throw new I(405,g)}let a;i?a=n:a=this._injector.get(al).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=fM(a)?void 0:this._injector.get(vo),f=r||a.selector,p=a.create(o,[],f,l),h=p.location.nativeElement,v=p.injector.get(Ev,null);return v?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),ra(this.components,p),v?.unregisterApplication(h)}),this._loadComponent(p),ie(11,p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(rf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new I(101,!1);let n=Q(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Q(n),this.afterTick.next(),ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(mo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<pM;)ie(14),this.synchronizeOnce(),ie(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)hM(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ba(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ra(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Qn,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ra(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ra(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function hM(e,t,n,r){if(!n&&!Ba(e))return;Y0(e,t,n&&!r?0:1)}function mM(e,t,n){let r=t[Wt],o=t[j];if(e.loadingState!==ft.NOT_STARTED)return e.loadingPromise??Promise.resolve();let i=Ci(t,n),s=KD(o,e);e.loadingState=ft.IN_PROGRESS,na(1,i);let a=e.dependencyResolverFn,l=r.get(nD).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(f=>{let p=!1,h=[],v=[];for(let g of f)if(g.status==="fulfilled"){let b=g.value,M=zn(b)||lg(b);if(M)h.push(M);else{let P=cg(b);P&&v.push(P)}}else{p=!0;break}if(p){if(e.loadingState=ft.FAILED,e.errorTmplIndex===null){let g="",b=new I(-750,!1);yf(t,b)}}else{e.loadingState=ft.COMPLETE;let g=s.tView;if(h.length>0){g.directiveRegistry=gm(g.directiveRegistry,h);let b=h.map(P=>P.type),M=kd(!1,...b);e.providers=M}v.length>0&&(g.pipeRegistry=gm(g.pipeRegistry,v))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,l()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=ft.COMPLETE,l()}),e.loadingPromise)}function gM(e,t){return t[Wt].get(sM,null,{optional:!0})?.behavior!==v0.Manual}function vM(e,t,n){let r=t[j],o=t[n.index];if(!gM(e,t))return;let i=Ci(t,n),s=Wa(r,n);switch(WD(i),s.loadingState){case ft.NOT_STARTED:oo(Pe.Loading,n,o),mM(s,t,n),s.loadingState===ft.IN_PROGRESS&&Im(s,n,o);break;case ft.IN_PROGRESS:oo(Pe.Loading,n,o),Im(s,n,o);break;case ft.COMPLETE:oo(Pe.Complete,n,o);break;case ft.FAILED:oo(Pe.Error,n,o);break;default:}}function yM(e,t,n){return L(this,null,function*(){let r=e.get(sf);if(r.hydrating.has(t))return;let{parentBlockPromise:i,hydrationQueue:s}=hA(t,e);if(s.length===0)return;i!==null&&s.shift(),EM(r,s),i!==null&&(yield i);let a=s[0];r.has(a)?yield Tm(e,s,n):r.awaitParentBlock(a,()=>L(null,null,function*(){return yield Tm(e,s,n)}))})}function Tm(e,t,n){return L(this,null,function*(){let r=e.get(sf),o=r.hydrating,i=e.get(en),s=i.add();for(let l=0;l<t.length;l++){let f=t[l],p=r.get(f);if(p!=null){if(yield DM(p),yield bM(e),_M(p)){Qw(p),Pm(t.slice(l),r);break}o.get(f).resolve()}else{CM(l,t,r),Pm(t.slice(l),r);break}}let a=t[t.length-1];yield o.get(a)?.promise,i.remove(s),n&&n(t),Kw(r.get(a),t,r,e.get(ot))})}function _M(e){return Ci(e.lView,e.tNode)[qa]===Pe.Error}function CM(e,t,n){let r=e-1,o=r>-1?n.get(t[r]):null;o&&sl(o.lContainer)}function Pm(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function EM(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function bM(e){return new Promise(t=>Ga(t,{injector:e}))}function DM(e){return L(this,null,function*(){let{tNode:t,lView:n}=e,r=Ci(n,t);return new Promise(o=>{AM(r,o),vM(2,n,t)})})}function AM(e,t){Array.isArray(e[ao])||(e[ao]=[]),e[ao].push(t)}function xn(e,t,n,r){let o=Y(),i=Ua();if(Xt(o,i,t)){let s=Le(),a=Zd();JA(a,o,e,t,n,r)}return xn}function wM(e,t,n,r){return Xt(e,Ua(),n)?t+co(n)+r:wn}function xM(e,t,n,r,o,i){let s=Pb(),a=mi(e,s,n,o);return Mg(2),a?t+co(n)+r+co(o)+i:wn}function Qs(e,t){return e<<17|t<<2}function Ar(e){return e>>17&32767}function MM(e){return(e&2)==2}function SM(e,t){return e&131071|t<<17}function bd(e){return e|2}function yo(e){return(e&131068)>>2}function Ou(e,t){return e&-131069|t<<2}function IM(e){return(e&1)===1}function Dd(e){return e|1}function TM(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=Ar(s),l=yo(s);e[r]=n;let f=!1,p;if(Array.isArray(n)){let h=n;p=h[1],(p===null||yi(h,p)>0)&&(f=!0)}else p=n;if(o)if(l!==0){let v=Ar(e[a+1]);e[r+1]=Qs(v,a),v!==0&&(e[v+1]=Ou(e[v+1],r)),e[a+1]=SM(e[a+1],r)}else e[r+1]=Qs(a,0),a!==0&&(e[a+1]=Ou(e[a+1],r)),a=r;else e[r+1]=Qs(l,0),a===0?a=r:e[l+1]=Ou(e[l+1],r),l=r;f&&(e[r+1]=bd(e[r+1])),Nm(e,p,r,!0),Nm(e,p,r,!1),PM(t,p,e,r,i),s=Qs(a,l),i?t.classBindings=s:t.styleBindings=s}function PM(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&yi(i,t)>=0&&(n[r+1]=Dd(n[r+1]))}function Nm(e,t,n,r){let o=e[n+1],i=t===null,s=r?Ar(o):yo(o),a=!1;for(;s!==0&&(a===!1||i);){let l=e[s],f=e[s+1];NM(l,t)&&(a=!0,e[s+1]=r?Dd(f):bd(f)),s=r?Ar(f):yo(f)}a&&(e[n+1]=r?bd(o):Dd(o))}function NM(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?yi(e,t)>=0:!1}function C(e,t,n){let r=Y(),o=Ua();if(Xt(r,o,t)){let i=Le(),s=Zd();U0(i,s,r,e,t,r[me],n,!1)}return C}function Om(e,t,n,r,o){_f(t,e,n,o?"class":"style",r)}function Oe(e,t){return OM(e,t,null,!0),Oe}function OM(e,t,n,r){let o=Y(),i=Le(),s=Mg(2);if(i.firstUpdatePass&&kM(i,e,s,r),t!==wn&&Xt(o,s,t)){let a=i.data[Ir()];BM(i,a,o,o[me],e,o[s+1]=UM(t,n),r,s)}}function RM(e,t){return t>=e.expandoStartIndex}function kM(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Ir()],s=RM(e,n);$M(i,r)&&t===null&&!s&&(t=!1),t=FM(o,i,t,r),TM(o,i,t,n,s,r)}}function FM(e,t,n,r){let o=Fb(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ru(null,e,t,n,r),n=gi(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Ru(o,e,t,n,r),i===null){let l=LM(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Ru(null,e,t,l[1],r),l=gi(l,t.attrs,r),VM(e,t,r,l))}else i=jM(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function LM(e,t,n){let r=n?t.classBindings:t.styleBindings;if(yo(r)!==0)return e[Ar(r)]}function VM(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[Ar(o)]=r}function jM(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=gi(r,s,n)}return gi(r,t.attrs,n)}function Ru(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=gi(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function gi(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),eb(e,s,n?!0:t[++i]))}return e===void 0?null:e}function BM(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let l=e.data,f=l[a+1],p=IM(f)?Rm(l,t,n,o,yo(f),s):void 0;if(!Ia(p)){Ia(i)||MM(f)&&(i=Rm(l,null,n,o,a,s));let h=Cg(Ir(),n);yw(r,s,h,o,i)}}function Rm(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let l=e[o],f=Array.isArray(l),p=f?l[1]:l,h=p===null,v=n[o+1];v===wn&&(v=h?vt:void 0);let g=h?Cu(v,r):p===r?v:void 0;if(f&&!Ia(g)&&(g=Cu(l,r)),Ia(g)&&(a=g,s))return a;let b=e[o+1];o=s?Ar(b):yo(b)}if(t!==null){let l=i?t.residualClasses:t.residualStyles;l!=null&&(a=Cu(l,r))}return a}function Ia(e){return e!==void 0}function UM(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=tt(bi(e)))),e}function $M(e,t){return(e.flags&(t?8:16))!==0}function u(e,t,n,r){let o=Y(),i=Le(),s=ye+e,a=o[me],l=i.firstCreatePass?cv(s,i,o,t,vf,Hd(),n,r):i.data[s],f=xv(i,o,l,a,t,e);o[s]=f;let p=La(l);return Mr(l,!0),k0(a,f,l),!xo(l)&&$a()&&Ja(i,o,f,l),(Db()===0||p)&&Do(f,o),Ab(),p&&(Xa(i,o,l),lf(i,l,o)),r!==null&&gf(o,l),u}function d(){let e=Qe();zd()?wg():(e=e.parent,Mr(e,!1));let t=e;xb(t)&&Sb(),wb();let n=Le();return n.firstCreatePass&&uv(n,t),t.classesWithoutHost!=null&&Ub(t)&&Om(n,t,Y(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&$b(t)&&Om(n,t,Y(),t.stylesWithoutHost,!1),d}function ue(e,t,n,r){return u(e,t,n,r),d(),ue}var xv=(e,t,n,r,o,i)=>(Wn(!0),df(r,o,Rg()));function HM(e,t,n,r,o,i){let s=t[qt],a=!s||_i()||xo(n)||Ei(s,i);if(Wn(a),a)return df(r,o,Rg());let l=ol(s,e,t,n);return D0(s,i)&&Ya(s,i,l.nextSibling),s&&(t0(n)||n0(l))&&wr(n)&&(Mb(n),R0(l)),l}function zM(){xv=HM}function GM(e,t,n,r,o){let i=t.consts,s=po(i,r),a=rl(t,e,8,"ng-container",s);s!==null&&dd(a,s,!0);let l=po(i,o);return Hd()&&wf(t,n,a,l,vf),a.mergedAttrs=ho(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function J(e,t,n){let r=Y(),o=Le(),i=e+ye,s=o.firstCreatePass?GM(i,o,r,t,n):o.data[i];Mr(s,!0);let a=Mv(o,r,s,e);return r[i]=a,$a()&&Ja(o,r,a,s),Do(a,r),La(s)&&(Xa(o,r,s),lf(o,s,r)),n!=null&&gf(r,s),J}function ee(){let e=Qe(),t=Le();return zd()?wg():(e=e.parent,Mr(e,!1)),t.firstCreatePass&&(Yd(t,e),jd(e)&&t.queries.elementEnd(e)),ee}var Mv=(e,t,n,r)=>(Wn(!0),N0(t[me],""));function qM(e,t,n,r){let o,i=t[qt],s=!i||_i()||Ei(i,r)||xo(n);if(Wn(s),s)return N0(t[me],"");let a=ol(i,e,t,n),l=fA(i,r);return Ya(i,r,a),o=il(l,a),o}function WM(){Mv=qM}function U(){return Y()}var pr=void 0;function ZM(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var YM=["en",[["a","p"],["AM","PM"],pr],[["AM","PM"],pr,pr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pr,"{1} 'at' {0}",pr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",ZM],ku={};function bt(e){let t=QM(e),n=km(t);if(n)return n;let r=t.split("-")[0];if(n=km(r),n)return n;if(r==="en")return YM;throw new I(701,!1)}function km(e){return e in ku||(ku[e]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[e]),ku[e]}var De=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(De||{});function QM(e){return e.toLowerCase().replace(/_/g,"-")}var Ta="en-US";var KM=Ta;function XM(e){typeof e=="string"&&(KM=e.toLowerCase().replace(/_/g,"-"))}function Fm(e,t,n){return function r(o){if(o===Function)return n;let i=wr(e)?Yt(e.index,t):t;tl(i,5);let s=t[rt],a=Lm(t,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=Lm(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Lm(e,t,n,r){let o=Q(null);try{return ie(6,t,n),n(r)!==!1}catch(i){return JM(e,i),!1}finally{ie(7,t,n),Q(o)}}function JM(e,t){let n=e[Wt],r=n?n.get(Qt,null):null;r&&r.handleError(t)}function Vm(e,t,n,r,o,i){let s=t[n],a=t[j],f=a.data[n].outputs[r],p=s[f],h=a.firstCreatePass?$d(a):null,v=Ud(t),g=p.subscribe(i),b=v.length;v.push(i,g),h&&h.push(o,e.index,b,-(b+1))}var Pf=new Map;function eS(e,t){Pf.set(e,t)}function tS(e){Pf.delete(e)}function _(e,t,n,r){let o=Y(),i=Le(),s=Qe();return Sv(i,o,o[me],s,e,t,r),_}function nS(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[da],l=o[i+2];return a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function Sv(e,t,n,r,o,i,s){let a=La(r),f=e.firstCreatePass?$d(e):null,p=Ud(t),h=!0;if(r.type&3||s){let v=Ft(r,t),g=s?s(v):v,b=p.length,M=s?H=>s(Rt(H[r.index])):r.index,P=null;if(!s&&a&&(P=nS(e,t,o,r.index)),P!==null){let H=P.__ngLastListenerFn__||P;H.__ngNextListenerFn__=i,P.__ngLastListenerFn__=i,h=!1}else{i=Fm(r,t,i);let H=t[Wt].get(vn);Pf.get(H)?.(g,o,i);let pe=n.listen(g,o,i);p.push(i,pe),f&&f.push(o,M,b,b+1)}}else i=Fm(r,t,i);if(h){let v=r.outputs?.[o],g=r.hostDirectiveOutputs?.[o];if(g&&g.length)for(let b=0;b<g.length;b+=2){let M=g[b],P=g[b+1];Vm(r,t,M,P,o,i)}if(v&&v.length)for(let b of v)Vm(r,t,b,o,o,i)}}function y(e=1){return Vb(e)}function Iv(e,t,n){Rx(e,t,n)}function Nf(e){let t=Y(),n=Le(),r=Sg();Gd(r+1);let o=Mf(n,r);if(e.dirty&&yb(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=Lx(t,r);e.reset(i,fD),e.notifyOnChanges()}return!0}return!1}function Of(){return Nx(Y(),Sg())}function rS(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Tv(e){let t=Tb();return ja(t,ye+e)}function c(e,t=""){let n=Y(),r=Le(),o=e+ye,i=r.firstCreatePass?rl(r,o,1,t,null):r.data[o],s=Pv(r,n,i,t,e);n[o]=s,$a()&&Ja(r,n,s,i),Mr(i,!1)}var Pv=(e,t,n,r,o)=>(Wn(!0),P0(t[me],r));function oS(e,t,n,r,o){let i=t[qt],s=!i||_i()||xo(n)||Ei(i,o);return Wn(s),s?P0(t[me],r):ol(i,e,t,n)}function iS(){Pv=oS}function B(e){return ne("",e,""),B}function ne(e,t,n){let r=Y(),o=wM(r,e,t,n);return o!==wn&&Nv(r,Ir(),o),ne}function Re(e,t,n,r,o){let i=Y(),s=xM(i,e,t,n,r,o);return s!==wn&&Nv(i,Ir(),s),Re}function Nv(e,t,n){let r=Cg(t,e);VA(e[me],r,n)}function Ve(e,t,n){e0(t)&&(t=t());let r=Y(),o=Ua();if(Xt(r,o,t)){let i=Le(),s=Zd();U0(i,s,r,e,t,r[me],n,!1)}return Ve}function $e(e,t){let n=e0(e);return n&&e.set(t),n}function je(e,t){let n=Y(),r=Le(),o=Qe();return Sv(r,n,n[me],o,e,t),je}function sS(e,t,n){let r=Le();if(r.firstCreatePass){let o=Zt(e);Ad(n,r.data,r.blueprint,o,!0),Ad(t,r.data,r.blueprint,o,!1)}}function Ad(e,t,n,r,o){if(e=Ze(e),Array.isArray(e))for(let i=0;i<e.length;i++)Ad(e[i],t,n,r,o);else{let i=Le(),s=Y(),a=Qe(),l=uo(e)?e:Ze(e.provide),f=fg(e),p=a.providerIndexes&1048575,h=a.directiveStart,v=a.providerIndexes>>20;if(uo(e)||!e.multi){let g=new br(f,o,F),b=Lu(l,t,o?p:p+v,h);b===-1?(Yu(va(a,s),i,l),Fu(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[b]=g,s[b]=g)}else{let g=Lu(l,t,p+v,h),b=Lu(l,t,p,p+v),M=g>=0&&n[g],P=b>=0&&n[b];if(o&&!P||!o&&!M){Yu(va(a,s),i,l);let H=cS(o?lS:aS,n.length,o,r,f);!o&&P&&(n[b].providerFactory=H),Fu(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(H),s.push(H)}else{let H=Ov(n[o?b:g],f,!o&&r);Fu(i,e,g>-1?g:b,H)}!o&&r&&P&&n[b].componentProviders++}}}function Fu(e,t,n,r){let o=uo(t),i=sb(t);if(o||i){let l=(i?Ze(t.useClass):t).prototype.ngOnDestroy;if(l){let f=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let p=f.indexOf(n);p===-1?f.push(n,[r,l]):f[p+1].push(r,l)}else f.push(n,l)}}}function Ov(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lu(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function aS(e,t,n,r,o){return wd(this.multi,[])}function lS(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=fi(r,r[j],this.providerFactory.index,o);s=l.slice(0,a),wd(i,s);for(let f=a;f<l.length;f++)s.push(l[f])}else s=[],wd(i,s);return s}function wd(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function cS(e,t,n,r,o){let i=new br(e,n,F);return i.multi=[],i.index=t,i.componentProviders=0,Ov(i,o,r&&!n),i}function Pr(e,t=[]){return n=>{n.providersResolver=(r,o)=>sS(r,o?o(e):e,t)}}function Mn(e,t,n,r){return Rv(Y(),Sr(),e,t,n,r)}function ul(e,t,n,r,o){return kv(Y(),Sr(),e,t,n,r,o)}function So(e,t,n,r,o,i){return Fv(Y(),Sr(),e,t,n,r,o,i)}function dl(e,t,n,r,o,i,s,a){let l=Sr()+e,f=Y(),p=eM(f,l,n,r,o,i);return Xt(f,l+4,s)||p?cl(f,l+5,a?t.call(a,n,r,o,i,s):t(n,r,o,i,s)):Xx(f,l+5)}function Rf(e,t){let n=e[t];return n===wn?void 0:n}function Rv(e,t,n,r,o,i){let s=t+n;return Xt(e,s,o)?cl(e,s+1,i?r.call(i,o):r(o)):Rf(e,s+1)}function kv(e,t,n,r,o,i,s){let a=t+n;return mi(e,a,o,i)?cl(e,a+2,s?r.call(s,o,i):r(o,i)):Rf(e,a+2)}function Fv(e,t,n,r,o,i,s,a){let l=t+n;return Jx(e,l,o,i,s)?cl(e,l+3,a?r.call(a,o,i,s):r(o,i,s)):Rf(e,l+3)}function Ee(e,t){let n=Le(),r,o=e+ye;n.firstCreatePass?(r=uS(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=gr(r.type,!0)),s,a=et(F);try{let l=ga(!1),f=i();return ga(l),rS(n,Y(),o,f),f}finally{et(a)}}function uS(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Io(e,t,n){let r=e+ye,o=Y(),i=ja(o,r);return kf(o,r)?Rv(o,Sr(),t,i.transform,n,i):i.transform(n)}function He(e,t,n,r){let o=e+ye,i=Y(),s=ja(i,o);return kf(i,o)?kv(i,Sr(),t,s.transform,n,r,s):s.transform(n,r)}function Lv(e,t,n,r,o){let i=e+ye,s=Y(),a=ja(s,i);return kf(s,i)?Fv(s,Sr(),t,a.transform,n,r,o,a):a.transform(n,r,o)}function kf(e,t){return e[j].data[t].pure}function Vv(e,t){return nl(e,t)}var xd=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},jv=(()=>{class e{compileModuleSync(n){return new Cd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=ag(n),i=I0(o.declarations).reduce((s,a)=>{let l=zn(a);return l&&s.push(new go(l)),s},[]);return new xd(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dS=(()=>{class e{zone=E(ve);changeDetectionScheduler=E(Gn);applicationRef=E(ot);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fS=new S("",{factory:()=>!1});function Bv({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ve(R(A({},$v()),{scheduleInRootZone:n})),[{provide:ve,useFactory:e},{provide:Hn,multi:!0,useFactory:()=>{let r=E(dS,{optional:!0});return()=>r.initialize()}},{provide:Hn,multi:!0,useFactory:()=>{let r=E(pS);return()=>{r.initialize()}}},t===!0?{provide:Yg,useValue:!0}:[],{provide:Qg,useValue:n??Zg}]}function Uv(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Bv({ngZoneFactory:()=>{let o=$v(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&nn("NgZone_CoalesceEvent"),new ve(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return An([{provide:fS,useValue:!0},{provide:Ha,useValue:!1},r])}function $v(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var pS=(()=>{class e{subscription=new Ae;initialized=!1;zone=E(ve);pendingTasks=E(en);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hS=(()=>{class e{appRef=E(ot);taskService=E(en);ngZone=E(ve);zonelessEnabled=E(Ha);tracing=E(wo,{optional:!0});disableScheduling=E(Yg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ae;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_a):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Qg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ju||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?am:Kg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_a+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,am(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mS(){return typeof $localize<"u"&&$localize.locale||Ta}var fl=new S("",{providedIn:"root",factory:()=>E(fl,W.Optional|W.SkipSelf)||mS()});var Md=new S(""),gS=new S("");function ii(e){return!e.moduleRef}function vS(e){let t=ii(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ve);return n.run(()=>{ii(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Qt,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),ii(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Md);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Md);s.add(i),e.moduleRef.onDestroy(()=>{ra(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return _S(r,n,()=>{let i=t.get(wv);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(fl,Ta);if(XM(s||Ta),!t.get(gS,!0))return ii(e)?t.get(ot):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ii(e)){let l=t.get(ot);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return yS(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function yS(e,t){let n=e.injector.get(ot);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new I(-403,!1);t.push(e)}function _S(e,t,n){try{let r=n();return Tr(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var oa=null;function CS(e=[],t){return Ye.create({name:t,providers:[{provide:ka,useValue:"platform"},{provide:Md,useValue:new Set([()=>oa=null])},...e]})}function ES(e=[]){if(oa)return oa;let t=CS(e);return oa=t,dM(),bS(t),t}function bS(e){let t=e.get(ef,null);it(e,()=>{t?.forEach(n=>n())})}var Nr=(()=>{class e{static __NG_ELEMENT_ID__=DS}return e})();function DS(e){return AS(Qe(),Y(),(e&16)===16)}function AS(e,t,n){if(wr(e)&&!n){let r=Yt(e.index,t);return new hi(r,r)}else if(e.type&175){let r=t[_t];return new hi(r,t)}return null}var Sd=class{constructor(){}supports(t){return yv(t)}create(t){return new Id(t)}},wS=(e,t)=>t,Id=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||wS}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<jm(r,o,i)?n:r,a=jm(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let f=a-o,p=l-o;if(f!=p){for(let v=0;v<f;v++){let g=v<i.length?i[v]:i[v]=0,b=g+v;p<=b&&b<f&&(i[v]=g+1)}let h=s.previousIndex;i[h]=p-f}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!yv(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,Qx(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Td(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Pa),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Td=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Pd=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Pa=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Pd,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function jm(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Bm(){return new Ff([new Sd])}var Ff=(()=>{class e{factories;static \u0275prov=T({token:e,providedIn:"root",factory:Bm});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Bm()),deps:[[e,new QE,new rg]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new I(901,!1)}}return e})();function Hv(e){ie(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=ES(r),i=[Bv({}),{provide:Gn,useExisting:hS},...n||[]],s=new Sa({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return vS({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ie(9)}}var Ks=new WeakSet,Um="",ia=[];function $m(e){return e.get(m0,RD)}function zv(){let e=[{provide:m0,useFactory:()=>{let t=!0;{let n=E(vn);t=!!window._ejsas?.[n]}return t&&nn("NgEventReplay"),t}}];return e.push({provide:Hn,useValue:()=>{let t=E(ot),{injector:n}=t;if(!Ks.has(t)){let r=E(fm);if($m(n)){let o=n.get(vn);eS(o,(i,s,a)=>{i.nodeType===Node.ELEMENT_NODE&&(XD(i,s,a),JD(i,r))})}}},multi:!0},{provide:Qn,useFactory:()=>{let t=E(ot),{injector:n}=t;return()=>{!$m(n)||Ks.has(t)||(Ks.add(t),t.onDestroy(()=>{Ks.delete(t);{let r=n.get(vn);_u(r),tS(r)}}),t.whenStable().then(()=>{if(t.destroyed)return;let r=n.get(tA);xS(r,n);let o=n.get(fm);o.get(Um)?.forEach(eA),o.delete(Um);let i=r.instance;dA(n)?t.onDestroy(()=>i.cleanUp()):i.cleanUp()}))}},multi:!0}),e}var xS=(e,t)=>{let n=t.get(vn),r=window._ejsas[n],o=e.instance=new Gh(new Gs(r.c));for(let a of r.et)o.addEvent(a);for(let a of r.etc)o.addEvent(a);let i=qh(n);o.replayEarlyEventInfos(i),_u(n);let s=new qs(a=>{MS(t,a,a.currentTarget)});zh(o,s)};function MS(e,t,n){let r=(n&&n.getAttribute(Za))??"";/d\d+/.test(r)?SS(r,e,t,n):t.eventPhase===yu.REPLAY&&_0(t,n)}function SS(e,t,n,r){ia.push({event:n,currentTarget:r}),yM(t,e,IS)}function IS(e){let t=[...ia],n=new Set(e);ia=[];for(let{event:r,currentTarget:o}of t){let i=o.getAttribute(Za);n.has(i)?_0(r,o):ia.push({event:r,currentTarget:o})}}var Hm=!1;function TS(){Hm||(Hm=!0,aA(),zM(),iS(),WM(),oM(),Mx(),ex(),WA())}function PS(e){return e.whenStable()}function Gv(){let e=[{provide:Zs,useFactory:()=>{let t=!0;return t=!!E(Ao,{optional:!0})?.get(C0,null),t&&nn("NgHydration"),t}},{provide:Hn,useValue:()=>{Ww(!1),E(Zs)&&(mA(za()),TS())},multi:!0}];return e.push({provide:h0,useFactory:()=>E(Zs)},{provide:Qn,useFactory:()=>{if(E(Zs)){let t=E(ot);return()=>{PS(t).then(()=>{t.destroyed||ov(t)})}}return()=>{}},multi:!0}),An(e)}function Kn(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Sn(e){return Zc(e)}function re(e,t){return zc(e,t?.equal)}var Nd=class{[gt];constructor(t){this[gt]=t}destroy(){this[gt].destroy()}};function Lf(e,t){!t?.injector&&Vd(Lf);let n=t?.injector??E(Ye),r=t?.manualCleanup!==!0?n.get(Eo):null,o,i=n.get(of,null,{optional:!0}),s=n.get(Gn);return i!==null&&!t?.forceRoot?(o=RS(i.view,s,e),r instanceof ya&&r._lView===i.view&&(r=null)):o=kS(e,n.get(bv),s),o.injector=n,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new Nd(o)}var qv=R(A({},Hr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:pi,run(){if(this.dirty=!1,this.hasRun&&!hs(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),t=Ko(this),n=pa(!1);try{this.maybeCleanup(),this.fn(e)}finally{pa(n),ps(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),NS=R(A({},qv),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Xo(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),OS=R(A({},qv),{consumerMarkedDirty(){this.view[$]|=8192,Co(this.view),this.notifier.notify(13)},destroy(){Xo(this),this.onDestroyFn(),this.maybeCleanup(),this.view[_r]?.delete(this)}});function RS(e,t,n){let r=Object.create(OS);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=n,e[_r]??=new Set,e[_r].add(r),r.consumerMarkedDirty(r),r}function kS(e,t,n){let r=Object.create(NS);return r.fn=e,r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function Wv(e){let t=zn(e);if(!t)return null;let n=new go(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var xe=new S("");var Qv=null;function Dt(){return Qv}function Vf(e){Qv??=e}var Di=class{},Ai=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>E(Kv),providedIn:"platform"})}return e})(),jf=new S(""),Kv=(()=>{class e extends Ai{_location;_history;_doc=E(xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dt().getBaseHref(this._doc)}onPopState(n){let r=Dt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Dt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function pl(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Zv(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Vt(e){return e&&e[0]!=="?"?`?${e}`:e}var jt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>E(ml),providedIn:"root"})}return e})(),hl=new S(""),ml=(()=>{class e extends jt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return pl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Vt(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Vt(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Vt(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(O(Ai),O(hl,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xn=(()=>{class e{_subject=new le;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=VS(Zv(Yv(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vt(r))}normalize(n){return e.stripTrailingSlash(LS(this._basePath,Yv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vt(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Vt;static joinWithSlash=pl;static stripTrailingSlash=Zv;static \u0275fac=function(r){return new(r||e)(O(jt))};static \u0275prov=T({token:e,factory:()=>FS(),providedIn:"root"})}return e})();function FS(){return new Xn(O(jt))}function LS(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Yv(e){return e.replace(/\/index.html$/,"")}function VS(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var zf=(()=>{class e extends jt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=pl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Vt(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Vt(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(O(Ai),O(hl,8))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();var Ge=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ge||{}),ae=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ae||{}),at=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(at||{}),Tn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ny(e){return bt(e)[De.LocaleId]}function ry(e,t,n){let r=bt(e),o=[r[De.DayPeriodsFormat],r[De.DayPeriodsStandalone]],i=At(o,t);return At(i,n)}function oy(e,t,n){let r=bt(e),o=[r[De.DaysFormat],r[De.DaysStandalone]],i=At(o,t);return At(i,n)}function iy(e,t,n){let r=bt(e),o=[r[De.MonthsFormat],r[De.MonthsStandalone]],i=At(o,t);return At(i,n)}function sy(e,t){let r=bt(e)[De.Eras];return At(r,t)}function wi(e,t){let n=bt(e);return At(n[De.DateFormat],t)}function xi(e,t){let n=bt(e);return At(n[De.TimeFormat],t)}function Mi(e,t){let r=bt(e)[De.DateTimeFormat];return At(r,t)}function Si(e,t){let n=bt(e),r=n[De.NumberSymbols][t];if(typeof r>"u"){if(t===Tn.CurrencyDecimal)return n[De.NumberSymbols][Tn.Decimal];if(t===Tn.CurrencyGroup)return n[De.NumberSymbols][Tn.Group]}return r}function ay(e){if(!e[De.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[De.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ly(e){let t=bt(e);return ay(t),(t[De.ExtraData][2]||[]).map(r=>typeof r=="string"?Bf(r):[Bf(r[0]),Bf(r[1])])}function cy(e,t,n){let r=bt(e);ay(r);let o=[r[De.ExtraData][0],r[De.ExtraData][1]],i=At(o,t)||[];return At(i,n)||[]}function At(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function Bf(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var jS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gl={},BS=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function uy(e,t,n,r){let o=YS(e);t=In(n,t)||t;let s=[],a;for(;t;)if(a=BS.exec(t),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;t=p}else{s.push(t);break}let l=o.getTimezoneOffset();r&&(l=fy(r,l),o=ZS(o,r));let f="";return s.forEach(p=>{let h=qS(p);f+=h?h(o,n,l):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function El(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function In(e,t){let n=ny(e);if(gl[n]??={},gl[n][t])return gl[n][t];let r="";switch(t){case"shortDate":r=wi(e,at.Short);break;case"mediumDate":r=wi(e,at.Medium);break;case"longDate":r=wi(e,at.Long);break;case"fullDate":r=wi(e,at.Full);break;case"shortTime":r=xi(e,at.Short);break;case"mediumTime":r=xi(e,at.Medium);break;case"longTime":r=xi(e,at.Long);break;case"fullTime":r=xi(e,at.Full);break;case"short":let o=In(e,"shortTime"),i=In(e,"shortDate");r=vl(Mi(e,at.Short),[o,i]);break;case"medium":let s=In(e,"mediumTime"),a=In(e,"mediumDate");r=vl(Mi(e,at.Medium),[s,a]);break;case"long":let l=In(e,"longTime"),f=In(e,"longDate");r=vl(Mi(e,at.Long),[l,f]);break;case"full":let p=In(e,"fullTime"),h=In(e,"fullDate");r=vl(Mi(e,at.Full),[p,h]);break}return r&&(gl[n][t]=r),r}function vl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function Bt(e,t,n="-",r,o){let i="";(e<0||o&&e<=0)&&(o?e=-e+1:(e=-e,i=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),i+s}function US(e,t){return Bt(e,3).substring(0,t)}function Me(e,t,n=0,r=!1,o=!1){return function(i,s){let a=$S(e,i);if((n>0||a>-n)&&(a+=n),e===3)a===0&&n===-12&&(a=12);else if(e===6)return US(a,t);let l=Si(s,Tn.MinusSign);return Bt(a,t,l,r,o)}}function $S(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function fe(e,t,n=Ge.Format,r=!1){return function(o,i){return HS(o,i,e,t,n,r)}}function HS(e,t,n,r,o,i){switch(n){case 2:return iy(t,o,r)[e.getMonth()];case 1:return oy(t,o,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(i){let f=ly(t),p=cy(t,o,r),h=f.findIndex(v=>{if(Array.isArray(v)){let[g,b]=v,M=s>=g.hours&&a>=g.minutes,P=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(M&&P)return!0}else if(M||P)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(h!==-1)return p[h]}return ry(t,o,r)[s<12?0:1];case 3:return sy(t,r)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function yl(e){return function(t,n,r){let o=-1*r,i=Si(n,Tn.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+Bt(s,2,i)+Bt(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+Bt(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+Bt(s,2,i)+":"+Bt(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+Bt(s,2,i)+":"+Bt(Math.abs(o%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}var zS=0,Cl=4;function GS(e){let t=El(e,zS,1).getDay();return El(e,0,1+(t<=Cl?Cl:Cl+7)-t)}function dy(e){let t=e.getDay(),n=t===0?-3:Cl-t;return El(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Uf(e,t=!1){return function(n,r){let o;if(t){let i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{let i=dy(n),s=GS(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Bt(o,e,Si(r,Tn.MinusSign))}}function _l(e,t=!1){return function(n,r){let i=dy(n).getFullYear();return Bt(i,e,Si(r,Tn.MinusSign),t)}}var $f={};function qS(e){if($f[e])return $f[e];let t;switch(e){case"G":case"GG":case"GGG":t=fe(3,ae.Abbreviated);break;case"GGGG":t=fe(3,ae.Wide);break;case"GGGGG":t=fe(3,ae.Narrow);break;case"y":t=Me(0,1,0,!1,!0);break;case"yy":t=Me(0,2,0,!0,!0);break;case"yyy":t=Me(0,3,0,!1,!0);break;case"yyyy":t=Me(0,4,0,!1,!0);break;case"Y":t=_l(1);break;case"YY":t=_l(2,!0);break;case"YYY":t=_l(3);break;case"YYYY":t=_l(4);break;case"M":case"L":t=Me(1,1,1);break;case"MM":case"LL":t=Me(1,2,1);break;case"MMM":t=fe(2,ae.Abbreviated);break;case"MMMM":t=fe(2,ae.Wide);break;case"MMMMM":t=fe(2,ae.Narrow);break;case"LLL":t=fe(2,ae.Abbreviated,Ge.Standalone);break;case"LLLL":t=fe(2,ae.Wide,Ge.Standalone);break;case"LLLLL":t=fe(2,ae.Narrow,Ge.Standalone);break;case"w":t=Uf(1);break;case"ww":t=Uf(2);break;case"W":t=Uf(1,!0);break;case"d":t=Me(2,1);break;case"dd":t=Me(2,2);break;case"c":case"cc":t=Me(7,1);break;case"ccc":t=fe(1,ae.Abbreviated,Ge.Standalone);break;case"cccc":t=fe(1,ae.Wide,Ge.Standalone);break;case"ccccc":t=fe(1,ae.Narrow,Ge.Standalone);break;case"cccccc":t=fe(1,ae.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":t=fe(1,ae.Abbreviated);break;case"EEEE":t=fe(1,ae.Wide);break;case"EEEEE":t=fe(1,ae.Narrow);break;case"EEEEEE":t=fe(1,ae.Short);break;case"a":case"aa":case"aaa":t=fe(0,ae.Abbreviated);break;case"aaaa":t=fe(0,ae.Wide);break;case"aaaaa":t=fe(0,ae.Narrow);break;case"b":case"bb":case"bbb":t=fe(0,ae.Abbreviated,Ge.Standalone,!0);break;case"bbbb":t=fe(0,ae.Wide,Ge.Standalone,!0);break;case"bbbbb":t=fe(0,ae.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":t=fe(0,ae.Abbreviated,Ge.Format,!0);break;case"BBBB":t=fe(0,ae.Wide,Ge.Format,!0);break;case"BBBBB":t=fe(0,ae.Narrow,Ge.Format,!0);break;case"h":t=Me(3,1,-12);break;case"hh":t=Me(3,2,-12);break;case"H":t=Me(3,1);break;case"HH":t=Me(3,2);break;case"m":t=Me(4,1);break;case"mm":t=Me(4,2);break;case"s":t=Me(5,1);break;case"ss":t=Me(5,2);break;case"S":t=Me(6,1);break;case"SS":t=Me(6,2);break;case"SSS":t=Me(6,3);break;case"Z":case"ZZ":case"ZZZ":t=yl(0);break;case"ZZZZZ":t=yl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=yl(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=yl(2);break;default:return null}return $f[e]=t,t}function fy(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function WS(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function ZS(e,t,n){let o=e.getTimezoneOffset(),i=fy(t,o);return WS(e,-1*(i-o))}function YS(e){if(Xv(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[o,i=1,s=1]=e.split("-").map(a=>+a);return El(o,i-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(jS))return QS(r)}let t=new Date(e);if(!Xv(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function QS(e){let t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),f=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return i.call(t,s,a,l,f),t}function Xv(e){return e instanceof Date&&!isNaN(e.valueOf())}var Hf=/\s+/,Jv=[],Ut=(()=>{class e{_ngEl;_renderer;initialClasses=Jv;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Hf):Jv}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Hf):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Hf).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(F(st),F(rn))};static \u0275dir=_e({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var bl=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qe=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new bl(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),ey(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);ey(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(F(Yn),F(Dr),F(Ff))};static \u0275dir=_e({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function ey(e,t){e.context.$implicit=t.item}var ze=(()=>{class e{_viewContainer;_context=new Dl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ty(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ty(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(F(Yn),F(Dr))};static \u0275dir=_e({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Dl=class{$implicit=null;ngIf=null};function ty(e,t){if(e&&!e.createEmbeddedView)throw new I(2020,!1)}function Gf(e,t){return new I(2100,!1)}var KS=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Ii=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw Gf(e,n);return n.replace(KS,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=ll({name:"titlecase",type:e,pure:!0})}return e})();var XS="mediumDate",py=new S(""),hy=new S(""),Pn=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??XS,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return uy(n,s,i||this.locale,a)}catch(s){throw Gf(e,s.message)}}static \u0275fac=function(r){return new(r||e)(F(fl,16),F(py,24),F(hy,24))};static \u0275pipe=ll({name:"date",type:e,pure:!0})}return e})();var qf=(()=>{class e{transform(n,r,o){if(n==null)return null;if(!(typeof n=="string"||Array.isArray(n)))throw Gf(e,n);return n.slice(r,o)}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=ll({name:"slice",type:e,pure:!1})}return e})();var Se=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Et({type:e});static \u0275inj=Ct({})}return e})();function Ti(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Al="browser",my="server";function wl(e){return e===Al}function xl(e){return e===my}var Or=class{};var vy=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new Wf(E(xe),window)})}return e})(),Wf=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=JS(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function JS(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var Il=new S(""),Kf=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(O(Il),O(ve))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Pi=class{_doc;constructor(t){this._doc=t}manager},Ml="ng-app-id";function yy(e){for(let t of e)t.remove()}function _y(e,t){let n=t.createElement("style");return n.textContent=e,n}function eI(e,t,n,r){let o=e.head?.querySelectorAll(`style[${Ml}="${t}"],link[${Ml}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Ml),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Yf(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Xf=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=xl(i),eI(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,_y);r?.forEach(o=>this.addUsage(o,this.external,Yf))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(yy(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])yy(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,_y(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Yf(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ml,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(O(xe),O(vn),O(tf,8),O(tn))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Zf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jf=/%COMP%/g;var Ey="%COMP%",tI=`_nghost-${Ey}`,nI=`_ngcontent-${Ey}`,rI=!0,oI=new S("",{providedIn:"root",factory:()=>rI});function iI(e){return nI.replace(Jf,e)}function sI(e){return tI.replace(Jf,e)}function by(e,t){return t.map(n=>n.replace(Jf,e))}var ep=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,l,f=null,p=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=f,this.tracingService=p,this.platformIsServer=xl(a),this.defaultRenderer=new Ni(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Kt.ShadowDom&&(r=R(A({},r),{encapsulation:Kt.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Sl?o.applyToHost(n):o instanceof Oi&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,h=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Kt.Emulated:i=new Sl(l,f,r,this.appId,p,s,a,h,v);break;case Kt.ShadowDom:return new Qf(l,f,n,r,s,a,this.nonce,h,v);default:i=new Oi(l,f,r,p,s,a,h,v);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(O(Kf),O(Xf),O(vn),O(oI),O(xe),O(tn),O(ve),O(tf),O(wo,8))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Ni=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Zf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Cy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Cy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Zf[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Zf[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(bn.DashCase|bn.Important)?t.style.setProperty(n,r,o&bn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&bn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Dt().getGlobalEventTarget(this.doc,t),!t))throw new I(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Cy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Qf=class extends Ni{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,l,f){super(t,i,s,l,f),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=o.styles;p=by(o.id,p);for(let v of p){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=v,this.shadowRoot.appendChild(g)}let h=o.getExternalStyles?.();if(h)for(let v of h){let g=Yf(v,i);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oi=class extends Ni{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,l,f){super(t,i,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let p=r.styles;this.styles=f?by(f,p):p,this.styleUrls=r.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Sl=class extends Oi{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,l,f){let p=o+"-"+r.id;super(t,n,r,i,s,a,l,f,p),this.contentAttr=iI(p),this.hostAttr=sI(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Tl=class e extends Di{supportsDOMEvents=!0;static makeCurrent(){Vf(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=aI();return n==null?null:lI(n)}resetBaseElement(){Ri=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ti(document.cookie,t)}},Ri=null;function aI(){return Ri=Ri||document.querySelector("base"),Ri?Ri.getAttribute("href"):null}function lI(e){return new URL(e,document.baseURI).pathname}var cI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Ay=(()=>{class e extends Pi{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(O(xe))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Dy=["alt","control","meta","shift"],uI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},wy=(()=>{class e extends Pi{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Dy.forEach(f=>{let p=r.indexOf(f);p>-1&&(r.splice(p,1),s+=f+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=uI[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Dy.forEach(s=>{if(s!==o){let a=dI[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(O(xe))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function tp(e,t){return Hv(A({rootComponent:e},fI(t)))}function fI(e){return{appProviders:[...vI,...e?.providers??[]],platformProviders:gI}}function pI(){Tl.makeCurrent()}function hI(){return new Qt}function mI(){return l0(document),document}var gI=[{provide:tn,useValue:Al},{provide:ef,useValue:pI,multi:!0},{provide:xe,useFactory:mI}];var vI=[{provide:ka,useValue:"root"},{provide:Qt,useFactory:hI},{provide:Il,useClass:Ay,multi:!0,deps:[xe]},{provide:Il,useClass:wy,multi:!0,deps:[xe]},ep,Xf,Kf,{provide:mo,useExisting:ep},{provide:Or,useClass:cI},[]];var Po=class{},ki=class{},Rn=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Nl=class{encodeKey(t){return xy(t)}encodeValue(t){return xy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function yI(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var _I=/%(\d[a-f0-9])/gi,CI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xy(e){return encodeURIComponent(e).replace(_I,(t,n)=>CI[n]??t)}function Pl(e){return`${e}`}var On=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Nl,t.fromString){if(t.fromObject)throw new I(2805,!1);this.map=yI(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(Pl):[Pl(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Pl(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(Pl(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ol=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function EI(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function My(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Sy(e){return typeof Blob<"u"&&e instanceof Blob}function Iy(e){return typeof FormData<"u"&&e instanceof FormData}function bI(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Ty="Content-Type",Py="Accept",Ny="X-Request-URL",Oy="text/plain",Ry="application/json",DI=`${Ry}, ${Oy}, */*`,To=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let i;if(EI(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new Rn,this.context??=new Ol,!this.params)this.params=new On,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||My(this.body)||Sy(this.body)||Iy(this.body)||bI(this.body)?this.body:this.body instanceof On?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Iy(this.body)?null:Sy(this.body)?this.body.type||null:My(this.body)?null:typeof this.body=="string"?Oy:this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Ry:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,f=t.headers||this.headers,p=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(f=Object.keys(t.setHeaders).reduce((v,g)=>v.set(g,t.setHeaders[g]),f)),t.setParams&&(p=Object.keys(t.setParams).reduce((v,g)=>v.set(g,t.setParams[g]),p)),new e(n,r,s,{params:p,headers:f,context:h,reportProgress:l,responseType:o,withCredentials:a,transferCache:i})}},Rr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Rr||{}),No=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Rn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Rl=class e extends No{constructor(t={}){super(t)}type=Rr.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},kr=class e extends No{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Rr.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Fi=class extends No{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},AI=200,wI=204;function np(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var wt=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof To)i=n;else{let l;o.headers instanceof Rn?l=o.headers:l=new Rn(o.headers);let f;o.params&&(o.params instanceof On?f=o.params:f=new On({fromObject:o.params})),i=new To(n,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=k(i).pipe(zt(l=>this.handler.handle(l)));if(n instanceof To||o.observe==="events")return s;let a=s.pipe(We(l=>l instanceof kr));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(G(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new I(2806,!1);return l.body}));case"blob":return a.pipe(G(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new I(2807,!1);return l.body}));case"text":return a.pipe(G(l=>{if(l.body!==null&&typeof l.body!="string")throw new I(2808,!1);return l.body}));case"json":default:return a.pipe(G(l=>l.body))}case"response":return a;default:throw new I(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new On().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,np(o,r))}post(n,r,o={}){return this.request("POST",n,np(o,r))}put(n,r,o={}){return this.request("PUT",n,np(o,r))}static \u0275fac=function(r){return new(r||e)(O(Po))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();var xI=new S("");function MI(e,t){return t(e)}function SI(e,t,n){return(r,o)=>it(n,()=>t(r,i=>e(i,o)))}var ky=new S(""),op=new S(""),Fy=new S("",{providedIn:"root",factory:()=>!0});var kl=(()=>{class e extends Po{backend;injector;chain=null;pendingTasks=E(en);contributeToStability=E(Fy);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ky),...this.injector.get(op,[])]));this.chain=r.reduceRight((o,i)=>SI(o,i,this.injector),MI)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(mn(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(O(ki),O(Ue))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();var II=/^\)\]\}',?\n/,TI=RegExp(`^${Ny}:`,"m");function PI(e){return"responseURL"in e&&e.responseURL?e.responseURL:TI.test(e.getAllResponseHeaders())?e.getResponseHeader(Ny):null}var rp=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new I(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?de(r.\u0275loadImpl()):k(null)).pipe(Je(()=>new X(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((M,P)=>s.setRequestHeader(M,P.join(","))),n.headers.has(Py)||s.setRequestHeader(Py,DI),!n.headers.has(Ty)){let M=n.detectContentTypeHeader();M!==null&&s.setRequestHeader(Ty,M)}if(n.responseType){let M=n.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=n.serializeBody(),l=null,f=()=>{if(l!==null)return l;let M=s.statusText||"OK",P=new Rn(s.getAllResponseHeaders()),H=PI(s)||n.url;return l=new Rl({headers:P,status:s.status,statusText:M,url:H}),l},p=()=>{let{headers:M,status:P,statusText:H,url:Ht}=f(),pe=null;P!==wI&&(pe=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=pe?AI:0);let Zo=P>=200&&P<300;if(n.responseType==="json"&&typeof pe=="string"){let vC=pe;pe=pe.replace(II,"");try{pe=pe!==""?JSON.parse(pe):null}catch(yC){pe=vC,Zo&&(Zo=!1,pe={error:yC,text:pe})}}Zo?(i.next(new kr({body:pe,headers:M,status:P,statusText:H,url:Ht||void 0})),i.complete()):i.error(new Fi({error:pe,headers:M,status:P,statusText:H,url:Ht||void 0}))},h=M=>{let{url:P}=f(),H=new Fi({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});i.error(H)},v=!1,g=M=>{v||(i.next(f()),v=!0);let P={type:Rr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(P.total=M.total),n.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),i.next(P)},b=M=>{let P={type:Rr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(P.total=M.total),i.next(P)};return s.addEventListener("load",p),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),i.next({type:Rr.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",p),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(O(Or))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Ly=new S(""),NI="XSRF-TOKEN",OI=new S("",{providedIn:"root",factory:()=>NI}),RI="X-XSRF-TOKEN",kI=new S("",{providedIn:"root",factory:()=>RI}),Li=class{},FI=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ti(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(O(xe),O(OI))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function LI(e,t){let n=e.url.toLowerCase();if(!E(Ly)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=E(Li).getToken(),o=E(kI);return r!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}function ip(...e){let t=[wt,rp,kl,{provide:Po,useExisting:kl},{provide:ki,useFactory:()=>E(xI,{optional:!0})??E(rp)},{provide:ky,useValue:LI,multi:!0},{provide:Ly,useValue:!0},{provide:Li,useClass:FI}];for(let n of e)t.push(...n.\u0275providers);return An(t)}var VI=new S(""),jI="b",BI="h",UI="s",$I="st",HI="u",zI="rt",sp=new S(""),GI=["GET","HEAD"];function qI(e,t){let v=E(sp),{isCacheActive:n}=v,r=Xp(v,["isCacheActive"]),{transferCache:o,method:i}=e;if(!n||o===!1||i==="POST"&&!r.includePostRequests&&!o||i!=="POST"&&!GI.includes(i)||!r.includeRequestsWithAuthHeaders&&WI(e)||r.filter?.(e)===!1)return t(e);let s=E(Ao);if(E(VI,{optional:!0}))throw new I(2803,!1);let l=e.url,f=ZI(e,l),p=s.get(f,null),h=r.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(h=o.includeHeaders),p){let{[jI]:g,[zI]:b,[BI]:M,[UI]:P,[$I]:H,[HI]:Ht}=p,pe=g;switch(b){case"arraybuffer":pe=new TextEncoder().encode(g).buffer;break;case"blob":pe=new Blob([g]);break}let Zo=new Rn(M);return k(new kr({body:pe,headers:Zo,status:P,statusText:H,url:Ht}))}return t(e).pipe(Te(g=>{g instanceof kr}))}function WI(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function Vy(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function ZI(e,t){let{params:n,method:r,responseType:o}=e,i=Vy(n),s=e.serializeBody();s instanceof URLSearchParams?s=Vy(s):typeof s!="string"&&(s="");let a=[r,o,t,s,i].join("|"),l=YI(a);return l}function YI(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function jy(e){return[{provide:sp,useFactory:()=>(nn("NgHttpTransferCache"),A({isCacheActive:!0},e))},{provide:op,useValue:qI,multi:!0},{provide:Qn,multi:!0,useFactory:()=>{let t=E(ot),n=E(sp);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var By=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(O(xe))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Fl=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(Fl||{});function QI(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function Uy(){return QI(Fl.EventReplay,zv())}function $y(...e){let t=[],n=new Set;for(let{\u0275providers:o,\u0275kind:i}of e)n.add(i),o.length&&t.push(o);let r=n.has(Fl.HttpTransferCacheOptions);return An([[],Gv(),n.has(Fl.NoHttpTransferCache)||r?[]:jy({}),t])}var q="primary",Qi=Symbol("RouteTitle"),fp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vr(e){return new fp(e)}function Qy(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function XI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!on(e[n],t[n]))return!1;return!0}function on(e,t){let n=e?pp(e):void 0,r=t?pp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Ky(e[o],t[o]))return!1;return!0}function pp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Ky(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function Xy(e){return e.length>0?e[e.length-1]:null}function rr(e){return iu(e)?e:Tr(e)?de(Promise.resolve(e)):k(e)}var JI={exact:e_,subset:t_},Jy={exact:eT,subset:tT,ignored:()=>!0};function Hy(e,t,n){return JI[n.paths](e.root,t.root,n.matrixParams)&&Jy[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function eT(e,t){return on(e,t)}function e_(e,t,n){if(!Fr(e.segments,t.segments)||!jl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!e_(e.children[r],t.children[r],n))return!1;return!0}function tT(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ky(e[n],t[n]))}function t_(e,t,n){return n_(e,t,t.segments,n)}function n_(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Fr(o,n)||t.hasChildren()||!jl(o,n,r))}else if(e.segments.length===n.length){if(!Fr(e.segments,n)||!jl(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!t_(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Fr(e.segments,o)||!jl(e.segments,o,r)||!e.children[q]?!1:n_(e.children[q],t,i,r)}}function jl(e,t,n){return t.every((r,o)=>Jy[n](e[o].parameters,r.parameters))}var an=class{root;queryParams;fragment;_queryParamMap;constructor(t=new oe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vr(this.queryParams),this._queryParamMap}toString(){return oT.serialize(this)}},oe=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}},Jn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Vr(this.parameters),this._parameterMap}toString(){return o_(this)}};function nT(e,t){return Fr(e,t)&&e.every((n,r)=>on(n.parameters,t[r].parameters))}function Fr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function rT(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===q&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==q&&(n=n.concat(t(o,r)))}),n}var jr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new er,providedIn:"root"})}return e})(),er=class{parse(t){let n=new mp(t);return new an(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Vi(t.root,!0)}`,r=aT(t.queryParams),o=typeof t.fragment=="string"?`#${iT(t.fragment)}`:"";return`${n}${r}${o}`}},oT=new er;function Bl(e){return e.segments.map(t=>o_(t)).join("/")}function Vi(e,t){if(!e.hasChildren())return Bl(e);if(t){let n=e.children[q]?Vi(e.children[q],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==q&&r.push(`${o}:${Vi(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=rT(e,(r,o)=>o===q?[Vi(e.children[q],!1)]:[`${o}:${Vi(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[q]!=null?`${Bl(e)}/${n[0]}`:`${Bl(e)}/(${n.join("//")})`}}function r_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(e){return r_(e).replace(/%3B/gi,";")}function iT(e){return encodeURI(e)}function hp(e){return r_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ul(e){return decodeURIComponent(e)}function zy(e){return Ul(e.replace(/\+/g,"%20"))}function o_(e){return`${hp(e.path)}${sT(e.parameters)}`}function sT(e){return Object.entries(e).map(([t,n])=>`;${hp(t)}=${hp(n)}`).join("")}function aT(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Ll(n)}=${Ll(o)}`).join("&"):`${Ll(n)}=${Ll(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var lT=/^[^\/()?;#]+/;function lp(e){let t=e.match(lT);return t?t[0]:""}var cT=/^[^\/()?;=#]+/;function uT(e){let t=e.match(cT);return t?t[0]:""}var dT=/^[^=?&#]+/;function fT(e){let t=e.match(dT);return t?t[0]:""}var pT=/^[^&#]+/;function hT(e){let t=e.match(pT);return t?t[0]:""}var mp=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[q]=new oe(t,n)),r}parseSegment(){let t=lp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new Jn(Ul(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=uT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=lp(this.remaining);o&&(r=o,this.capture(r))}t[Ul(n)]=Ul(r)}parseQueryParam(t){let n=fT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=hT(this.remaining);s&&(r=s,this.capture(r))}let o=zy(n),i=zy(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new I(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=q);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[q]:new oe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function i_(e){return e.segments.length>0?new oe([],{[q]:e}):e}function s_(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=s_(o);if(r===q&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new oe(e.segments,t);return mT(n)}function mT(e){if(e.numberOfChildren===1&&e.children[q]){let t=e.children[q];return new oe(e.segments.concat(t.segments),t.children)}return e}function tr(e){return e instanceof an}function a_(e,t,n=null,r=null){let o=l_(e);return c_(o,t,n,r)}function l_(e){let t;function n(i){let s={};for(let l of i.children){let f=n(l);s[l.outlet]=f}let a=new oe(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=i_(r);return t??o}function c_(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return cp(o,o,o,n,r);let i=gT(t);if(i.toRoot())return cp(o,o,new oe([],{}),n,r);let s=vT(i,o,e),a=s.processChildren?Bi(s.segmentGroup,s.index,i.commands):d_(s.segmentGroup,s.index,i.commands);return cp(o,s.segmentGroup,a,n,r)}function Hl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function $i(e){return typeof e=="object"&&e!=null&&e.outlets}function cp(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([l,f])=>{i[l]=Array.isArray(f)?f.map(p=>`${p}`):`${f}`});let s;e===t?s=n:s=u_(e,t,n);let a=i_(s_(s));return new an(a,i,o)}function u_(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=u_(i,t,n)}),new oe(e.segments,r)}var zl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Hl(r[0]))throw new I(4003,!1);let o=r.find($i);if(o&&o!==Xy(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new zl(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([l,f])=>{a[l]=typeof f=="string"?f.split("/"):f}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new zl(n,t,r)}var ko=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function vT(e,t,n){if(e.isAbsolute)return new ko(t,!0,0);if(!n)return new ko(t,!1,NaN);if(n.parent===null)return new ko(n,!0,0);let r=Hl(e.commands[0])?0:1,o=n.segments.length-1+r;return yT(n,o,e.numberOfDoubleDots)}function yT(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new I(4005,!1);o=r.segments.length}return new ko(r,!1,o-i)}function _T(e){return $i(e[0])?e[0].outlets:{[q]:e}}function d_(e,t,n){if(e??=new oe([],{}),e.segments.length===0&&e.hasChildren())return Bi(e,t,n);let r=CT(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new oe(e.segments.slice(0,r.pathIndex),{});return i.children[q]=new oe(e.segments.slice(r.pathIndex),e.children),Bi(i,0,o)}else return r.match&&o.length===0?new oe(e.segments,{}):r.match&&!e.hasChildren()?gp(e,t,n):r.match?Bi(e,0,o):gp(e,t,n)}function Bi(e,t,n){if(n.length===0)return new oe(e.segments,{});{let r=_T(n),o={};if(Object.keys(r).some(i=>i!==q)&&e.children[q]&&e.numberOfChildren===1&&e.children[q].segments.length===0){let i=Bi(e.children[q],t,n);return new oe(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=d_(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new oe(e.segments,o)}}function CT(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if($i(a))break;let l=`${a}`,f=r<n.length-1?n[r+1]:null;if(o>0&&l===void 0)break;if(l&&f&&typeof f=="object"&&f.outlets===void 0){if(!qy(l,f,s))return i;r+=2}else{if(!qy(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function gp(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if($i(i)){let l=ET(i.outlets);return new oe(r,l)}if(o===0&&Hl(n[0])){let l=e.segments[t];r.push(new Jn(l.path,Gy(n[0]))),o++;continue}let s=$i(i)?i.outlets[q]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Hl(a)?(r.push(new Jn(s,Gy(a))),o+=2):(r.push(new Jn(s,{})),o++)}return new oe(r,{})}function ET(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=gp(new oe([],{}),0,r))}),t}function Gy(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function qy(e,t,n){return e==n.path&&on(t,n.parameters)}var $l="imperative",ke=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ke||{}),mt=class{id;url;constructor(t,n){this.id=t,this.url=n}},nr=class extends mt{type=ke.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xt=class extends mt{urlAfterRedirects;type=ke.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(lt||{}),Lo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Lo||{}),sn=class extends mt{reason;code;type=ke.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ln=class extends mt{reason;code;type=ke.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Vo=class extends mt{error;target;type=ke.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hi=class extends mt{urlAfterRedirects;state;type=ke.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gl=class extends mt{urlAfterRedirects;state;type=ke.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ql=class extends mt{urlAfterRedirects;state;shouldActivate;type=ke.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wl=class extends mt{urlAfterRedirects;state;type=ke.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zl=class extends mt{urlAfterRedirects;state;type=ke.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yl=class{route;type=ke.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ql=class{route;type=ke.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kl=class{snapshot;type=ke.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xl=class{snapshot;type=ke.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jl=class{snapshot;type=ke.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ec=class{snapshot;type=ke.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jo=class{routerEvent;position;anchor;type=ke.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},zi=class{},Bo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function bT(e,t){return e.providers&&!e._injector&&(e._injector=Mo(e.providers,t,`Route: ${e.path}`)),e._injector??t}function $t(e){return e.outlet||q}function DT(e,t){let n=e.filter(r=>$t(r)===t);return n.push(...e.filter(r=>$t(r)!==t)),n}function Ki(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var tc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ki(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Br(this.rootInjector)}},Br=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new tc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(O(Ue))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=vp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=vp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=yp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return yp(t,this._root).map(n=>n.value)}};function vp(e,t){if(e===t.value)return t;for(let n of t.children){let r=vp(e,n);if(r)return r}return null}function yp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=yp(e,n);if(r.length)return r.unshift(t),r}return[]}var ht=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ro(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Gi=class extends nc{snapshot;constructor(t,n){super(t),this.snapshot=n,xp(this,t)}toString(){return this.snapshot.toString()}};function f_(e){let t=AT(e),n=new Be([new Jn("",{})]),r=new Be({}),o=new Be({}),i=new Be({}),s=new Be(""),a=new ct(n,r,i,s,o,q,e,t.root);return a.snapshot=t.root,new Gi(new ht(a,[]),t)}function AT(e){let t={},n={},r={},o="",i=new Lr([],t,r,o,n,q,e,null,{});return new qi("",new ht(i,[]))}var ct=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(G(f=>f[Qi]))??k(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(t=>Vr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(t=>Vr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rc(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:A(A({},t.params),e.params),data:A(A({},t.data),e.data),resolve:A(A(A(A({},e.data),t.data),o?.data),e._resolvedData)}:r={params:A({},e.params),data:A({},e.data),resolve:A(A({},e.data),e._resolvedData??{})},o&&h_(o)&&(r.resolve[Qi]=o.title),r}var Lr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Qi]}constructor(t,n,r,o,i,s,a,l,f){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},qi=class extends nc{url;constructor(t,n){super(n),this.url=t,xp(this,n)}toString(){return p_(this._root)}};function xp(e,t){t.value._routerState=e,t.children.forEach(n=>xp(e,n))}function p_(e){let t=e.children.length>0?` { ${e.children.map(p_).join(", ")} } `:"";return`${e.value}${t}`}function up(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,on(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),on(t.params,n.params)||e.paramsSubject.next(n.params),XI(t.url,n.url)||e.urlSubject.next(n.url),on(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function _p(e,t){let n=on(e.params,t.params)&&nT(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||_p(e.parent,t.parent))}function h_(e){return typeof e.title=="string"||e.title===null}var m_=new S(""),Xi=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=q;activateEvents=new he;deactivateEvents=new he;attachEvents=new he;detachEvents=new he;routerOutletData=Jg(void 0);parentContexts=E(Br);location=E(Yn);changeDetector=E(Nr);inputBinder=E(Ji,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Cp(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=_e({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qn]})}return e})(),Cp=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===ct?this.route:t===Br?this.childContexts:t===m_?this.outletData:this.parent.get(t,n)}},Ji=new S(""),Mp=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=oi([r.queryParams,r.params,r.data]).pipe(Je(([i,s,a],l)=>(a=A(A(A({},i),s),a),l===0?k(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=Wv(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function wT(e,t,n){let r=Wi(e,t._root,n?n._root:void 0);return new Gi(r,t)}function Wi(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=xT(e,t,n);return new ht(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Wi(e,a)),s}}let r=MT(t.value),o=t.children.map(i=>Wi(e,i));return new ht(r,o)}}function xT(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Wi(e,r,o);return Wi(e,r)})}function MT(e){return new ct(new Be(e.url),new Be(e.params),new Be(e.queryParams),new Be(e.fragment),new Be(e.data),e.outlet,e.component,e)}var Uo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},g_="ngNavigationCancelingError";function oc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=tr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=v_(!1,lt.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function v_(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[g_]=!0,n.cancellationCode=t,n}function ST(e){return y_(e)&&tr(e.url)}function y_(e){return!!e&&e[g_]}var IT=(e,t,n,r)=>G(o=>(new Ep(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Ep=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),up(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Ro(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Ro(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Ro(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Ro(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new ec(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Xl(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(up(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),up(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},ic=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Fo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function TT(e,t,n){let r=e._root,o=t?t._root:null;return ji(r,o,n,[r.value])}function PT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ho(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Ym(e)?e:t.get(e):r}function ji(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Ro(t);return e.children.forEach(s=>{NT(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Ui(a,n.getContext(s),o)),o}function NT(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let l=OT(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new ic(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ji(e,t,a?a.children:null,r,o):ji(e,t,n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Fo(a.outlet.component,s))}else s&&Ui(t,a,o),o.canActivateChecks.push(new ic(r)),i.component?ji(e,null,a?a.children:null,r,o):ji(e,null,n,r,o);return o}function OT(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Fr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fr(e.url,t.url)||!on(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_p(e,t)||!on(e.queryParams,t.queryParams);case"paramsChange":default:return!_p(e,t)}}function Ui(e,t,n){let r=Ro(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Ui(s,t.children.getContext(i),n):Ui(s,null,n):Ui(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Fo(t.outlet.component,o)):n.canDeactivateChecks.push(new Fo(null,o)):n.canDeactivateChecks.push(new Fo(null,o))}function es(e){return typeof e=="function"}function RT(e){return typeof e=="boolean"}function kT(e){return e&&es(e.canLoad)}function FT(e){return e&&es(e.canActivate)}function LT(e){return e&&es(e.canActivateChild)}function VT(e){return e&&es(e.canDeactivate)}function jT(e){return e&&es(e.canMatch)}function __(e){return e instanceof Tt||e?.name==="EmptyError"}var Vl=Symbol("INITIAL_VALUE");function $o(){return Je(e=>oi(e.map(t=>t.pipe(hn(1),cu(Vl)))).pipe(G(t=>{for(let n of t)if(n!==!0){if(n===Vl)return Vl;if(n===!1||BT(n))return n}return!0}),We(t=>t!==Vl),hn(1)))}function BT(e){return tr(e)||e instanceof Uo}function UT(e,t){return be(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?k(R(A({},n),{guardsResult:!0})):$T(s,r,o,e).pipe(be(a=>a&&RT(a)?HT(r,i,e,t):k(a)),G(a=>R(A({},n),{guardsResult:a})))})}function $T(e,t,n,r){return de(e).pipe(be(o=>ZT(o.component,o.route,n,t,r)),gn(o=>o!==!0,!0))}function HT(e,t,n,r){return de(t).pipe(zt(o=>Xr(GT(o.route.parent,r),zT(o.route,r),WT(e,o.path,n),qT(e,o.route,n))),gn(o=>o!==!0,!0))}function zT(e,t){return e!==null&&t&&t(new Jl(e)),k(!0)}function GT(e,t){return e!==null&&t&&t(new Kl(e)),k(!0)}function qT(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let o=r.map(i=>Bs(()=>{let s=Ki(t)??n,a=Ho(i,s),l=FT(a)?a.canActivate(t,e):it(s,()=>a(t,e));return rr(l).pipe(gn())}));return k(o).pipe($o())}function WT(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>PT(s)).filter(s=>s!==null).map(s=>Bs(()=>{let a=s.guards.map(l=>{let f=Ki(s.node)??n,p=Ho(l,f),h=LT(p)?p.canActivateChild(r,e):it(f,()=>p(r,e));return rr(h).pipe(gn())});return k(a).pipe($o())}));return k(i).pipe($o())}function ZT(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return k(!0);let s=i.map(a=>{let l=Ki(t)??o,f=Ho(a,l),p=VT(f)?f.canDeactivate(e,t,n,r):it(l,()=>f(e,t,n,r));return rr(p).pipe(gn())});return k(s).pipe($o())}function YT(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return k(!0);let i=o.map(s=>{let a=Ho(s,e),l=kT(a)?a.canLoad(t,n):it(e,()=>a(t,n));return rr(l)});return k(i).pipe($o(),C_(r))}function C_(e){return tu(Te(t=>{if(typeof t!="boolean")throw oc(e,t)}),G(t=>t===!0))}function QT(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return k(!0);let i=o.map(s=>{let a=Ho(s,e),l=jT(a)?a.canMatch(t,n):it(e,()=>a(t,n));return rr(l)});return k(i).pipe($o(),C_(r))}var Zi=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Yi=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Oo(e){return Fe(new Zi(e))}function KT(e){return Fe(new I(4e3,!1))}function XT(e){return Fe(v_(!1,lt.GuardRejected))}var bp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return k(r);if(o.numberOfChildren>1||!o.children[q])return KT(`${t.redirectTo}`);o=o.children[q]}}applyRedirectCommands(t,n,r,o,i){if(typeof n!="string"){let a=n,{queryParams:l,fragment:f,routeConfig:p,url:h,outlet:v,params:g,data:b,title:M}=o,P=it(i,()=>a({params:g,data:b,queryParams:l,fragment:f,routeConfig:p,url:h,outlet:v,title:M}));if(P instanceof an)throw new Yi(P);n=P}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Yi(s);return s}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new an(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,o)}),new oe(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new I(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},Dp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JT(e,t,n,r,o){let i=E_(e,t,n);return i.matched?(r=bT(t,r),QT(r,t,n,o).pipe(G(s=>s===!0?i:A({},Dp)))):k(i)}function E_(e,t,n){if(t.path==="**")return e1(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?A({},Dp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||Qy)(n,e,t);if(!o)return A({},Dp);let i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});let s=o.consumed.length>0?A(A({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function e1(e){return{matched:!0,parameters:e.length>0?Xy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Wy(e,t,n,r){return n.length>0&&r1(e,n,r)?{segmentGroup:new oe(t,n1(r,new oe(n,e.children))),slicedSegments:[]}:n.length===0&&o1(e,n,r)?{segmentGroup:new oe(e.segments,t1(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new oe(e.segments,e.children),slicedSegments:n}}function t1(e,t,n,r){let o={};for(let i of n)if(ac(e,t,i)&&!r[$t(i)]){let s=new oe([],{});o[$t(i)]=s}return A(A({},r),o)}function n1(e,t){let n={};n[q]=t;for(let r of e)if(r.path===""&&$t(r)!==q){let o=new oe([],{});n[$t(r)]=o}return n}function r1(e,t,n){return n.some(r=>ac(e,t,r)&&$t(r)!==q)}function o1(e,t,n){return n.some(r=>ac(e,t,r))}function ac(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function i1(e,t,n){return t.length===0&&!e.children[n]}var Ap=class{};function s1(e,t,n,r,o,i,s="emptyOnly"){return new wp(e,t,n,r,o,s,i).recognize()}var a1=31,wp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new bp(this.urlSerializer,this.urlTree)}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}recognize(){let t=Wy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(G(({children:n,rootSnapshot:r})=>{let o=new ht(r,n),i=new qi("",o),s=a_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new Lr([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,q,n).pipe(G(r=>({children:r,rootSnapshot:n})),se(r=>{if(r instanceof Yi)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zi?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(G(s=>s instanceof ht?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(zt(s=>{let a=r.children[s],l=DT(n,s);return this.processSegmentGroup(t,l,a,s,o)}),lu((s,a)=>(s.push(...a),s)),Vn(null),au(),be(s=>{if(s===null)return Oo(r);let a=b_(s);return l1(a),k(a)}))}processSegment(t,n,r,o,i,s,a){return de(n).pipe(zt(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,o,i,s,a).pipe(se(f=>{if(f instanceof Zi)return k(null);throw f}))),gn(l=>!!l),se(l=>{if(__(l))return i1(r,o,i)?k(new Ap):Oo(r);throw l}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,l){return $t(r)!==s&&(s===q||!ac(o,i,r))?Oo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,l):Oo(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:l,parameters:f,consumedSegments:p,positionalParamSegments:h,remainingSegments:v}=E_(n,o,i);if(!l)return Oo(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>a1&&(this.allowRedirects=!1));let g=new Lr(i,f,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Zy(o),$t(o),o.component??o._loadedComponent??null,o,Yy(o)),b=rc(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let M=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,h,g,t);return this.applyRedirects.lineralizeSegments(o,M).pipe(be(P=>this.processSegment(t,r,n,P.concat(v),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=JT(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Je(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Je(({routes:f})=>{let p=r._loadedInjector??t,{parameters:h,consumedSegments:v,remainingSegments:g}=l,b=new Lr(v,h,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Zy(r),$t(r),r.component??r._loadedComponent??null,r,Yy(r)),M=rc(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:P,slicedSegments:H}=Wy(n,v,g,f);if(H.length===0&&P.hasChildren())return this.processChildren(p,f,P,b).pipe(G(pe=>new ht(b,pe)));if(f.length===0&&H.length===0)return k(new ht(b,[]));let Ht=$t(r)===i;return this.processSegment(p,f,P,H,Ht?q:i,!0,b).pipe(G(pe=>new ht(b,pe instanceof ht?[pe]:[])))}))):Oo(n)))}getChildConfig(t,n,r){return n.children?k({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):YT(t,n,r,this.urlSerializer).pipe(be(o=>o?this.configLoader.loadChildren(t,n).pipe(Te(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):XT(n))):k({routes:[],injector:t})}};function l1(e){e.sort((t,n)=>t.value.outlet===q?-1:n.value.outlet===q?1:t.value.outlet.localeCompare(n.value.outlet))}function c1(e){let t=e.value.routeConfig;return t&&t.path===""}function b_(e){let t=[],n=new Set;for(let r of e){if(!c1(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=b_(r.children);t.push(new ht(r.value,o))}return t.filter(r=>!n.has(r))}function Zy(e){return e.data||{}}function Yy(e){return e.resolve||{}}function u1(e,t,n,r,o,i){return be(s=>s1(e,t,n,r,s.extractedUrl,o,i).pipe(G(({state:a,tree:l})=>R(A({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function d1(e,t){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return k(n);let i=new Set(o.map(l=>l.route)),s=new Set;for(let l of i)if(!s.has(l))for(let f of D_(l))s.add(f);let a=0;return de(s).pipe(zt(l=>i.has(l)?f1(l,r,e,t):(l.data=rc(l,l.parent,e).resolve,k(void 0))),Te(()=>a++),Jr(1),be(l=>a===s.size?k(n):Ke))})}function D_(e){let t=e.children.map(n=>D_(n)).flat();return[e,...t]}function f1(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!h_(o)&&(i[Qi]=o.title),p1(i,e,t,r).pipe(G(s=>(e._resolvedData=s,e.data=rc(e,e.parent,n).resolve,null)))}function p1(e,t,n,r){let o=pp(e);if(o.length===0)return k({});let i={};return de(o).pipe(be(s=>h1(e[s],t,n,r).pipe(gn(),Te(a=>{if(a instanceof Uo)throw oc(new er,a);i[s]=a}))),Jr(1),G(()=>i),se(s=>__(s)?Ke:Fe(s)))}function h1(e,t,n,r){let o=Ki(t)??r,i=Ho(e,o),s=i.resolve?i.resolve(t,n):it(o,()=>i(t,n));return rr(s)}function dp(e){return Je(t=>{let n=e(t);return n?de(n).pipe(G(()=>t)):k(t)})}var Sp=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===q);return r}getResolvedTitleForRoute(n){return n.data[Qi]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>E(A_),providedIn:"root"})}return e})(),A_=(()=>{class e extends Sp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(O(By))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ur=new S("",{providedIn:"root",factory:()=>({})}),Ip=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ce({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&ue(0,"router-outlet")},dependencies:[Xi],encapsulation:2})}return e})();function Tp(e){let t=e.children&&e.children.map(Tp),n=t?R(A({},e),{children:t}):A({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=Ip),n}var $r=new S(""),lc=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(jv);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return k(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=rr(n.loadComponent()).pipe(G(x_),Te(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),mn(()=>{this.componentLoaders.delete(n)})),o=new Qr(r,()=>new le).pipe(Yr());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=w_(r,this.compiler,n,this.onLoadEndListener).pipe(mn(()=>{this.childrenLoaders.delete(r)})),s=new Qr(i,()=>new le).pipe(Yr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function w_(e,t,n,r){return rr(e.loadChildren()).pipe(G(x_),be(o=>o instanceof Sf||Array.isArray(o)?k(o):de(t.compileModuleAsync(o))),G(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get($r,[],{optional:!0,self:!0}).flat()),{routes:s.map(Tp),injector:i}}))}function m1(e){return e&&typeof e=="object"&&"default"in e}function x_(e){return m1(e)?e.default:e}var cc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>E(g1),providedIn:"root"})}return e})(),g1=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pp=new S(""),Np=new S("");function M_(e,t,n){let r=e.get(Np),o=e.get(xe);return e.get(ve).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(f=>setTimeout(f));let i,s=new Promise(f=>{i=f}),a=o.startViewTransition(()=>(i(),v1(e))),{onViewTransitionCreated:l}=r;return l&&it(e,()=>l({transition:a,from:t,to:n})),s})}function v1(e){return new Promise(t=>{Ga({read:()=>setTimeout(t)},{injector:e})})}var Op=new S(""),uc=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new le;transitionAbortSubject=new le;configLoader=E(lc);environmentInjector=E(Ue);destroyRef=E(Eo);urlSerializer=E(jr);rootContexts=E(Br);location=E(Xn);inputBindingEnabled=E(Ji,{optional:!0})!==null;titleStrategy=E(Sp);options=E(Ur,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(cc);createViewTransition=E(Pp,{optional:!0});navigationErrorHandler=E(Op,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>k(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Yl(o)),r=o=>this.events.next(new Ql(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(R(A({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Be(null),this.transitions.pipe(We(r=>r!==null),Je(r=>{let o=!1,i=!1;return k(r).pipe(Je(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",lt.SupersededByNewNavigation),Ke;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?R(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let f="";return this.events.next(new ln(s.id,this.urlSerializer.serialize(s.rawUrl),f,Lo.IgnoredSameUrlNavigation)),s.resolve(!1),Ke}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return k(s).pipe(Je(f=>(this.events.next(new nr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Ke:Promise.resolve(f))),u1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Te(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=R(A({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new Hi(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:f,extractedUrl:p,source:h,restoredState:v,extras:g}=s,b=new nr(f,this.urlSerializer.serialize(p),h,v);this.events.next(b);let M=f_(this.rootComponentType).snapshot;return this.currentTransition=r=R(A({},s),{targetSnapshot:M,urlAfterRedirects:p,extras:R(A({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,k(r)}else{let f="";return this.events.next(new ln(s.id,this.urlSerializer.serialize(s.extractedUrl),f,Lo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ke}}),Te(s=>{let a=new Gl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),G(s=>(this.currentTransition=r=R(A({},s),{guards:TT(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),UT(this.environmentInjector,s=>this.events.next(s)),Te(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw oc(this.urlSerializer,s.guardsResult);let a=new ql(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),We(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",lt.GuardRejected),!1)),dp(s=>{if(s.guards.canActivateChecks.length!==0)return k(s).pipe(Te(a=>{let l=new Wl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Je(a=>{let l=!1;return k(a).pipe(d1(this.paramsInheritanceStrategy,this.environmentInjector),Te({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",lt.NoDataFromResolver)}}))}),Te(a=>{let l=new Zl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),dp(s=>{let a=l=>{let f=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(l.routeConfig).pipe(Te(p=>{l.component=p}),G(()=>{})));for(let p of l.children)f.push(...a(p));return f};return oi(a(s.targetSnapshot.root)).pipe(Vn(null),hn(1))}),dp(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?de(l).pipe(G(()=>r)):k(r)}),G(s=>{let a=wT(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=R(A({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Te(()=>{this.events.next(new zi)}),IT(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),hn(1),Te({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),jn(this.transitionAbortSubject.pipe(Te(s=>{throw s}))),mn(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",lt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),se(s=>{if(this.destroyed)return r.resolve(!1),Ke;if(i=!0,y_(s))this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),ST(s)?this.events.next(new Bo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Vo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=it(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Uo){let{message:f,cancellationCode:p}=oc(this.urlSerializer,l);this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),f,p)),this.events.next(new Bo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Ke}))}))}cancelNavigationTransition(n,r,o){let i=new sn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function y1(e){return e!==$l}var S_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>E(_1),providedIn:"root"})}return e})(),sc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},_1=(()=>{class e extends sc{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zn(e)))(o||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),I_=(()=>{class e{urlSerializer=E(jr);options=E(Ur,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(Xn);urlHandlingStrategy=E(cc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new an;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof an?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=f_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>E(C1),providedIn:"root"})}return e})(),C1=(()=>{class e extends I_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof nr?this.updateStateMemento():n instanceof ln?this.commitTransition(r):n instanceof Hi?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof zi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof sn&&(n.code===lt.GuardRejected||n.code===lt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Vo?this.restoreHistory(r,!0):n instanceof xt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,l=A(A({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",l)}else{let a=A(A({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zn(e)))(o||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dc(e,t){e.events.pipe(We(n=>n instanceof xt||n instanceof sn||n instanceof Vo||n instanceof ln),G(n=>n instanceof xt||n instanceof ln?0:(n instanceof sn?n.code===lt.Redirect||n.code===lt.SupersededByNewNavigation:!1)?2:1),We(n=>n!==2),hn(1)).subscribe(()=>{t()})}var E1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},b1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ut=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(If);stateManager=E(I_);options=E(Ur,{optional:!0})||{};pendingTasks=E(en);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(uc);urlSerializer=E(jr);location=E(Xn);urlHandlingStrategy=E(cc);_events=new le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(S_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E($r,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(Ji,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ae;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof sn&&r.code!==lt.Redirect&&r.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xt)this.navigated=!0;else if(r instanceof Bo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=A({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||y1(o.source)},s);this.scheduleNavigation(a,$l,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}A1(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$l,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=A({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Tp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,f=l?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=A(A({},this.currentUrlTree.queryParams),i);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=i||null}p!==null&&(p=this.removeEmptyProps(p));let h;try{let v=o?o.snapshot:this.routerState.snapshot.root;h=l_(v)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return c_(h,n,p,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=tr(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,$l,null,r)}navigate(n,r={skipLocationChange:!1}){return D1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=A({},E1):r===!1?o=A({},b1):o=r,tr(n))return Hy(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Hy(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,f;s?(a=s.resolve,l=s.reject,f=s.promise):f=new Promise((h,v)=>{a=h,l=v});let p=this.pendingTasks.add();return dc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function D1(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}function A1(e){return!(e instanceof zi)&&!(e instanceof Bo)}var cn=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new le;constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(f=>{f instanceof xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(tr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:x0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:tr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(F(ut),F(ct),Kd("tabindex"),F(rn),F(st),F(jt))};static \u0275dir=_e({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&_("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&xn("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Kn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Kn],replaceUrl:[2,"replaceUrl","replaceUrl",Kn],routerLink:"routerLink"},features:[qn]})}return e})();var ts=class{};var T_=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(We(n=>n instanceof xt),zt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Mo(i.providers,n,`Route: ${i.path}`));let s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return de(o).pipe(Kr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=k(null);let i=o.pipe(be(s=>s===null?k(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return de([i,s]).pipe(Kr())}else return i})}static \u0275fac=function(r){return new(r||e)(O(ut),O(Ue),O(ts),O(lc))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),P_=new S(""),w1=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof nr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ln&&n.code===Lo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof jo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){av()};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function kp(e,...t){return An([{provide:$r,multi:!0,useValue:e},[],{provide:ct,useFactory:N_,deps:[ut]},{provide:Qn,multi:!0,useFactory:O_},t.map(n=>n.\u0275providers)])}function N_(e){return e.routerState.root}function ns(e,t){return{\u0275kind:e,\u0275providers:t}}function O_(){let e=E(Ye);return t=>{let n=e.get(ot);if(t!==n.components[0])return;let r=e.get(ut),o=e.get(R_);e.get(Fp)===1&&r.initialNavigation(),e.get(L_,null,W.Optional)?.setUpPreloading(),e.get(P_,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var R_=new S("",{factory:()=>new le}),Fp=new S("",{providedIn:"root",factory:()=>1});function k_(){let e=[{provide:Fp,useValue:0},Tf(()=>{let t=E(Ye);return t.get(jf,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(ut),i=t.get(R_);dc(o,()=>{r(!0)}),t.get(uc).afterPreactivation=()=>(r(!0),i.closed?k(void 0):i),o.initialNavigation()}))})];return ns(2,e)}function F_(){let e=[Tf(()=>{E(ut).setUpLocationChangeListener()}),{provide:Fp,useValue:2}];return ns(3,e)}var L_=new S("");function V_(e){return ns(0,[{provide:L_,useExisting:T_},{provide:ts,useExisting:e}])}function j_(){return ns(8,[Mp,{provide:Ji,useExisting:Mp}])}function B_(e){nn("NgRouterViewTransitions");let t=[{provide:Pp,useValue:M_},{provide:Np,useValue:A({skipNextTransition:!!e?.skipInitialTransition},e)}];return ns(9,t)}var U_=[Xn,{provide:jr,useClass:er},ut,Br,{provide:ct,useFactory:N_,deps:[ut]},lc,[]],Mt=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[U_,[],{provide:$r,multi:!0,useValue:n},[],r?.errorHandler?{provide:Op,useValue:r.errorHandler}:[],{provide:Ur,useValue:r||{}},r?.useHash?M1():S1(),x1(),r?.preloadingStrategy?V_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?I1(r):[],r?.bindToComponentInputs?j_().\u0275providers:[],r?.enableViewTransitions?B_().\u0275providers:[],T1()]}}static forChild(n){return{ngModule:e,providers:[{provide:$r,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Et({type:e});static \u0275inj=Ct({})}return e})();function x1(){return{provide:P_,useFactory:()=>{let e=E(vy),t=E(ve),n=E(Ur),r=E(uc),o=E(jr);return n.scrollOffset&&e.setOffset(n.scrollOffset),new w1(o,r,e,t,n)}}}function M1(){return{provide:jt,useClass:zf}}function S1(){return{provide:jt,useClass:ml}}function I1(e){return[e.initialNavigation==="disabled"?F_().\u0275providers:[],e.initialNavigation==="enabledBlocking"?k_().\u0275providers:[]]}var Rp=new S("");function T1(){return[{provide:Rp,useFactory:O_},{provide:Qn,multi:!0,useExisting:Rp}]}var fc=class e{title="front-gestor-turnos";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&ue(0,"router-outlet")},dependencies:[Xi],encapsulation:2})};var K_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(F(rn),F(st))};static \u0275dir=_e({type:e})}return e})(),Bp=(()=>{class e extends K_{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zn(e)))(o||e)}})();static \u0275dir=_e({type:e,features:[Lt]})}return e})(),Cc=new S("");var P1={provide:Cc,useExisting:Dn(()=>ir),multi:!0};function N1(){let e=Dt()?Dt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var O1=new S(""),ir=(()=>{class e extends K_{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!N1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(F(rn),F(st),F(O1,8))};static \u0275dir=_e({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&_("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Pr([P1]),Lt]})}return e})();function R1(e){return e==null||k1(e)===0}function k1(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Up=new S(""),X_=new S("");function F1(e){return R1(e.value)?{required:!0}:null}function $_(e){return null}function J_(e){return e!=null}function eC(e){return Tr(e)?de(e):e}function tC(e){let t={};return e.forEach(n=>{t=n!=null?A(A({},t),n):t}),Object.keys(t).length===0?null:t}function nC(e,t){return t.map(n=>n(e))}function L1(e){return!e.validate}function rC(e){return e.map(t=>L1(t)?t:n=>t.validate(n))}function V1(e){if(!e)return null;let t=e.filter(J_);return t.length==0?null:function(n){return tC(nC(n,t))}}function $p(e){return e!=null?V1(rC(e)):null}function j1(e){if(!e)return null;let t=e.filter(J_);return t.length==0?null:function(n){let r=nC(n,t).map(eC);return su(r).pipe(G(tC))}}function Hp(e){return e!=null?j1(rC(e)):null}function H_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function B1(e){return e._rawValidators}function U1(e){return e._rawAsyncValidators}function Lp(e){return e?Array.isArray(e)?e:[e]:[]}function hc(e,t){return Array.isArray(e)?e.includes(t):e===t}function z_(e,t){let n=Lp(t);return Lp(e).forEach(o=>{hc(n,o)||n.push(o)}),n}function G_(e,t){return Lp(t).filter(n=>!hc(e,n))}var mc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$p(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},qo=class extends mc{name;get formDirective(){return null}get path(){return null}},cs=class extends mc{_parent=null;name=null;valueAccessor=null},gc=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},NU=R(A({},$1),{"[class.ng-submitted]":"isSubmitted"}),sr=(()=>{class e extends gc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(F(cs,2))};static \u0275dir=_e({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Oe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Lt]})}return e})(),oC=(()=>{class e extends gc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(F(qo,10))};static \u0275dir=_e({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Oe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Lt]})}return e})();var os="VALID",pc="INVALID",zo="PENDING",is="DISABLED",or=class{},vc=class extends or{value;source;constructor(t,n){super(),this.value=t,this.source=n}},as=class extends or{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ls=class extends or{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Go=class extends or{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Vp=class extends or{source;constructor(t){super(),this.source=t}},jp=class extends or{source;constructor(t){super(),this.source=t}};function iC(e){return(Ec(e)?e.validators:e)||null}function H1(e){return Array.isArray(e)?$p(e):e||null}function sC(e,t){return(Ec(t)?t.asyncValidators:e)||null}function z1(e){return Array.isArray(e)?Hp(e):e||null}function Ec(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function G1(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function q1(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new I(1002,"")})}var yc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Sn(this.statusReactive)}set status(t){Sn(()=>this.statusReactive.set(t))}_status=re(()=>this.statusReactive());statusReactive=D(void 0);get valid(){return this.status===os}get invalid(){return this.status===pc}get pending(){return this.status==zo}get disabled(){return this.status===is}get enabled(){return this.status!==is}errors;get pristine(){return Sn(this.pristineReactive)}set pristine(t){Sn(()=>this.pristineReactive.set(t))}_pristine=re(()=>this.pristineReactive());pristineReactive=D(!0);get dirty(){return!this.pristine}get touched(){return Sn(this.touchedReactive)}set touched(t){Sn(()=>this.touchedReactive.set(t))}_touched=re(()=>this.touchedReactive());touchedReactive=D(!1);get untouched(){return!this.touched}_events=new le;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(z_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(z_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(G_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(G_(t,this._rawAsyncValidators))}hasValidator(t){return hc(this._rawValidators,t)}hasAsyncValidator(t){return hc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(R(A({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ls(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ls(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(R(A({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new as(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new as(!0,r))}markAsPending(t={}){this.status=zo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Go(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(R(A({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=is,this.errors=null,this._forEachChild(o=>{o.disable(R(A({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vc(this.value,r)),this._events.next(new Go(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(A({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=os,this._forEachChild(r=>{r.enable(R(A({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(R(A({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===os||this.status===zo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vc(this.value,n)),this._events.next(new Go(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(R(A({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?is:os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=eC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Go(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?is:this.errors?pc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(pc)?pc:os}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new as(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ls(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ec(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=H1(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=z1(this._rawAsyncValidators)}},_c=class extends yc{constructor(t,n,r){super(iC(n),sC(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){q1(this,!0,t),Object.keys(t).forEach(r=>{G1(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var zp=new S("",{providedIn:"root",factory:()=>Gp}),Gp="always";function W1(e,t){return[...t.path,e]}function aC(e,t,n=Gp){lC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Y1(e,t),K1(e,t),Q1(e,t),Z1(e,t)}function q_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Z1(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function lC(e,t){let n=B1(e);t.validator!==null?e.setValidators(H_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=U1(e);t.asyncValidator!==null?e.setAsyncValidators(H_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();q_(t._rawValidators,o),q_(t._rawAsyncValidators,o)}function Y1(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&cC(e,t)})}function Q1(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&cC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function cC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function K1(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function X1(e,t){e==null,lC(e,t)}function J1(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function eP(e){return Object.getPrototypeOf(e.constructor)===Bp}function tP(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nP(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===ir?n=i:eP(i)?r=i:o=i}),o||r||n||null}var rP={provide:qo,useExisting:Dn(()=>qp)},ss=Promise.resolve(),qp=(()=>{class e extends qo{callSetDisabledState;get submitted(){return Sn(this.submittedReactive)}_submitted=re(()=>this.submittedReactive());submittedReactive=D(!1);_directives=new Set;form;ngSubmit=new he;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new _c({},$p(n),Hp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ss.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),aC(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ss.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ss.then(()=>{let r=this._findContainer(n.path),o=new _c({});X1(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ss.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ss.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),tP(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Vp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new jp(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(F(Up,10),F(X_,10),F(zp,8))};static \u0275dir=_e({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&_("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pr([rP]),Lt]})}return e})();function W_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Z_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var oP=class extends yc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(iC(n),sC(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ec(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Z_(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){W_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){W_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Z_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var iP={provide:cs,useExisting:Dn(()=>Fn)},Y_=Promise.resolve(),Fn=(()=>{class e extends cs{_changeDetectorRef;callSetDisabledState;control=new oP;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new he;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=nP(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),J1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){aC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Y_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Kn(r);Y_.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?W1(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(F(qo,9),F(Up,10),F(X_,10),F(Cc,10),F(Nr,8),F(zp,8))};static \u0275dir=_e({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pr([iP]),Lt,qn]})}return e})();var uC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=_e({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var sP={provide:Cc,useExisting:Dn(()=>Wo),multi:!0};function dC(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function aP(e){return e.split(":")[0]}var Wo=(()=>{class e extends Bp{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),o=dC(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=aP(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zn(e)))(o||e)}})();static \u0275dir=_e({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&_("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pr([sP]),Lt]})}return e})(),bc=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(dC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(F(st),F(rn),F(Wo,9))};static \u0275dir=_e({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),lP={provide:Cc,useExisting:Dn(()=>fC),multi:!0};function Q_(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function cP(e){return e.split(":")[0]}var fC=(()=>{class e extends Bp{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let l=s[a],f=this._getOptionValue(l.value);o.push(f)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let f=this._getOptionValue(l.value);o.push(f)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=cP(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zn(e)))(o||e)}})();static \u0275dir=_e({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&_("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pr([lP]),Lt]})}return e})(),Dc=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Q_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Q_(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(F(st),F(rn),F(fC,9))};static \u0275dir=_e({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var uP=(()=>{class e{_validator=$_;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=_e({type:e,features:[qn]})}return e})();var dP={provide:Up,useExisting:Dn(()=>Wp),multi:!0};var Wp=(()=>{class e extends uP{required;inputName="required";normalizeInput=Kn;createValidator=n=>F1;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zn(e)))(o||e)}})();static \u0275dir=_e({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&xn("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Pr([dP]),Lt]})}return e})();var fP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Et({type:e});static \u0275inj=Ct({})}return e})();var un=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:zp,useValue:n.callSetDisabledState??Gp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Et({type:e});static \u0275inj=Ct({imports:[fP]})}return e})();function pP(e,t){if(e&1&&(u(0,"div"),c(1),d()),e&2){let n=t.$implicit;m(),B(n)}}function hP(e,t){if(e&1){let n=U();u(0,"div",12),_("click",function(){let o=w(n).$implicit,i=y(2);return x(i.selectDay(o))}),c(1),d()}if(e&2){let n=t.$implicit;Oe("deshabilitado",n.disabled),C("ngClass",n.class),m(),ne(" ",n.dayNumber," ")}}function mP(e,t){if(e&1){let n=U();u(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),_("click",function(){w(n);let o=y();return x(o.changeMonth(-1))}),c(4,"\u2190"),d(),u(5,"h2"),c(6),d(),u(7,"button",7),_("click",function(){w(n);let o=y();return x(o.changeMonth(1))}),c(8,"\u2192"),d()(),u(9,"div",8),N(10,pP,2,1,"div",9),d(),u(11,"div",10),N(12,hP,2,4,"div",11),d()()()}if(e&2){let n=y();m(6),Re("",n.currentMonthName()," ",n.currentYear(),""),m(4),C("ngForOf",n.weekDays),m(2),C("ngForOf",n.days())}}var ar=class e{dateSelected=new he;initialDate;showToggle=!0;allowAnyDate=!1;currentDate=D(new Date);selectedDate=D(null);isOpen=D(!1);days=D([]);monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];weekDays=["L","M","M","J","V","S","D"];currentMonthName=re(()=>this.monthNames[this.currentDate().getMonth()]);currentYear=re(()=>this.currentDate().getFullYear());maxSelectableDate=re(()=>{let t=new Date;return t.setDate(t.getDate()+31),t});buttonText=re(()=>{let t=this.selectedDate();if(!t)return"Hoy";let n=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0");return`${n}/${r}`});constructor(){Lf(()=>{if(this.initialDate){let t=new Date(this.initialDate);t.setHours(0,0,0,0),(!this.selectedDate()||this.selectedDate().getTime()!==t.getTime())&&(this.selectedDate.set(t),this.currentDate.set(new Date(t.getFullYear(),t.getMonth(),1)),this.renderCalendar(),this.dateSelected.emit(t),console.log("[CalendarComponent] initialDate input changed/set, updated to:",t))}},{allowSignalWrites:!0}),this.renderCalendar(),this.initializeSelection()}onToggleClick(){if(!this.isOpen()){let t=this.selectedDate()||new Date;this.currentDate.set(new Date(t.getFullYear(),t.getMonth(),1)),this.renderCalendar()}this.isOpen.update(t=>!t)}changeMonth(t){let n=new Date(this.currentDate());n.setMonth(n.getMonth()+t),this.currentDate.set(n),this.renderCalendar()}selectDay(t){if(!t.selectable)return;let n=this.currentDate(),r=new Date(n.getFullYear(),n.getMonth(),t.dayNumber);this.selectedDate.set(r),this.dateSelected.emit(r),this.isOpen.set(!1),this.highlightSelectedDay(t.dayNumber)}highlightSelectedDay(t){this.days.update(n=>n.map(r=>{let o=r.dayNumber===t&&r.selectable&&this.isCurrentMonth(this.createDateFromDay(r.dayNumber));return R(A({},r),{class:o?`${r.class.replace(" seleccionado","")} seleccionado`:r.class.replace(" seleccionado","")})}))}initializeSelection(){if(this.selectedDate()===null){let t=new Date;t.setHours(0,0,0,0);let n=this.currentDate();t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&this.days().find(o=>o.dayNumber===t.getDate()&&!o.class.includes("otro-mes")&&!o.disabled)&&this.selectedDate.set(new Date(t.getFullYear(),t.getMonth(),t.getDate()))}}renderCalendar(){let t=this.currentDate(),n=t.getFullYear(),r=t.getMonth(),o=new Date;o.setHours(0,0,0,0);let i=new Date(n,r,1),s=i.getDay()===0?6:i.getDay()-1,a=new Date(n,r+1,0),l=new Date(n,r,0).getDate(),p=(7-(a.getDay()===0?6:a.getDay()-1)-1+7)%7,h=[];for(let v=s;v>0;v--)h.push(this.createDay(l-v+1,"otro-mes",!0));for(let v=1;v<=a.getDate();v++){let g=new Date(n,r,v);g.setHours(0,0,0,0);let M=!(this.allowAnyDate||g>=o&&g<=this.maxSelectableDate()),P=g.getTime()===o.getTime(),H=this.selectedDate()&&g.getTime()===this.selectedDate().getTime(),Ht=P?"hoy":"";H&&(Ht+=" seleccionado"),h.push(this.createDay(v,Ht,M,!M))}for(let v=1;v<=p;v++)h.push(this.createDay(v,"otro-mes",!0));this.days.set(h)}createDay(t,n,r,o=!1){return{dayNumber:t,class:`dia ${n}`.trim(),disabled:r,selectable:o}}isCurrentMonth(t){return t.getMonth()===this.currentDate().getMonth()&&t.getFullYear()===this.currentDate().getFullYear()}createDateFromDay(t){let n=this.currentDate().getFullYear(),r=this.currentDate().getMonth(),o=new Date(n,r,t);return o.setHours(0,0,0,0),o}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-calendar"]],inputs:{initialDate:"initialDate",showToggle:"showToggle",allowAnyDate:"allowAnyDate"},outputs:{dateSelected:"dateSelected"},decls:4,vars:2,consts:[[1,"calendario-wrapper"],[1,"calendar-toggle-btn",3,"click"],["class","calendario-container",4,"ngIf"],[1,"calendario-container"],[1,"mes-container"],[1,"calendario-header"],[1,"btn-mes","prev-mes",3,"click"],[1,"btn-mes","next-mes",3,"click"],[1,"calendario-semana"],[4,"ngFor","ngForOf"],[1,"calendario-grid"],[3,"ngClass","deshabilitado","click",4,"ngFor","ngForOf"],[3,"click","ngClass"]],template:function(n,r){n&1&&(u(0,"div",0)(1,"button",1),_("click",function(){return r.onToggleClick()}),c(2),d(),N(3,mP,13,4,"div",2),d()),n&2&&(m(2),ne(" ",r.buttonText()," "),m(),C("ngIf",r.isOpen()))},dependencies:[Se,Ut,qe,ze],styles:["[_nghost-%COMP%]{--celeste: #007bff;--light-celeste: #409cff;--color-header: #2c3e50;--color-dia-otromes: #ced4da;--color-deshabilitado: #f0f2f5}.calendario-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-top:20px}.calendar-toggle-btn[_ngcontent-%COMP%]{background-color:var(--celeste);color:#fff;border:none;padding:.8rem 1.5rem;border-radius:25px;cursor:pointer;font-size:1rem;font-weight:600;box-shadow:0 4px 8px #00000026;transition:all .3s ease;z-index:10;min-width:120px;text-align:center}.calendar-toggle-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-celeste);transform:translateY(-2px);box-shadow:0 6px 12px #0003}.calendario-container[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);width:96vw;max-width:380px;background:#fff;z-index:100;box-shadow:0 5px 15px #0000001a;border-radius:12px;padding:15px;border:1px solid #eee}.mes-container[_ngcontent-%COMP%]{width:100%}.calendario-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.calendario-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:var(--color-header);margin:0 10px}.btn-mes[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--celeste);padding:.5rem;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.btn-mes[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.calendario-semana[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);text-align:center;font-weight:700;margin-bottom:10px;color:#999;font-size:.8rem}.calendario-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:5px}.dia[_ngcontent-%COMP%]{padding:10px;text-align:center;cursor:pointer;border-radius:50%;transition:background-color .2s,color .2s}.dia[_ngcontent-%COMP%]:not(.deshabilitado):not(.otro-mes):hover{background-color:#eaf5fb;color:var(--celeste)}.dia.hoy[_ngcontent-%COMP%]{border:2px solid var(--celeste);font-weight:700}.dia.seleccionado[_ngcontent-%COMP%]{background-color:var(--celeste)!important;color:#fff!important;font-weight:700;border:none}.dia.otro-mes[_ngcontent-%COMP%]{color:var(--color-dia-otromes);cursor:default}.dia.deshabilitado[_ngcontent-%COMP%]{color:#ccc;pointer-events:none;background-color:var(--color-deshabilitado)}"]})};var St=class e{isMenuActive=D(!1);isConfigActive=D(!1);toggleConfig(t){t.stopPropagation(),this.isConfigActive.update(n=>!n),this.isConfigActive()&&this.isMenuActive.set(!1)}toggleMenu(){this.isMenuActive.update(t=>!t),this.isMenuActive()&&this.isConfigActive.set(!1)}closeAllMenus(){this.isMenuActive.set(!1),this.isConfigActive.set(!1)}onDocumentClick(t){this.isConfigActive()&&(t.target.closest(".config-container")||this.isConfigActive.set(!1)),this.isMenuActive()&&(t.target.closest(".app-header")||this.isMenuActive.set(!1))}menuToggled=new he;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-header"]],hostBindings:function(n,r){n&1&&_("click",function(i){return r.onDocumentClick(i)},!1,S0)},outputs:{menuToggled:"menuToggled"},decls:34,vars:4,consts:[[1,"app-header",3,"click"],[1,"header-content"],[1,"logo-container"],["routerLink","/principal"],["src","logoPag.png","alt","Logo","onerror","this.onerror=null;",1,"logo"],[1,"main-nav"],[1,"nav-list"],[1,"nav-item"],["routerLink","/principal",1,"nav-link",3,"click"],["routerLink","/pacientes",1,"nav-link",3,"click"],["routerLink","/historial",1,"nav-link",3,"click"],["routerLink","/reportes",1,"nav-link",3,"click"],[1,"config-container"],["aria-label","Configuraci\xF3n",1,"config-btn",3,"click"],[1,"material-symbols-outlined","config-icon"],[1,"config-dropdown"],["routerLink","/cuenta",1,"dropdown-item",3,"click"],["routerLink","/configuracion",1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"click"],["aria-label","Men\xFA principal",1,"hamburger-btn",3,"click"],[1,"hamburger-line"]],template:function(n,r){n&1&&(u(0,"header",0),_("click",function(i){return i.stopPropagation()}),u(1,"div",1)(2,"div",2)(3,"a",3),ue(4,"img",4),d()(),u(5,"nav",5)(6,"ul",6)(7,"li",7)(8,"a",8),_("click",function(){return r.closeAllMenus()}),c(9,"Agenda"),d()(),u(10,"li",7)(11,"a",9),_("click",function(){return r.closeAllMenus()}),c(12,"Lista de pacientes"),d()(),u(13,"li",7)(14,"a",10),_("click",function(){return r.closeAllMenus()}),c(15,"Historial de turnos"),d()(),u(16,"li",7)(17,"a",11),_("click",function(){return r.closeAllMenus()}),c(18,"Reportes"),d()()()(),u(19,"div",12)(20,"button",13),_("click",function(i){return r.toggleConfig(i)}),u(21,"span",14),c(22,"menu"),d()(),u(23,"div",15)(24,"a",16),_("click",function(){return r.closeAllMenus()}),c(25,"Mi cuenta"),d(),u(26,"a",17),_("click",function(){return r.closeAllMenus()}),c(27,"Configuraci\xF3n"),d(),u(28,"button",18),_("click",function(){return r.closeAllMenus()}),c(29,"Cerrar sesi\xF3n"),d()()(),u(30,"button",19),_("click",function(){return r.toggleMenu()}),ue(31,"span",20)(32,"span",20)(33,"span",20),d()()()),n&2&&(Oe("menu-active",r.isMenuActive()),m(19),Oe("config-active",r.isConfigActive()))},dependencies:[Se,Mt,cn],styles:["@media (min-width: 768px){.hamburger-btn[_ngcontent-%COMP%]{display:none}.main-nav[_ngcontent-%COMP%]{display:block}.app-header.menu-active[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{position:static;display:block;width:auto;background:none;padding:0}.app-header.menu-active[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{flex-direction:row}}"]})};var dn={production:!1,apiBaseUrl:"http://localhost:8080/SGTPI/api"};var fn=class e{platformId=E(tn);http=E(wt);API_BASE_URL=dn.apiBaseUrl;turnosSignal=D([]);turnosSignalPrincipal=D([]);loading=D(!1);error=D(null);fechaSeleccionadaSignal=D(new Date);notificaciones=new le;pollingInterval;turnosPorPeriodo=re(()=>{let t=this.turnosSignal(),n=[],r=[],o=[];return t.forEach(i=>{this.esManana(i.hora)?n.push(i):this.esTarde(i.hora)?r.push(i):this.esNoche(i.hora)&&o.push(i)}),{manana:n,tarde:r,noche:o}});constructor(){this.cargarTurnos(this.fechaSeleccionadaSignal())}esManana(t){let n=parseInt(t.split(":")[0],10);return n>=8&&n<13}esTarde(t){let n=parseInt(t.split(":")[0],10);return n>=13&&n<20}esNoche(t){let n=parseInt(t.split(":")[0],10);return n>=20&&n<=22}formatearFecha(t){let n=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0");return`${n}-${r}-${o}`}refreshCurrentDayAppointments(){return L(this,null,function*(){let t=this.fechaSeleccionadaSignal(),n=this.formatearFecha(t);console.log(`[TurnosService] Refrescando turnos para la fecha actual: ${n}`),yield this.getTurnosPorFecha(n)})}seleccionarFecha(t){let n=new Date(t);n.setHours(0,0,0,0),this.fechaSeleccionadaSignal.set(n),this.cargarTurnos(n)}getTurnosFromBackend(t){return L(this,null,function*(){this.loading.set(!0),this.error.set(null),console.log(`[getTurnosFromBackend] Requesting appointments for date: ${t}`);try{let n=yield ri(this.http.get(`${this.API_BASE_URL}/appointments/${t}`).pipe(se(r=>this.handleError(r,"getTurnosFromBackend"))));return this.loading.set(!1),n}catch(n){throw console.error("[getTurnosFromBackend] Error en la promesa:",n),this.loading.set(!1),n}})}getTurnosPorFecha(t){return L(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let n=yield this.getTurnosFromBackend(t),r=new Date(t+"T12:00:00"),o=this.generarTurnosParaFecha(r),i=this.mergeTurnos(o,n);return this.turnosSignal.set(i),this.loading.set(!1),i}catch(n){throw console.error("[getTurnosPorFecha] Error al obtener y fusionar turnos:",n),this.loading.set(!1),n}})}mergeTurnos(t,n){return t.map(r=>{let o=n?.find(i=>{let s=i.fecha.replace(/\//g,"-"),a=i.hora.substring(0,5);return s===r.fecha&&a===r.hora});return o?R(A({},r),{apiId:o.id,estado:o.state,paciente:{id:o.patientId||null,firstName:o.patientName||"",lastName:o.patientLastName||"",phoneNumber:o.patientPhoneNumber||"",email:o.patientEmail||""},telefono:o.patientPhoneNumber||null,email:o.patientEmail||null,duracion:o.duration??r.duracion,observaciones:o.notes||null}):r})}cargarTurnos(t){let n=this.formatearFecha(t);this.getTurnosPorFecha(n)}generarTurnosParaFecha(t){let n=this.formatearFecha(t),r=t.getDay();return this.generarTurnosBase(r).map(i=>({id:`base-slot-${n}-${i.hora}`,fecha:n,hora:i.hora,estado:i.estado,paciente:i.paciente||null,telefono:i.telefono||null,email:i.email||null,duracion:i.duracion||50,observaciones:null,apiId:null}))}generarTurnosBase(t){let n=[{hora:"08:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"09:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"10:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"11:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"12:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"13:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"14:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"15:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"16:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"17:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"18:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"19:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"20:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"21:00",estado:"DISPONIBLE",duracion:50,paciente:null},{hora:"22:00",estado:"DISPONIBLE",duracion:50,paciente:null}];return t===0||t===6?(console.log(`[generarTurnosBase] Bloqueando todos los turnos para el fin de semana (D\xEDa: ${t}).`),n.map(r=>R(A({},r),{estado:"BLOQUEADO",paciente:null}))):t===3?(console.log("[generarTurnosBase] Bloqueando turnos de 15:00 a 18:00 para el mi\xE9rcoles."),n.map(r=>["15:00","16:00","17:00","18:00"].includes(r.hora)?R(A({},r),{estado:"BLOQUEADO",paciente:null}):r)):(console.log("[generarTurnosBase] Turnos disponibles para un d\xEDa normal."),n)}createAppointment(t){return L(this,null,function*(){return this.loading.set(!0),this.error.set(null),console.log("[createAppointment] Attempting to create appointment with DTO:",t),new Promise((n,r)=>{this.http.post(`${this.API_BASE_URL}/appointment`,t).subscribe({next:o=>L(this,null,function*(){console.log("[createAppointment] Appointment created successfully:",o),this.notificaciones.next({tipo:"success",mensaje:`Turno asignado exitosamente (ID: ${o.id}).`}),this.loading.set(!1),yield this.refreshCurrentDayAppointments(),n(o)}),error:o=>{console.error("Error in createAppointment:",o),this.handleError(o,"createAppointment"),r(o)}})})})}saveOrUpdateAppointment(t,n){return L(this,null,function*(){this.loading.set(!0),this.error.set(null);let r={id:n.id,firstName:n.firstName,lastName:n.lastName,phoneNumber:n.phoneNumber,email:n.email||"",state:t.estado},o=t.fecha,i=`${t.hora}:00`,s={duration:t.duracion,fecha:o,hora:i,patient:r,state:t.estado,sessionNotes:t.observaciones||""};return console.log("[saveOrUpdateAppointment] --- REQUEST START ---"),console.log("[saveOrUpdateAppointment] Request DTO to send:",s),console.log("[saveOrUpdateAppointment] Appointment API ID:",t.apiId),console.log("[saveOrUpdateAppointment] API Base URL:",this.API_BASE_URL),new Promise((a,l)=>{let f,p;t.apiId!==void 0&&t.apiId!==null?(p=`${this.API_BASE_URL}/patch-appointment/${t.apiId}`,f=this.http.patch(p,s,{responseType:"text"}),console.log(`[saveOrUpdateAppointment] Performing PATCH to: ${p}`)):(p=`${this.API_BASE_URL}/appointment`,f=this.http.post(p,s),console.log(`[saveOrUpdateAppointment] Performing POST to: ${p}`)),f.subscribe({next:h=>L(this,null,function*(){console.log("[saveOrUpdateAppointment] Request successful. Response:",h);let v;if(typeof h=="string")try{v=JSON.parse(h).text||"Turno modificado exitosamente."}catch(g){console.warn("[saveOrUpdateAppointment] Failed to parse JSON response (PATCH). Using plain text.",g),v=h}else v=`Turno asignado exitosamente (ID: ${h.id}).`;this.notificaciones.next({tipo:"success",mensaje:v}),this.loading.set(!1),yield this.refreshCurrentDayAppointments(),a(v),console.log("[saveOrUpdateAppointment] --- REQUEST SUCCESSFUL END ---")}),error:h=>{console.error("[saveOrUpdateAppointment] ERROR in request:",h),this.handleError(h,"saveOrUpdateAppointment"),l(h),console.log("[saveOrUpdateAppointment] --- REQUEST WITH ERROR END ---")}})})})}cancelAppointment(t){return L(this,null,function*(){return this.loading.set(!0),this.error.set(null),new Promise((n,r)=>{this.http.put(`${this.API_BASE_URL}/appointment/cancel/${t}`,{},{responseType:"text"}).subscribe({next:o=>L(this,null,function*(){console.log("[cancelAppointment] Success - next block! Raw Response (text):",o);let i;try{i=JSON.parse(o).text||"Turno cancelado exitosamente."}catch(s){console.warn("[cancelAppointment] Failed to parse JSON response. Treating as plain text. Error:",s),i=o||"Turno cancelado exitosamente."}this.notificaciones.next({tipo:"success",mensaje:i}),this.loading.set(!1),this.turnosSignal.update(s=>s.map(a=>a.apiId===t?R(A({},a),{estado:"CANCELADO"}):a)),yield this.refreshCurrentDayAppointments(),console.log("[cancelAppointment] Refresh completed after successful cancellation."),n(i)}),error:o=>{console.error("[cancelAppointment] ERROR - error block! HttpErrorResponse:",o),this.handleError(o,"cancelAppointment"),r(o)}})})})}toggleBlock(t,n){return L(this,null,function*(){this.loading.set(!0),this.error.set(null);let r=t.getFullYear(),o=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=t.getSeconds().toString().padStart(2,"0"),f=`${r}-${o}-${i}T${s}:${a}:${l}`;return console.log(`[toggleBlock] Attempting to ${n?"block":"unblock"} time slot for: ${f}`),new Promise((p,h)=>{this.http.put(`${this.API_BASE_URL}/appointments/${f}/${n}`,{},{responseType:"text"}).subscribe({next:v=>L(this,null,function*(){console.log("Respuesta cruda del backend:",v);let g;try{let P=JSON.parse(v);P&&typeof P=="object"&&"text"in P?g=P.text:g=n?"Horario bloqueado exitosamente.":"Horario desbloqueado exitosamente."}catch(P){console.warn("[toggleBlock] Failed to parse JSON response. Treating as plain text. Error:",P),g=v||(n?"Horario bloqueado exitosamente.":"Horario desbloqueado exitosamente.")}this.notificaciones.next({tipo:"success",mensaje:g}),this.loading.set(!1);let b=this.formatearFecha(t),M=`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;this.turnosSignal.update(P=>P.map(H=>H.fecha===b&&H.hora===M?n?R(A({},H),{estado:"BLOQUEADO",paciente:null,telefono:null,email:null,observaciones:null,apiId:null}):R(A({},H),{estado:"DISPONIBLE",paciente:null,telefono:null,email:null,observaciones:null,apiId:null}):H)),yield this.refreshCurrentDayAppointments(),console.log("[toggleBlock] Refresh completed after successful operation."),p(g)}),error:v=>{if(console.error("[toggleBlock] ERROR - error block! HttpErrorResponse:",v),v.status===400&&v.error&&typeof v.error=="object"&&"text"in v.error){let g=v.error.text;this.handleError(v,"toggleBlock",g),h(new Error(g))}else this.handleError(v,"toggleBlock"),h(v)}})})})}handleError(t,n="operation",r){let o=`Error en ${n}: `,i="Ocurri\xF3 un error inesperado. Por favor, intente de nuevo.";if(wl(this.platformId))if(t.error instanceof ErrorEvent)o+=`Error del cliente o de red: ${t.error.message}`,i="Hubo un problema de conexi\xF3n. Intente de nuevo.";else{let s;if(typeof t.error=="string")s=t.error;else if(t.error===null||t.error===void 0)s="No se proporcionaron detalles de error desde el backend.";else if(typeof t.error=="object")try{s=JSON.stringify(t.error)}catch{s=`Error de backend (objeto no serializable): ${String(t.error)}`}else s=`Tipo de error de backend inesperado: ${String(t.error)}`;o+=`C\xF3digo ${t.status}, Cuerpo: ${s}`,t.status===409&&typeof t.error=="string"&&t.error.includes("La fecha y hora seleccionadas ya est\xE1n ocupadas")?i="\xA1Conflicto de horario! La fecha y hora seleccionadas ya est\xE1n ocupadas por otro turno.":r?i=r:t.error&&typeof t.error=="object"&&"message"in t.error?i=String(t.error.message||"Error del servidor sin mensaje espec\xEDfico."):typeof t.error=="string"&&t.error.length>0&&(i=t.error)}else{let s;if(typeof t.error=="string")s=t.error;else if(t.error===null||t.error===void 0)s="No se proporcionaron detalles de error desde el backend (SSR).";else if(typeof t.error=="object")try{s=JSON.stringify(t.error)}catch{s=`Error de backend (objeto no serializable SSR): ${String(t.error)}`}else s=`Tipo de error de backend inesperado (SSR): ${String(t.error)}`;o+=`C\xF3digo ${t.status}, Cuerpo: ${s}`,i=`Error ${t.status}: Ocurri\xF3 un problema en el servidor.`}return i.trim()===""&&(i="Ocurri\xF3 un error inesperado. Por favor, intente de nuevo."),this.notificaciones.next({tipo:"error",mensaje:i}),Fe(()=>new Error(i))}startPollingForInProgressAppointments(){this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=setInterval(()=>L(this,null,function*(){console.log("[TurnosService] Polling for in-progress appointments..."),wl(this.platformId)&&(yield this.refreshCurrentDayAppointments())}),3e4)}stopPollingForInProgressAppointments(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null,console.log("[TurnosService] Stopped polling for in-progress appointments."))}getAppointmentsByPatientId(t){return L(this,null,function*(){return this.loading.set(!0),this.error.set(null),console.log(`[TurnosService] Solicitando historial de turnos para paciente ID: ${t}`),new Promise((n,r)=>{this.http.get(`${this.API_BASE_URL}/appointments/patient/${t}`).pipe(se(o=>this.handleError(o,"getAppointmentsByPatientId"))).subscribe({next:o=>{console.log(`Historial de turnos para paciente ID ${t}:`,o),this.loading.set(!1),n(o)},error:o=>{console.error(`Error al obtener historial de turnos para paciente ID ${t}:`,o),this.loading.set(!1),r(o)}})})})}updateAppointmentNotes(t,n){return L(this,null,function*(){return this.loading.set(!0),this.error.set(null),console.log(`[TurnosService] Actualizando notas para turno ID ${t} con API: /session-notes/{id}`),new Promise((r,o)=>{this.http.patch(`${this.API_BASE_URL}/session-notes/${t}`,n,{responseType:"text"}).pipe(se(i=>this.handleError(i,"updateAppointmentNotes"))).subscribe({next:i=>{console.log(`Notas del turno ID ${t} actualizadas:`,i),this.notificaciones.next({tipo:"success",mensaje:"Notas actualizadas exitosamente."}),this.loading.set(!1),r()},error:i=>{console.error(`Error al actualizar notas para turno ID ${t}:`,i),this.loading.set(!1),o(i)}})})})}getAppointmentNotes(t){return L(this,null,function*(){return this.loading.set(!0),this.error.set(null),console.log(`[TurnosService] Solicitando notas para el turno ID: ${t} con API: /get-notes/{id}`),new Promise((n,r)=>{this.http.get(`${this.API_BASE_URL}/get-notes/${t}`,{responseType:"text"}).pipe(se(o=>o.status===404?(console.log(`[getAppointmentNotes] No se encontraron notas para el turno ID ${t} (404 Not Found).`),this.loading.set(!1),new X(i=>{i.next(null),i.complete()})):this.handleError(o,"getAppointmentNotes"))).subscribe({next:o=>{console.log(`[getAppointmentNotes] Notas recibidas para turno ID ${t}:`,o),this.loading.set(!1),n(o)},error:o=>{console.error(`[getAppointmentNotes] Error en la suscripci\xF3n para turno ID ${t}:`,o),this.loading.set(!1),r(o)}})})})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var lr=class e{constructor(t){this.http=t}baseUrl=dn.apiBaseUrl;getPatients(){return L(this,null,function*(){return new Promise((t,n)=>{this.http.get(`${this.baseUrl}/patients`).pipe(se(this.handleError("getPatients",[]))).subscribe({next:r=>{let o=r.sort((i,s)=>{let a=`${i.firstName} ${i.lastName}`.toLowerCase(),l=`${s.firstName} ${s.lastName}`.toLowerCase();return a.localeCompare(l)});t(o)},error:r=>{console.error("Error al obtener pacientes:",r),n(r)}})})})}getPatientById(t){return L(this,null,function*(){return new Promise((n,r)=>{this.http.get(`${this.baseUrl}/patient/${t}`).pipe(se(this.handleError("getPatientById"))).subscribe({next:o=>{console.log(`Paciente con ID ${t} cargado:`,o),n(o)},error:o=>{console.error(`Error al obtener paciente con ID ${t}:`,o),r(o)}})})})}updatePatient(t){return L(this,null,function*(){return t.id===void 0||t.id===null?Promise.reject(new Error("No se puede actualizar un paciente sin ID.")):new Promise((n,r)=>{this.http.patch(`${this.baseUrl}/patch-patient/${t.id}`,t).pipe(se(this.handleError("updatePatient"))).subscribe({next:o=>{console.log("Paciente actualizado exitosamente:",o),n(o)},error:o=>{console.error("Error al actualizar paciente:",o),r(o)}})})})}createPatient(t){return this.http.post(`${this.baseUrl}/patient`,t).pipe(se(n=>{console.error("Error completo:",n);let r="Error desconocido";return n.error instanceof ErrorEvent?r=`Error: ${n.error.message}`:n.status===400?r="Datos inv\xE1lidos: "+(n.error.message||JSON.stringify(n.error)):n.status===500?r="Error interno del servidor":r=`Error ${n.status}: ${n.error.message||n.message}`,Fe(()=>new Error(r))}))}handleError(t="operation",n){return r=>{let o=`Error en ${t}: `;return r.error instanceof ErrorEvent?o+=`Error del cliente o de red: ${r.error.message}`:r.error&&typeof r.error=="object"&&r.error.message?o=r.error.message:typeof r.error=="string"&&r.error.length>0?o=r.error:o+=`C\xF3digo ${r.status}, Cuerpo: ${JSON.stringify(r.error)}`,console.error(o),Fe(()=>new Error(o))}}savePatientObservation(t){return this.http.post(`${this.baseUrl}/patient-observations`,t,{responseType:"text"}).pipe(se(n=>(console.error("Error in savePatientObservation:",n),Fe(()=>new Error(n.error||"Error al guardar la observaci\xF3n.")))))}getPatientObservations(t){return this.http.get(`${this.baseUrl}/patient-observations/${t}`,{responseType:"text"}).pipe(G(n=>{let r=n;return r.startsWith('"')&&r.endsWith('"')&&r.length>1&&(r=r.slice(1,-1)),r.trim()===""||r.toLowerCase()==="null"?null:r}),se(n=>(console.error("ERROR (PatientService - getPatientObservations): Fall\xF3 al obtener observaciones:",n),n.status===404?(console.log(`No se encontraron observaciones para el paciente ${t} (404 Not Found).`),k(null)):Fe(()=>new Error(`Error al cargar observaciones para ${t}: ${n.message||n.statusText}`)))))}createAppointment(t){return console.log("Service: Sending appointment data to backend:",t),this.http.post(`${this.baseUrl}/appointment`,t).pipe(se(n=>{console.error("ERROR (Service catchError): Failed to create appointment:",n);let r="Error desconocido al crear el turno.";return n.error instanceof ErrorEvent?r=`Error de red: ${n.error.message}`:typeof n.error=="string"&&n.status===400?r=`Error al registrar turno: ${n.error}`:n.error&&typeof n.error=="object"&&n.error.message?r=`Error al registrar turno: ${n.error.message}`:n.status===400?r="Error al registrar turno: Datos de entrada inv\xE1lidos.":n.status===500?r="Error del servidor al registrar turno. Por favor, int\xE9ntelo de nuevo.":r=`Error ${n.status}: ${n.statusText||n.message}`,Fe(()=>new Error(r))}))}static \u0275fac=function(n){return new(n||e)(O(wt))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var yP=["calendarComponent"],xc=e=>["/patient-details",e],_P=(e,t)=>({fecha:e,hora:t});function CP(e,t){if(e&1&&(u(0,"option",50),c(1),d()),e&2){let n=t.$implicit;C("value",n.id),m(),Re(" ",n.firstName," ",n.lastName," ")}}function EP(e,t){if(e&1&&(u(0,"option",50),c(1),d()),e&2){let n=t.$implicit;C("value",n.id),m(),Re(" ",n.firstName," ",n.lastName," ")}}function bP(e,t){if(e&1){let n=U();u(0,"a",51),Ee(1,"date"),_("click",function(o){return w(n),x(o.stopPropagation())}),c(2," ver "),d()}if(e&2){let n,r=y();C("routerLink",Mn(6,xc,(n=r.selectedPatient())==null?null:n.id))("queryParams",ul(8,_P,He(1,3,r.modalSelectedDate(),"yyyy-MM-dd"),r.modalSelectedTime()))("queryParamsHandling","merge")}}function DP(e,t){if(e&1&&(u(0,"option",50),c(1),d()),e&2){let n=t.$implicit;C("value",n),m(),ne(" ",n," ")}}function AP(e,t){if(e&1){let n=U();u(0,"div",52)(1,"div",53)(2,"div",3)(3,"h2"),c(4,"Confirmar Acci\xF3n"),d(),u(5,"button",54),_("click",function(){w(n);let o=y();return x(o.handleCustomConfirm(!1))}),u(6,"span",55),c(7,"close"),d()()(),u(8,"div",5)(9,"p"),c(10),d()(),u(11,"div",56)(12,"button",57),_("click",function(){w(n);let o=y();return x(o.handleCustomConfirm(!1))}),u(13,"span",58),c(14,"cancel"),d(),c(15,"Cancelar "),d(),u(16,"button",59),_("click",function(){w(n);let o=y();return x(o.handleCustomConfirm(!0))}),u(17,"span",58),c(18,"check_circle"),d(),c(19,"Confirmar "),d()()()()}if(e&2){let n=y();m(10),B(n.customConfirmMessage())}}function wP(e,t){if(e&1){let n=U();u(0,"div",60),c(1),u(2,"span",54),_("click",function(){w(n);let o=y();return x(o.limpiarNotificacion())}),c(3,"\xD7"),d()()}if(e&2){let n,r,o=y();Oe("active",o.notificacion()),C("ngClass",(n=o.notificacion())==null?null:n.tipo),m(),ne(" ",(r=o.notificacion())==null?null:r.mensaje," ")}}function xP(e,t){if(e&1&&(u(0,"a",72),c(1),d()),e&2){let n=y(2).$implicit;C("routerLink",Mn(3,xc,n.paciente==null?null:n.paciente.id)),m(),Re(" ",n.paciente==null?null:n.paciente.firstName," ",n.paciente==null?null:n.paciente.lastName," ")}}function MP(e,t){if(e&1&&(J(0),c(1),ee()),e&2){let n=y(2).$implicit;m(),Re(" ",n.paciente==null?null:n.paciente.firstName," ",n.paciente==null?null:n.paciente.lastName," ")}}function SP(e,t){e&1&&(J(0),c(1," - "),ee())}function IP(e,t){if(e&1&&(u(0,"div",69)(1,"span",65)(2,"p",70),c(3,"Paciente:"),d(),N(4,xP,2,5,"a",71)(5,MP,2,2,"ng-container",68)(6,SP,2,0,"ng-container",68),d(),u(7,"span",65)(8,"p",70),c(9,"Duraci\xF3n:"),d(),c(10),d()()),e&2){let n=y().$implicit;m(4),C("ngIf",n.paciente==null?null:n.paciente.id),m(),C("ngIf",!(n.paciente!=null&&n.paciente.id)&&n.paciente),m(),C("ngIf",!n.paciente),m(4),ne(" ",n.duracion," minutos ")}}function TP(e,t){if(e&1){let n=U();J(0),u(1,"button",73),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.desbloquearHora(o.id))}),u(2,"span",55),c(3,"lock_open"),d(),c(4," Desbloquear "),d(),ee()}}function PP(e,t){if(e&1){let n=U();J(0),u(1,"button",74),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.bloquearHora(o.id))}),u(2,"span",55),c(3,"lock"),d(),c(4," Bloquear "),d(),u(5,"button",75),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.asignarTurno(o))}),u(6,"span",55),c(7,"person_add"),d(),c(8," Asignar "),d(),ee()}}function NP(e,t){if(e&1){let n=U();J(0),u(1,"button",76),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.modificarTurno(o))}),u(2,"span",55),c(3,"edit"),d(),c(4," Modificar "),d(),u(5,"button",77),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.cancelarTurno(o.id))}),u(6,"span",55),c(7,"cancel"),d(),c(8," Cancelar "),d(),ee()}}function OP(e,t){if(e&1&&(J(0),u(1,"span",65),c(2),d(),ee()),e&2){let n=y().$implicit;m(2),B(n.paciente||"Paciente desconocido")}}function RP(e,t){if(e&1&&(u(0,"div",61)(1,"span",62),c(2),d(),u(3,"div",63)(4,"div",64)(5,"span",65)(6,"span",55),c(7),d(),c(8),Ee(9,"titlecase"),d()(),N(10,IP,11,4,"div",66),d(),u(11,"div",67),N(12,TP,5,0,"ng-container",68)(13,PP,9,0,"ng-container",68)(14,NP,9,0,"ng-container",68)(15,OP,3,1,"ng-container",68),d()()),e&2){let n=t.$implicit,r=y();xn("data-estado",n.estado),m(2),B(n.hora),m(5),B(r.getIconoPorEstado(n.estado)),m(),ne(" Turno: ",Io(9,9,r.getTextoEstado(n))," "),m(2),C("ngIf",n.estado==="CONFIRMADO"||n.estado==="CANCELADO"),m(2),C("ngIf",n.estado==="BLOQUEADO"),m(),C("ngIf",n.estado==="DISPONIBLE"),m(),C("ngIf",n.estado==="CONFIRMADO"),m(),C("ngIf",n.estado==="CANCELADO")}}function kP(e,t){if(e&1&&(u(0,"a",72),c(1),d()),e&2){let n=y(2).$implicit;C("routerLink",Mn(3,xc,n.paciente==null?null:n.paciente.id)),m(),Re(" ",n.paciente==null?null:n.paciente.firstName," ",n.paciente==null?null:n.paciente.lastName," ")}}function FP(e,t){if(e&1&&(J(0),c(1),ee()),e&2){let n=y(2).$implicit;m(),Re(" ",n.paciente==null?null:n.paciente.firstName," ",n.paciente==null?null:n.paciente.lastName," ")}}function LP(e,t){e&1&&(J(0),c(1," - "),ee())}function VP(e,t){if(e&1&&(u(0,"div",69)(1,"span",65)(2,"p",70),c(3,"Paciente:"),d(),N(4,kP,2,5,"a",71)(5,FP,2,2,"ng-container",68)(6,LP,2,0,"ng-container",68),d(),u(7,"span",65)(8,"p",70),c(9,"Duraci\xF3n:"),d(),c(10),d()()),e&2){let n=y().$implicit;m(4),C("ngIf",n.paciente==null?null:n.paciente.id),m(),C("ngIf",!(n.paciente!=null&&n.paciente.id)&&n.paciente),m(),C("ngIf",!n.paciente),m(4),ne(" ",n.duracion," minutos ")}}function jP(e,t){if(e&1){let n=U();J(0),u(1,"button",73),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.desbloquearHora(o.id))}),u(2,"span",55),c(3,"lock_open"),d(),c(4," Desbloquear "),d(),ee()}}function BP(e,t){if(e&1){let n=U();J(0),u(1,"button",74),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.bloquearHora(o.id))}),u(2,"span",55),c(3,"lock"),d(),c(4," Bloquear "),d(),u(5,"button",75),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.asignarTurno(o))}),u(6,"span",55),c(7,"person_add"),d(),c(8," Asignar "),d(),ee()}}function UP(e,t){if(e&1){let n=U();J(0),u(1,"button",76),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.modificarTurno(o))}),u(2,"span",55),c(3,"edit"),d(),c(4," Modificar "),d(),u(5,"button",77),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.cancelarTurno(o.id))}),u(6,"span",55),c(7,"cancel"),d(),c(8," Cancelar "),d(),ee()}}function $P(e,t){if(e&1&&(J(0),u(1,"span",65),c(2),d(),ee()),e&2){let n=y().$implicit;m(2),B(n.paciente||"Paciente desconocido")}}function HP(e,t){if(e&1&&(u(0,"div",61)(1,"span",62),c(2),d(),u(3,"div",63)(4,"div",64)(5,"span",65)(6,"span",55),c(7),d(),c(8),Ee(9,"titlecase"),d()(),N(10,VP,11,4,"div",66),d(),u(11,"div",67),N(12,jP,5,0,"ng-container",68)(13,BP,9,0,"ng-container",68)(14,UP,9,0,"ng-container",68)(15,$P,3,1,"ng-container",68),d()()),e&2){let n=t.$implicit,r=y();xn("data-estado",n.estado),m(2),B(n.hora),m(5),B(r.getIconoPorEstado(n.estado)),m(),ne(" Turno: ",Io(9,9,r.getTextoEstado(n))," "),m(2),C("ngIf",n.estado==="CONFIRMADO"||n.estado==="CANCELADO"),m(2),C("ngIf",n.estado==="BLOQUEADO"),m(),C("ngIf",n.estado==="DISPONIBLE"),m(),C("ngIf",n.estado==="CONFIRMADO"),m(),C("ngIf",n.estado==="CANCELADO")}}function zP(e,t){if(e&1&&(u(0,"a",72),c(1),d()),e&2){let n=y(2).$implicit;C("routerLink",Mn(3,xc,n.paciente==null?null:n.paciente.id)),m(),Re(" ",n.paciente==null?null:n.paciente.firstName," ",n.paciente==null?null:n.paciente.lastName," ")}}function GP(e,t){if(e&1&&(J(0),c(1),ee()),e&2){let n=y(2).$implicit;m(),Re(" ",n.paciente==null?null:n.paciente.firstName," ",n.paciente==null?null:n.paciente.lastName," ")}}function qP(e,t){e&1&&(J(0),c(1," - "),ee())}function WP(e,t){if(e&1&&(u(0,"div",69)(1,"span",65)(2,"p",70),c(3,"Paciente:"),d(),N(4,zP,2,5,"a",71)(5,GP,2,2,"ng-container",68)(6,qP,2,0,"ng-container",68),d(),u(7,"span",65)(8,"p",70),c(9,"Duraci\xF3n:"),d(),c(10),d()()),e&2){let n=y().$implicit;m(4),C("ngIf",n.paciente==null?null:n.paciente.id),m(),C("ngIf",!(n.paciente!=null&&n.paciente.id)&&n.paciente),m(),C("ngIf",!n.paciente),m(4),ne(" ",n.duracion," minutos ")}}function ZP(e,t){if(e&1){let n=U();J(0),u(1,"button",73),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.desbloquearHora(o.id))}),u(2,"span",55),c(3,"lock_open"),d(),c(4," Desbloquear "),d(),ee()}}function YP(e,t){if(e&1){let n=U();J(0),u(1,"button",74),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.bloquearHora(o.id))}),u(2,"span",55),c(3,"lock"),d(),c(4," Bloquear "),d(),u(5,"button",75),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.asignarTurno(o))}),u(6,"span",55),c(7,"person_add"),d(),c(8," Asignar "),d(),ee()}}function QP(e,t){if(e&1){let n=U();J(0),u(1,"button",76),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.modificarTurno(o))}),u(2,"span",55),c(3,"edit"),d(),c(4," Modificar "),d(),u(5,"button",77),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.cancelarTurno(o.id))}),u(6,"span",55),c(7,"cancel"),d(),c(8," Cancelar "),d(),ee()}}function KP(e,t){if(e&1&&(J(0),u(1,"span",65),c(2),d(),ee()),e&2){let n=y().$implicit;m(2),B(n.paciente||"Paciente desconocido")}}function XP(e,t){if(e&1&&(u(0,"div",61)(1,"span",62),c(2),d(),u(3,"div",63)(4,"div",64)(5,"span",65)(6,"span",55),c(7),d(),c(8),Ee(9,"titlecase"),d()(),N(10,WP,11,4,"div",66),d(),u(11,"div",67),N(12,ZP,5,0,"ng-container",68)(13,YP,9,0,"ng-container",68)(14,QP,9,0,"ng-container",68)(15,KP,3,1,"ng-container",68),d()()),e&2){let n=t.$implicit,r=y();xn("data-estado",n.estado),m(2),B(n.hora),m(5),B(r.getIconoPorEstado(n.estado)),m(),ne(" Turno: ",Io(9,9,r.getTextoEstado(n))," "),m(2),C("ngIf",n.estado==="CONFIRMADO"||n.estado==="CANCELADO"),m(2),C("ngIf",n.estado==="BLOQUEADO"),m(),C("ngIf",n.estado==="DISPONIBLE"),m(),C("ngIf",n.estado==="CONFIRMADO"),m(),C("ngIf",n.estado==="CANCELADO")}}var wc=class e{calendar;turnosService=E(fn);patientService=E(lr);destroy$=new le;showAssignModal=D(!1);showModifyModal=D(!1);modalTurno=D(null);patientsList=D([]);selectedPatient=D(null);pacienteNombre=D("");telefonoPaciente=D("");emailPaciente=D("");duracionTurno=D(50);observaciones=D("");modalSelectedDate=D(null);modalSelectedTime=D("");notificacion=D(null);showCustomConfirmModal=D(!1);customConfirmMessage=D("");customConfirmResolve=null;showNotesModal=D(!1);selectedAppointmentForNotes=D(null);currentNotes=D("");turnos=re(()=>this.turnosService.turnosSignal());turnosPorPeriodo=re(()=>this.turnosService.turnosPorPeriodo());fechaSeleccionada=re(()=>this.turnosService.fechaSeleccionadaSignal());tituloAgenda=re(()=>{let t=this.turnosService.fechaSeleccionadaSignal(),n=new Date;n.setHours(0,0,0,0);let r=new Date(t);if(r.setHours(0,0,0,0),r.getTime()===n.getTime())return"Turnos para hoy";let o={weekday:"long",day:"numeric",month:"long"};return`Turnos para el ${r.toLocaleDateString("es-ES",o)}`});ngOnInit(){this.turnosService.notificaciones.pipe(jn(this.destroy$)).subscribe(t=>{this.notificacion.set(t),t&&setTimeout(()=>this.notificacion.set(null),3e3)}),this.loadPatients(),this.turnosService.seleccionarFecha(this.fechaSeleccionada())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadPatients(){return L(this,null,function*(){console.log("[loadPatients] Iniciando carga de pacientes...");try{let t=yield this.patientService.getPatients();this.patientsList.set(t),console.log("[loadPatients] Pacientes cargados exitosamente:",t),this.showModifyModal()&&this.modalTurno()?.estado==="CONFIRMADO"&&(console.log("[loadPatients] Modify modal open and is CONFIRMADO, re-attempting to preload patient..."),this.preloadPatientForModal(this.modalTurno()))}catch(t){console.error("[loadPatients] Error al cargar pacientes:",t),this.notificacion.set({tipo:"error",mensaje:"Error al cargar la lista de pacientes."})}})}onPatientSelected(t){console.log(`[onPatientSelected] Valor recibido del dropdown: '${t}' (tipo: ${typeof t})`);let n=null;if(t&&t!=="null"&&t!=="undefined"&&t!==""){let o=Number(t);isNaN(o)||(n=o)}if(console.log(`[onPatientSelected] ID parseado para b\xFAsqueda: ${n}`),n===null){this.selectedPatient.set(null),this.pacienteNombre.set(""),this.telefonoPaciente.set(""),this.emailPaciente.set(""),console.log("[onPatientSelected] Selecci\xF3n vac\xEDa o inv\xE1lida (ID nulo). Campos reseteados.");return}let r=this.patientsList().find(o=>o.id===n);this.selectedPatient.set(r||null),this.telefonoPaciente.set(r?.phoneNumber||""),this.emailPaciente.set(r?.email||""),this.pacienteNombre.set(`${r?.firstName||""} ${r?.lastName||""}`.trim()),console.log("[onPatientSelected] Paciente seleccionado (signal):",this.selectedPatient()),console.log("[onPatientSelected] Tel\xE9fono actualizado (signal):",this.telefonoPaciente()),console.log("[onPatientSelected] Email actualizado (signal):",this.emailPaciente())}toggleCalendar(){this.calendar&&this.calendar.onToggleClick()}onDateSelected(t){this.turnosService.seleccionarFecha(t)}onModalDateSelected(t){this.modalSelectedDate.set(t),console.log("[onModalDateSelected] Fecha seleccionada en el modal:",t)}irAHoy(){let t=new Date;this.turnosService.seleccionarFecha(t)}getIconoPorEstado(t){switch(t){case"DISPONIBLE":return"event_available";case"CONFIRMADO":return"assignment_ind";case"BLOQUEADO":return"lock";case"CANCELADO":return"event_busy";case"REALIZADO":return"check_circle";case"EN_CURSO":return"play_circle";default:return"help"}}getTextoEstado(t){switch(t.estado){case"BLOQUEADO":return"Bloqueado";case"DISPONIBLE":return"Disponible";case"CONFIRMADO":return"Confirmado";case"CANCELADO":return"Cancelado";case"REALIZADO":return"Realizado";case"EN_CURSO":return"En curso";default:return"Estado desconocido"}}limpiarNotificacion(){this.notificacion.set(null)}abrirAsignarModal(t){console.log("[abrirAsignarModal] Abriendo modal para asignar turno:",t),this.modalTurno.set(t),this.selectedPatient.set(null),this.pacienteNombre.set(""),this.telefonoPaciente.set(""),this.emailPaciente.set(""),this.duracionTurno.set(50),this.observaciones.set("");let n=new Date(`${t.fecha}T${t.hora}`);this.modalSelectedDate.set(n),this.modalSelectedTime.set(t.hora.substring(0,5)),this.showAssignModal.set(!0),this.showModifyModal.set(!1),console.log("[abrirAsignarModal] Assign modal opened. showAssignModal state:",this.showAssignModal())}abrirModificarModal(t){console.log("[abrirModificarModal] Abriendo modal para modificar turno:",t),this.modalTurno.set(t),this.selectedPatient.set(null),this.pacienteNombre.set(""),this.telefonoPaciente.set(""),this.emailPaciente.set(""),this.duracionTurno.set(t.duracion??50),this.observaciones.set(t.observaciones||"");let n=t.fecha&&t.hora?new Date(`${t.fecha}T${t.hora}`):this.turnosService.fechaSeleccionadaSignal();this.modalSelectedDate.set(n),this.modalSelectedTime.set(t.hora?t.hora.substring(0,5):"08:00"),console.log("[abrirModificarModal] Initial modal date and time signals set to:",this.modalSelectedDate(),this.modalSelectedTime()),this.showModifyModal.set(!0),this.showAssignModal.set(!1),this.showCustomConfirmModal.set(!1),this.showNotesModal.set(!1),setTimeout(()=>{t.estado==="CONFIRMADO"&&(console.log("[abrirModificarModal] Appointment is CONFIRMADO. Attempting to preload patient after modal render."),this.preloadPatientForModal(t)),console.log("[abrirModificarModal] Modify modal opened. showModifyModal state:",this.showModifyModal())},0)}preloadPatientForModal(t){console.log("[preloadPatientForModal] Starting preload for appointment:",t),this.patientsList().length===0&&console.warn("[preloadPatientForModal] patientsList is empty. Preloading may fail. Ensure patients are loaded before opening the modal for modification.");let n=t.paciente?`${t.paciente.firstName||""} ${t.paciente.lastName||""}`.trim():"",r=t.paciente?.phoneNumber||"",o=this.patientsList().find(i=>i.phoneNumber===r&&`${i.firstName||""} ${i.lastName||""}`.trim()===n);o?(console.log("[preloadPatientForModal] Patient found in list:",o),this.selectedPatient.set(o),this.pacienteNombre.set(`${o.firstName} ${o.lastName}`.trim()),this.telefonoPaciente.set(o.phoneNumber),this.emailPaciente.set(o.email||"")):(console.warn("[preloadPatientForModal] Appointment patient NOT found in the loaded patient list. Displaying data from turno object."),console.log("   Appointment data:",{paciente:t.paciente,telefono:t.telefono,email:t.email}),console.log("   Available patients:",this.patientsList()),this.pacienteNombre.set(n),this.telefonoPaciente.set(r),this.emailPaciente.set(t.paciente?.email||""))}cerrarModal(){this.showAssignModal.set(!1),this.showModifyModal.set(!1),this.modalTurno.set(null),this.selectedPatient.set(null),this.pacienteNombre.set(""),this.telefonoPaciente.set(""),this.emailPaciente.set(""),this.duracionTurno.set(50),this.observaciones.set(""),this.modalSelectedDate.set(null),this.modalSelectedTime.set(""),console.log("[cerrarModal] Modals closed. Fields reset.")}showCustomConfirm(t){return this.customConfirmMessage.set(t),this.showCustomConfirmModal.set(!0),new Promise(n=>{this.customConfirmResolve=n})}handleCustomConfirm(t){this.showCustomConfirmModal.set(!1),this.customConfirmResolve&&(this.customConfirmResolve(t),this.customConfirmResolve=null)}confirmarModal(){return L(this,null,function*(){let t=this.modalTurno(),n=this.selectedPatient(),r=null,o="";if(console.log("[confirmarModal] --- INICIO DE CONFIRMAR MODAL ---"),console.log("[confirmarModal] currentTurno:",t),console.log("[confirmarModal] patientFromDropdown (selectedPatient signal):",n),this.showModifyModal())r=this.modalSelectedDate(),o=this.modalSelectedTime(),console.log("[confirmarModal] Flow: Modify Modal. newDate (modalSelectedDate):",r),console.log("[confirmarModal] Flow: Modify Modal. newTime (modalSelectedTime):",o);else if(this.showAssignModal())r=t?.fecha?new Date(`${t.fecha}T${t.hora}`):null,o=t?.hora?.substring(0,5)||"",console.log("[confirmarModal] Flow: Assign Modal. newDate (from currentTurno):",r),console.log("[confirmarModal] Flow: Assign Modal. newTime (from currentTurno):",o);else{console.warn("[confirmarModal] No modal is active. Aborting confirmation."),this.notificacion.set({tipo:"error",mensaje:"No hay un modal activo para confirmar."});return}if(!t||!n||!r||!o){console.warn("[confirmarModal] Validation failed: Missing essential data."),this.notificacion.set({tipo:"error",mensaje:"Debe seleccionar un paciente, una fecha y una hora v\xE1lidos."});return}let i=this.turnosService.formatearFecha(r),s=`base-slot-${i}-${o}`;if(this.turnosService.turnosSignal().find(h=>h.id===s&&h.estado!=="DISPONIBLE"&&h.apiId!==t.apiId)){let h=`El horario ${o} del ${i} ya est\xE1 ocupado o bloqueado. Por favor, elija otro horario.`;console.warn("[confirmarModal] Conflicto de horario detectado:",h),(yield this.showCustomConfirm(h))&&this.modalSelectedTime.set("");return}let f={id:n.id??null,firstName:n.firstName,lastName:n.lastName,phoneNumber:n.phoneNumber,email:n.email||null},p=R(A({},t),{paciente:f,telefono:f.phoneNumber,email:f.email||null,duracion:this.duracionTurno(),observaciones:this.observaciones().trim(),estado:"CONFIRMADO",fecha:i,hora:o});t.apiId&&(p.apiId=t.apiId),console.log("[confirmarModal] Final turnoToSave object:",p);try{console.log("[confirmarModal] Attempting to save/modify appointment via service..."),yield this.turnosService.saveOrUpdateAppointment(p,f),this.cerrarModal(),console.log("[confirmarModal] Appointment saved/modified successfully. Modals closed.");let h=this.turnosService.formatearFecha(this.turnosService.fechaSeleccionadaSignal());i!==h?(console.log(`[confirmarModal] Appointment moved from ${h} to ${i}. Updating main agenda view.`),this.turnosService.seleccionarFecha(r)):yield this.turnosService.refreshCurrentDayAppointments()}catch(h){console.error("[confirmarModal] Error al guardar/modificar el turno:",h);let v="Error desconocido al guardar/modificar el turno.";h&&h.message&&typeof h.message=="string"&&h.message.includes("ocupadas")?v="\xA1Conflicto de horario! La fecha y hora seleccionadas ya est\xE1n ocupadas por otro turno.":h&&h.message&&(v=h.message),v.includes("\xA1Conflicto de horario!")?(yield this.showCustomConfirm(v+" \xBFDesea cerrar este mensaje y revisar la agenda?"))&&this.cerrarModal():this.notificacion.set({tipo:"error",mensaje:v})}console.log("[confirmarModal] --- FIN DE CONFIRMAR MODAL ---")})}cancelarModal(){this.cerrarModal()}asignarTurno(t){t.estado==="DISPONIBLE"?(console.log("[asignarTurno] Asignando turno disponible:",t),this.abrirAsignarModal(t)):(this.notificacion.set({tipo:"info",mensaje:"Este turno no est\xE1 disponible para asignaci\xF3n."}),console.log("[asignarTurno] Attempt to assign unavailable appointment."))}modificarTurno(t){console.log("[modificarTurno] Clicked modify for turno:",t),t.estado==="CONFIRMADO"?(console.log("[modificarTurno] Modifying confirmed appointment, calling abrirModificarModal:",t),this.abrirModificarModal(t)):(this.notificacion.set({tipo:"info",mensaje:"Solo los turnos confirmados pueden ser modificados."}),console.log("[modificarTurno] Attempt to modify unconfirmed appointment."))}cancelarTurno(t){return L(this,null,function*(){console.log("[cancelarTurno] Method called with turnoId:",t);let n=this.turnosService.turnosSignal().find(o=>o.id===t);if(!n||n.estado!=="CONFIRMADO"){this.notificacion.set({tipo:"error",mensaje:"No se puede cancelar este turno o no est\xE1 confirmado."}),console.warn("[cancelarTurno] Attempt to cancel invalid appointment.");return}if(n.apiId===void 0||n.apiId===null){this.notificacion.set({tipo:"error",mensaje:"Este turno no tiene un ID de backend para cancelar."}),console.warn("[cancelarTurno] Attempt to cancel appointment without apiId.");return}if(yield this.showCustomConfirm("\xBFEst\xE1 seguro de que desea cancelar este turno? Esta acci\xF3n no se puede deshacer."))try{console.log("[cancelarTurno] Cancellation confirmation. Calling service for ID:",n.apiId),yield this.turnosService.cancelAppointment(n.apiId),console.log("[cancelarTurno] Turno cancelado exitosamente. La UI deber\xEDa refrescarse.")}catch(o){console.error("Error al cancelar el turno:",o);let i=o.message||"Error desconocido al cancelar el turno.";this.notificacion.set({tipo:"error",mensaje:i})}})}bloquearHora(t){return L(this,null,function*(){console.log("[bloquearHora] Method called with turnoId:",t);let n=this.turnosService.turnosSignal().find(l=>l.id===t);if(!n){this.notificacion.set({tipo:"error",mensaje:"No se encontr\xF3 el turno a bloquear."}),console.warn("[bloquearHora] Attempt to block unfound appointment.");return}let r=this.turnosService.fechaSeleccionadaSignal(),[o,i]=n.hora.split(":").map(Number),s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),o,i,0);if(yield this.showCustomConfirm("\xBFEst\xE1 seguro de que desea bloquear esta hora? Se volver\xE1 no disponible."))try{console.log("[bloquearHora] Block confirmation. Calling service for:",s),yield this.turnosService.toggleBlock(s,!0),console.log("[bloquearHora] Horario bloqueado exitosamente. La UI deber\xEDa refrescarse.")}catch(l){console.error("Error al bloquear el horario:",l);let f=l.message||"Error desconocido al bloquear el horario.";this.notificacion.set({tipo:"error",mensaje:f})}})}desbloquearHora(t){return L(this,null,function*(){let n=this.turnosService.turnosSignal().find(l=>l.id===t);if(!n){this.notificacion.set({tipo:"error",mensaje:"No se encontr\xF3 el turno a desbloquear."}),console.warn("[desbloquearHora] Attempt to unblock unfound appointment.");return}let r=this.turnosService.fechaSeleccionadaSignal(),[o,i]=n.hora.split(":").map(Number),s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),o,i,0);if(yield this.showCustomConfirm("\xBFEst\xE1 seguro de que desea desbloquear esta hora? Se volver\xE1 disponible."))try{console.log("[desbloquearHora] Unblock confirmation. Calling service for:",s),yield this.turnosService.toggleBlock(s,!1),console.log("[desbloquearHora] Horario desbloqueado exitosamente. La UI deber\xEDa refrescarse.")}catch(l){console.error("Error al desbloquear el horario:",l);let f=l.message||"Error desconocido al desbloquear el horario.";this.notificacion.set({tipo:"error",mensaje:f})}})}openNotesModal(t){return L(this,null,function*(){if(console.log("DEBUG [openNotesModal]: Abriendo modal de notas para turno:",t),this.selectedAppointmentForNotes.set(t),this.currentNotes.set(t.notes||""),t.patientName+" "+t.patientLastName&&t.patientPhoneNumber){console.log(`DEBUG [openNotesModal]: Intentando cargar observaciones para el paciente con tel\xE9fono: ${t.patientPhoneNumber}`);try{let n=this.patientService.getPatientObservations(t.patientPhoneNumber);if(n){let r=this.currentNotes();r?this.currentNotes.set(`${r}

--- Observaciones del Paciente ---
${n}`):this.currentNotes.set(`--- Observaciones del Paciente ---
${n}`),console.log("DEBUG [openNotesModal]: Observaciones del paciente cargadas y a\xF1adidas.")}else console.log("DEBUG [openNotesModal]: No se encontraron observaciones hist\xF3ricas para este paciente.")}catch(n){console.error("ERROR [openNotesModal]: Error al cargar observaciones del paciente:",n),this.notificacion.set({tipo:"error",mensaje:"Error al cargar observaciones hist\xF3ricas del paciente."})}}else console.log("DEBUG [openNotesModal]: El turno no tiene paciente o n\xFAmero de tel\xE9fono para buscar observaciones hist\xF3ricas.");this.showNotesModal.set(!0),console.log("DEBUG [openNotesModal]: Notas finales cargadas en el modal:",this.currentNotes())})}closeNotesModal(){this.showNotesModal.set(!1),this.selectedAppointmentForNotes.set(null),this.currentNotes.set(""),console.log("DEBUG [closeNotesModal]: Modal de notas cerrado y campos reseteados.")}saveNotes(){return L(this,null,function*(){let t=this.selectedAppointmentForNotes();if(!t||t.id===void 0||t.id===null){this.notificacion.set({tipo:"error",mensaje:"No se ha seleccionado un turno para guardar las notas."});return}let n=this.currentNotes();console.log(`DEBUG [saveNotes]: Guardando notas para turno ID ${t.id}:`,n);try{yield this.turnosService.updateAppointmentNotes(t.id,n),this.closeNotesModal(),this.notificacion.set({tipo:"success",mensaje:"Notas guardadas exitosamente."}),yield this.turnosService.refreshCurrentDayAppointments()}catch(r){console.error("ERROR [saveNotes]: Error al guardar las notas:",r),this.notificacion.set({tipo:"error",mensaje:"Error al guardar las notas."})}})}availableModalHours=re(()=>{let t=this.modalSelectedDate(),n=this.turnosService.turnosSignal(),r=this.modalTurno();if(console.log(`[availableModalHours] Recalculando para fecha: ${t?.toDateString()}, Turno a modificar: ${r?.id} (apiId: ${r?.apiId})`),console.log("[availableModalHours] Turnos actuales en turnosService.turnosSignal():",n),!t)return[];let o=this.turnosService.formatearFecha(t),i=[];for(let s=8;s<=22;s++){let a=(s<10?"0":"")+s+":00",l=`base-slot-${o}-${a}`,f=n.find(h=>h.id===l),p=t.getDay()===0||t.getDay()===6||t.getDay()===3&&s>=13;console.log(`  - Procesando hora: ${a}, Es d\xEDa/hora especial: ${p}`),r&&f?.apiId===r.apiId?(i.push(a),console.log(`    -> A\xF1adido (es el turno a modificar): ${a}`)):p?f&&f.estado==="DISPONIBLE"?(i.push(a),console.log(`    -> A\xF1adido (d\xEDa/hora especial, slot DISPONIBLE): ${a}`)):console.log(`    -> Excluido (d\xEDa/hora especial, slot no DISPONIBLE): ${a}`):!f||f.estado==="DISPONIBLE"?(i.push(a),console.log(`    -> A\xF1adido (d\xEDa/hora normal, slot vac\xEDo o DISPONIBLE): ${a}`)):console.log(`    -> Excluido (d\xEDa/hora normal, slot ocupado/bloqueado): ${a}`)}return i.sort((s,a)=>{let[l,f]=s.split(":").map(Number),[p,h]=a.split(":").map(Number);return l!==p?l-p:f-h}),console.log("[availableModalHours] Horas disponibles finales:",i),i});static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-principal"]],viewQuery:function(n,r){if(n&1&&Iv(yP,5),n&2){let o;Nf(o=Of())&&(r.calendar=o.first)}},decls:126,vars:36,consts:[[1,"main-container"],[1,"modal",3,"click"],[1,"modal-contenido",3,"click"],[1,"modal-header"],[1,"cerrar-modal",3,"click"],[1,"modal-body"],[1,"form-group"],["for","pacienteSelectAssign"],["id","pacienteSelectModify",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","telefonoPacienteAssign"],["type","tel","id","telefonoPacienteAssign","placeholder","Tel\xE9fono del paciente","readonly","",1,"form-control",3,"value"],["for","emailPacienteAssign"],["type","email","id","emailPacienteAssign","placeholder","Email del paciente","readonly","",1,"form-control",3,"value"],["for","duracionTurnoAssign"],["id","duracionTurnoAssign",1,"form-control",3,"change","value"],["value","30"],["value","50"],["value","60"],["for","observacionesAssign"],["id","observacionesAssign","placeholder","Observaciones adicionales del turno",1,"form-control",3,"input","value"],[1,"modal-footer"],[1,"btn-confirmarModal",3,"click","disabled"],[1,"btn-cancelarModal",3,"click"],["for","pacienteSelectModify"],["class","btn-verPaciente","target","_blank",3,"routerLink","queryParams","queryParamsHandling","click",4,"ngIf"],["for","telefonoPacienteModify"],["type","tel","id","telefonoPacienteModify","placeholder","Tel\xE9fono del paciente","readonly","",1,"form-control",3,"value"],["for","emailPacienteModify"],["type","email","id","emailPacienteModify","placeholder","Email del paciente","readonly","",1,"form-control",3,"value"],[1,"form-group","date-time-selection"],[1,"date-time-controls"],[3,"dateSelected","initialDate","showToggle"],["id","modalTimeSelectModify",1,"form-control","time-select",3,"change","value"],["for","duracionTurnoModify"],["id","duracionTurnoModify",1,"form-control",3,"change","value"],["for","observacionesModify"],["id","observacionesModify","placeholder","Observaciones adicionales del turno",1,"form-control",3,"input","value"],["class","modal-overlay",4,"ngIf"],[1,"main"],[1,"agenda-container"],[3,"dateSelected"],["class","notification",3,"active","ngClass",4,"ngIf"],[1,"actividades-container"],[1,"titulo-actividades"],[1,"lista-horas"],[1,"bloque-horas"],[1,"periodo-dia"],["class","hora-actividad",4,"ngFor","ngForOf"],[3,"value"],["target","_blank",1,"btn-verPaciente",3,"click","routerLink","queryParams","queryParamsHandling"],[1,"modal-overlay"],[1,"modal-content"],[1,"close-btn",3,"click"],[1,"material-symbols-outlined"],[1,"modal-footer","modal-button-group"],["type","button",1,"btn","btn-cancelar",3,"click"],[1,"material-symbols-outlined","btn-icon"],["type","button",1,"btn","btn-asignar",3,"click"],[1,"notification",3,"ngClass"],[1,"hora-actividad"],[1,"hora"],[1,"turno-info-group"],[1,"turno-izquierda"],[1,"turno-info"],["class","turno-centro",4,"ngIf"],[1,"turno-derecha"],[4,"ngIf"],[1,"turno-centro"],[1,"turno-title"],["class","patient-info-link",3,"routerLink",4,"ngIf"],[1,"patient-info-link",3,"routerLink"],[1,"btn-turno","btn-desbloquear",3,"click"],[1,"btn-turno","btn-bloquear",3,"click"],[1,"btn-turno","btn-asignar",3,"click"],[1,"btn-turno","btn-modificar",3,"click"],[1,"btn-turno","btn-cancelar",3,"click"]],template:function(n,r){if(n&1&&(u(0,"div",0)(1,"div",1),_("click",function(){return r.cerrarModal()}),u(2,"div",2),_("click",function(i){return i.stopPropagation()}),u(3,"div",3)(4,"h2"),c(5,"Asignar Turno"),d(),u(6,"span",4),_("click",function(){return r.cerrarModal()}),c(7,"\xD7"),d()(),u(8,"div",5)(9,"div",6)(10,"label",7),c(11,"Paciente:"),d(),u(12,"select",8),_("ngModelChange",function(i){return r.onPatientSelected(i)}),u(13,"option",9),c(14,"Seleccionar Paciente"),d(),N(15,CP,2,3,"option",10),d()(),u(16,"div",6)(17,"label",11),c(18,"Tel\xE9fono:"),d(),ue(19,"input",12),d(),u(20,"div",6)(21,"label",13),c(22,"Email:"),d(),ue(23,"input",14),d(),u(24,"div",6)(25,"label"),c(26,"Fecha del Turno:"),d(),u(27,"p"),c(28),Ee(29,"date"),d()(),u(30,"div",6)(31,"label"),c(32,"Hora del Turno:"),d(),u(33,"p"),c(34),d()(),u(35,"div",6)(36,"label",15),c(37,"Duraci\xF3n:"),d(),u(38,"select",16),_("change",function(i){return r.duracionTurno.set(+i.target.value)}),u(39,"option",17),c(40,"30 minutos"),d(),u(41,"option",18),c(42,"50 minutos"),d(),u(43,"option",19),c(44,"60 minutos"),d()()(),u(45,"div",6)(46,"label",20),c(47,"Observaciones:"),d(),u(48,"textarea",21),_("input",function(i){return r.observaciones.set(i.target.value)}),d()()(),u(49,"div",22)(50,"button",23),_("click",function(){return r.confirmarModal()}),c(51," Confirmar "),d(),u(52,"button",24),_("click",function(){return r.cerrarModal()}),c(53," Cancelar "),d()()()(),u(54,"div",1),_("click",function(){return r.cerrarModal()}),u(55,"div",2),_("click",function(i){return i.stopPropagation()}),u(56,"div",3)(57,"h2"),c(58,"Modificar Turno"),d(),u(59,"span",4),_("click",function(){return r.cerrarModal()}),c(60,"\xD7"),d()(),u(61,"div",5)(62,"div",6)(63,"label",25),c(64,"Paciente:"),d(),u(65,"select",8),_("ngModelChange",function(i){return r.onPatientSelected(i)}),u(66,"option",9),c(67,"Seleccionar Paciente"),d(),N(68,EP,2,3,"option",10),d()(),N(69,bP,3,11,"a",26),u(70,"div",6)(71,"label",27),c(72,"Tel\xE9fono:"),d(),ue(73,"input",28),d(),u(74,"div",6)(75,"label",29),c(76,"Email:"),d(),ue(77,"input",30),d(),u(78,"div",31)(79,"label"),c(80,"Nueva Fecha y Hora del Turno:"),d(),u(81,"div",32)(82,"app-calendar",33),_("dateSelected",function(i){return r.onModalDateSelected(i)}),d(),u(83,"select",34),_("change",function(i){return r.modalSelectedTime.set(i.target.value)}),N(84,DP,2,2,"option",10),d()()(),u(85,"div",6)(86,"label",35),c(87,"Duraci\xF3n:"),d(),u(88,"select",36),_("change",function(i){return r.duracionTurno.set(+i.target.value)}),u(89,"option",17),c(90,"30 minutos"),d(),u(91,"option",18),c(92,"50 minutos"),d(),u(93,"option",19),c(94,"60 minutos"),d()()(),u(95,"div",6)(96,"label",37),c(97,"Observaciones:"),d(),u(98,"textarea",38),_("input",function(i){return r.observaciones.set(i.target.value)}),d()()(),u(99,"div",22)(100,"button",23),_("click",function(){return r.confirmarModal()}),c(101," Confirmar "),d(),u(102,"button",24),_("click",function(){return r.cerrarModal()}),c(103," Cancelar "),d()()()(),N(104,AP,20,1,"div",39),ue(105,"app-header"),u(106,"main",40)(107,"div",41)(108,"app-calendar",42),_("dateSelected",function(i){return r.onDateSelected(i)}),d()(),N(109,wP,4,4,"div",43),u(110,"div",44)(111,"h3",45),c(112),d(),u(113,"div",46)(114,"div",47)(115,"h4",48),c(116,"MA\xD1ANA"),d(),N(117,RP,16,11,"div",49),d(),u(118,"div",47)(119,"h4",48),c(120,"TARDE"),d(),N(121,HP,16,11,"div",49),d(),u(122,"div",47)(123,"h4",48),c(124,"NOCHE"),d(),N(125,XP,16,11,"div",49),d()()()()()),n&2){let o,i,s,a,l,f,p;m(),Oe("active",r.showAssignModal()),m(11),C("ngModel",(o=(o=r.selectedPatient())==null?null:o.id)!==null&&o!==void 0?o:""),m(),C("ngValue",null),m(2),C("ngForOf",r.patientsList()),m(4),C("value",((i=r.selectedPatient())==null?null:i.phoneNumber)||""),m(4),C("value",((s=r.selectedPatient())==null?null:s.email)||""),m(5),B(He(29,33,r.modalSelectedDate(),"fullDate")),m(6),B(r.modalSelectedTime()),m(4),C("value",r.duracionTurno()),m(10),C("value",r.observaciones()),m(2),C("disabled",!r.selectedPatient()),m(4),Oe("active",r.showModifyModal()),m(11),C("ngModel",(a=(a=r.selectedPatient())==null?null:a.id)!==null&&a!==void 0?a:""),m(),C("ngValue",null),m(2),C("ngForOf",r.patientsList()),m(),C("ngIf",(l=r.selectedPatient())==null?null:l.id),m(4),C("value",((f=r.selectedPatient())==null?null:f.phoneNumber)||""),m(4),C("value",((p=r.selectedPatient())==null?null:p.email)||""),m(5),C("initialDate",r.modalSelectedDate()||r.turnosService.fechaSeleccionadaSignal())("showToggle",!1),m(),C("value",r.modalSelectedTime()),m(),C("ngForOf",r.availableModalHours()),m(4),C("value",r.duracionTurno()),m(10),C("value",r.observaciones()),m(2),C("disabled",!r.selectedPatient()||!r.modalSelectedDate()||!r.modalSelectedTime()),m(4),C("ngIf",r.showCustomConfirmModal()),m(5),C("ngIf",r.notificacion()),m(3),B(r.tituloAgenda()),m(5),C("ngForOf",r.turnosPorPeriodo().manana),m(4),C("ngForOf",r.turnosPorPeriodo().tarde),m(4),C("ngForOf",r.turnosPorPeriodo().noche)}},dependencies:[Se,Ut,qe,ze,Ii,Pn,un,bc,Dc,Wo,sr,Fn,ar,St,Mt,cn],styles:["[_ngcontent-%COMP%]:root{--color-header: #3498db;--celeste: #007bff;--light-celeste: #66b3ff;--dia-bloqueado: #6c757d}.header-container[_ngcontent-%COMP%]{background-color:var(--color-header);color:#fff;padding:1rem;position:fixed;width:100%;top:0;z-index:1000;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 5px #0003}.logo-container[_ngcontent-%COMP%]{flex-shrink:0}.logo[_ngcontent-%COMP%]{height:40px;border-radius:30%}.main-nav[_ngcontent-%COMP%]{display:none}.nav-list[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:1.5rem}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;transition:color .3s;padding:.5rem 0}.nav-link[_ngcontent-%COMP%]:hover{color:var(--celeste)}.config-container[_ngcontent-%COMP%]{position:relative}.config-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;color:#fff}.config-icon[_ngcontent-%COMP%]{height:24px;width:24px}.config-dropdown[_ngcontent-%COMP%]{display:none;position:absolute;right:0;background:#fff;min-width:180px;border-radius:4px;box-shadow:0 4px 8px #0000001a;z-index:1001}.dropdown-item[_ngcontent-%COMP%]{display:block;padding:.75rem 1rem;color:#333;text-decoration:none}.dropdown-item[_ngcontent-%COMP%]:hover{background:#f5f5f5}.hamburger-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:28px;height:22px;background:transparent;border:none;cursor:pointer;padding:0;margin-left:1rem}.hamburger-line[_ngcontent-%COMP%]{width:100%;height:3px;background:#fff;border-radius:2px}.main-container[_ngcontent-%COMP%]{width:100%;padding:1rem;margin-top:60px;box-sizing:border-box}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:0;align-items:center}.agenda-container[_ngcontent-%COMP%]{margin-bottom:0;width:100%;padding:1rem;box-sizing:border-box;background-color:#fff;border-radius:.75rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.agenda-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--celeste);color:#fff;border:none;padding:.6rem 1.5rem;border-radius:20px;cursor:pointer;font-size:1rem;font-weight:500;box-shadow:0 2px 5px #0003;display:block;margin:20px auto 0;transition:all .3s ease}.agenda-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:var(--light-celeste);transform:translateY(1px)}.datos-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem 0;padding:1rem;background:#f8f9fa;border-radius:8px;box-shadow:0 2px 4px #0000001a}.datos-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin:.25rem 0;font-family:Arial,Helvetica,sans-serif;font-weight:500;color:#333;text-align:center}.actividades-container[_ngcontent-%COMP%]{width:100%;padding:1rem;box-sizing:border-box;background-color:#fff;border-radius:.75rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.titulo-actividades[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:var(--color-header);font-weight:600;padding-bottom:.5rem;border-bottom:1px solid #eee;text-align:center}.lista-horas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.bloque-horas[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.periodo-dia[_ngcontent-%COMP%]{font-size:.8rem;color:#555;font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:.3rem;font-weight:500;text-align:center}.hora-actividad[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;padding:.8rem;margin:.3rem 0;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;gap:.5rem;font-size:.85rem;flex-wrap:wrap}.hora-actividad[data-estado=bloqueado][_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:4px solid #6c757d}.hora-actividad[data-estado=disponible][_ngcontent-%COMP%]{background-color:#e8f5e9;border-left:4px solid #4caf50}.hora-actividad[data-estado=confirmado][_ngcontent-%COMP%]{background-color:#e3f2fd;border-left:4px solid #2196f3}.hora-actividad[data-estado=cancelado][_ngcontent-%COMP%]{background-color:#ffebee;border-left:4px solid #f44336}.hora-actividad[_ngcontent-%COMP%]:hover{box-shadow:0 3px 4px #0000004d}.hora[_ngcontent-%COMP%]{font-weight:700;color:#222;width:100%;text-align:left;margin-bottom:.5rem;font-size:1rem}.turno-info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:.5rem}.turno-izquierda[_ngcontent-%COMP%]{flex:none;width:100%}.turno-centro[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;gap:.2rem;width:100%;border-top:1px dashed #eee;padding-top:.5rem;margin-top:.5rem}.turno-centro[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;color:#111;margin-bottom:0;margin-right:.3rem;display:inline}.patient-info-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:flex;flex-direction:column;cursor:pointer}.patient-info-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.turno-info[_ngcontent-%COMP%]{font-weight:500;color:#444;display:flex;align-items:center;gap:.5rem;font-size:.85rem;padding:.2rem 0;white-space:nowrap}.turno-derecha[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:.5rem;flex-wrap:wrap;width:100%;margin-top:1rem;border-top:1px solid #eee;padding-top:.8rem}.btn-turno[_ngcontent-%COMP%]{padding:.6rem 1rem;border:none;border-radius:4px;cursor:pointer;font-size:.8rem;display:flex;align-items:center;gap:5px;transition:all .2s ease;white-space:nowrap;justify-content:center}.btn-asignar[_ngcontent-%COMP%]{background-color:#079070;color:#fff}.btn-asignar[_ngcontent-%COMP%]:active{background-color:#fff;color:#079070;border:1px solid #079070}.btn-cancelar[_ngcontent-%COMP%]{background-color:#c82333;color:#fff}.btn-cancelar[_ngcontent-%COMP%]:active{background-color:#fff;color:#dc3545;border:1px solid #dc3545}.btn-bloquear[_ngcontent-%COMP%]{background-color:var(--color-header);color:#fff}.btn-bloquear[_ngcontent-%COMP%]:active{background-color:#fff;color:var(--color-header);border:1px solid var(--color-header)}.btn-desbloquear[_ngcontent-%COMP%]{background-color:var(--celeste);color:#fff}.btn-desbloquear[_ngcontent-%COMP%]:active{background-color:#fff;color:var(--celeste);border:1px solid var(--celeste)}.btn-modificar[_ngcontent-%COMP%]{background-color:var(--color-header);color:#fff;margin-left:3px}.btn-modificar[_ngcontent-%COMP%]:active{background-color:#fff;color:var(--color-header);border:1px solid var(--color-header)}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1050;left:0;top:0;width:100%;height:95%;background-color:#0009;overflow-y:auto;align-items:center;justify-content:center}.modal.active[_ngcontent-%COMP%]{display:flex}.modal-contenido[_ngcontent-%COMP%]{background-color:#fefefe;margin:10% auto;padding:1.2rem;border:1px solid #888;width:95%;max-width:400px;border-radius:8px;box-shadow:0 4px 8px #0000001a;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;box-sizing:border-box}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.8rem;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.1rem}.cerrar-modal[_ngcontent-%COMP%]{color:#aaa;font-size:28px;font-weight:700;cursor:pointer}.cerrar-modal[_ngcontent-%COMP%]:active{color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.4rem;font-weight:700;font-size:.85rem;color:var(--color-header)}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:.6rem;border:1px solid #ddd;border-radius:4px;box-sizing:border-box;font-size:.85rem}.form-control[_ngcontent-%COMP%]{border:1px solid #a09e9e;transition:border-color .2s ease;box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{outline:none}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{min-height:70px;resize:vertical}.modal-display-info[_ngcontent-%COMP%]{font-weight:500;color:#555;margin-top:.2rem;padding:.6rem;background-color:#f5f5f5;border-radius:4px}.date-time-selection[_ngcontent-%COMP%]   .date-time-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.date-time-selection[_ngcontent-%COMP%]   .time-select[_ngcontent-%COMP%]{width:100%}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.8rem;margin-top:1.2rem}.btn-confirmarModal[_ngcontent-%COMP%], .btn-cancelarModal[_ngcontent-%COMP%]{padding:.7rem 1.2rem;border:none;border-radius:4px;cursor:pointer;font-size:.85rem;flex-grow:1;justify-content:center}.btn-confirmarModal[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.btn-confirmarModal[_ngcontent-%COMP%]:active{background-color:#45a049}.btn-confirmarModal[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.btn-cancelarModal[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-cancelarModal[_ngcontent-%COMP%]:active{background-color:#d32f2f}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.notification[_ngcontent-%COMP%]{position:fixed;top:70px;left:50%;transform:translate(-50%);z-index:1100;padding:1rem 1.5rem;border-radius:8px;color:#fff;font-weight:700;box-shadow:0 4px 8px #0003;display:none;opacity:0;transition:opacity .3s ease-in-out,top .3s ease-in-out;width:90%;max-width:400px;text-align:center}.notification.active[_ngcontent-%COMP%]{display:block;opacity:1;top:60px}.notification.success[_ngcontent-%COMP%]{background-color:#4caf50}.notification.error[_ngcontent-%COMP%]{background-color:#f44336}.notification.info[_ngcontent-%COMP%]{background-color:#2196f3}.notification[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px;font-size:1.5rem;cursor:pointer;color:#fffc}.notification[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#fff}.custom-confirm-modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;background-color:#000000b3;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.custom-confirm-modal.active[_ngcontent-%COMP%]{display:flex}.custom-confirm-content[_ngcontent-%COMP%]{background-color:#fefefe;padding:25px;border-radius:10px;box-shadow:0 5px 15px #0000004d;width:90%;max-width:450px;text-align:center;font-family:Inter,sans-serif}.custom-confirm-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:25px;font-size:1.1rem;color:#333;line-height:1.5}.custom-confirm-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px}.btn-confirm-yes[_ngcontent-%COMP%], .btn-confirm-no[_ngcontent-%COMP%]{padding:10px 25px;border:none;border-radius:5px;cursor:pointer;font-size:1rem;font-weight:600;transition:background-color .2s ease,transform .1s ease}.btn-confirm-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.btn-confirm-yes[_ngcontent-%COMP%]:hover{background-color:#45a049;transform:translateY(-1px)}.btn-confirm-no[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-confirm-no[_ngcontent-%COMP%]:hover{background-color:#d32f2f;transform:translateY(-1px)}@media (min-width: 768px){.header-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;padding:1rem 2rem}.logo[_ngcontent-%COMP%]{height:45px}.main-nav[_ngcontent-%COMP%]{display:block;flex:1;margin:0 2rem}.nav-list[_ngcontent-%COMP%]{justify-content:center}.hamburger-btn[_ngcontent-%COMP%]{display:none}.config-btn[_ngcontent-%COMP%]:hover{color:var(--celeste)}.main-container[_ngcontent-%COMP%]{padding:1rem 2rem;margin-top:90px}.main[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;gap:2rem}.agenda-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:0 auto 2rem}.actividades-container[_ngcontent-%COMP%]{width:100%;max-width:1300px;margin:0 auto}.datos-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around;gap:1rem}.datos-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0;text-align:left}.titulo-actividades[_ngcontent-%COMP%]{font-size:1.5rem;text-align:left;margin:1px}.hora-actividad[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;padding:1.2rem;gap:1rem;font-size:.9rem;margin-bottom:10px}.hora[_ngcontent-%COMP%]{width:auto;margin-bottom:0;font-size:1.125rem}.turno-info-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:auto;gap:1rem;flex-grow:1;align-items:center;justify-content:space-between}.turno-izquierda[_ngcontent-%COMP%]{width:auto}.turno-centro[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:20px;width:auto;border-top:none;padding-top:0;margin-top:0;border-left:1px solid #848484;padding-left:1rem;flex-grow:3;flex-wrap:nowrap}.turno-centro[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap}.turno-centro[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin-right:.3rem}.turno-info[_ngcontent-%COMP%]{font-weight:500;color:#444;display:flex;align-items:center;gap:1rem;font-size:.9rem;padding:0;white-space:nowrap}.turno-info[_ngcontent-%COMP%]   .turno-title[_ngcontent-%COMP%]{display:flex;align-items:center}.turno-info[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:1.2rem;color:#007bff}.turno-derecha[_ngcontent-%COMP%]{justify-content:flex-end;gap:10px;width:auto;margin-top:0;border-top:none;padding-top:0;flex-shrink:0}.btn-turno[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;flex-grow:0;min-width:130px}.modal-contenido[_ngcontent-%COMP%]{margin:10% auto;padding:20px;width:90%;max-width:500px;max-height:122%}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:1rem;padding:10px}.btn-confirmarModal[_ngcontent-%COMP%], .btn-cancelarModal[_ngcontent-%COMP%]{padding:8px 12px;font-size:.9rem;flex-grow:0}.date-time-selection[_ngcontent-%COMP%]   .date-time-controls[_ngcontent-%COMP%]{flex-direction:row;gap:1rem}.date-time-selection[_ngcontent-%COMP%]   .time-select[_ngcontent-%COMP%]{width:auto}}@media (min-width: 992px){.modal-contenido[_ngcontent-%COMP%]{margin:8% auto;width:50%}.hora-actividad[_ngcontent-%COMP%], .turno-derecha[_ngcontent-%COMP%]{flex-wrap:nowrap}}"]})};var JP=e=>["/patient-details",e];function eN(e,t){if(e&1&&(u(0,"div"),c(1),d()),e&2){let n,r=y();m(),ne(" Fecha seleccionada: **",(n=r.selectedAppointmentDate())==null?null:n.toLocaleDateString("es-AR"),"** ")}}function tN(e,t){if(e&1&&(u(0,"option",47),c(1),d()),e&2){let n=t.$implicit;C("value",n),m(),B(n)}}function nN(e,t){e&1&&(u(0,"div",48),c(1," No hay horarios disponibles para esta fecha. "),d())}function rN(e,t){if(e&1){let n=U();u(0,"div",7)(1,"label",42),c(2,"Hora del Turno:"),d(),u(3,"select",43),je("ngModelChange",function(o){w(n);let i=y();return $e(i.selectedAppointmentTime,o)||(i.selectedAppointmentTime=o),x(o)}),u(4,"option",44),c(5,"Seleccione una hora"),d(),N(6,tN,2,2,"option",45),d(),N(7,nN,2,0,"div",46),d()}if(e&2){let n=y();m(3),Ve("ngModel",n.selectedAppointmentTime),m(),C("ngValue",null),m(2),C("ngForOf",n.availableTimeSlots()),m(),C("ngIf",n.availableTimeSlots().length===0&&n.selectedAppointmentDate())}}function oN(e,t){if(e&1){let n=U();u(0,"div",7)(1,"label",49),c(2,"Duraci\xF3n del Turno (minutos):"),d(),u(3,"select",50),je("ngModelChange",function(o){w(n);let i=y();return $e(i.selectedDuration,o)||(i.selectedDuration=o),x(o)}),u(4,"option",44),c(5,"Seleccione una duraci\xF3n"),d(),u(6,"option",51),c(7,"30 minutos"),d(),u(8,"option",52),c(9,"50 minutos"),d(),u(10,"option",53),c(11,"60 minutos"),d()()()}if(e&2){let n=y();m(3),Ve("ngModel",n.selectedDuration),m(),C("ngValue",null)}}function iN(e,t){if(e&1){let n=U();u(0,"div",54)(1,"button",29),_("click",function(){w(n);let o=y();return x(o.openRegisterModal())}),c(2," \xA1Haz clic para registrar un paciente! "),d()()}}function sN(e,t){if(e&1){let n=U();u(0,"div",55)(1,"a",56)(2,"div",57),c(3),d(),u(4,"div",58),c(5),d(),u(6,"div",59),c(7),d()(),u(8,"div",60)(9,"button",61),_("click",function(){let o=w(n).$implicit,i=y();return x(i.assignAppointment(o.phoneNumber))}),u(10,"span",62),c(11,"calendar_today"),d(),c(12," Asignar turno "),d(),u(13,"button",63),_("click",function(){let o=w(n).$implicit,i=y();return x(i.addNotes(o.phoneNumber))}),u(14,"span",62),c(15,"note_add"),d(),c(16," Notas "),d()()()}if(e&2){let n=t.$implicit;m(),C("routerLink",Mn(4,JP,n.id)),m(2),B(n.firstName+" "+n.lastName),m(2),B(n.email),m(2),B(n.phoneNumber)}}var Mc=class e{constructor(t,n){this.patientService=t;this.turnosService=n}firstName=D("");lastName=D("");phoneNumber=D("");email=D("");showModal=D(!1);patients=D([]);searchTerm=D("");showAssignAppointmentModal=D(!1);selectedPatientForAppointment=D(null);selectedAppointmentDate=D(null);selectedAppointmentTime=D(null);selectedDuration=D(null);availableTimeSlots=D([]);notificacion=D(null);destroy$=new le;filteredPatients=D([]);showAddNotesModal=D(!1);selectedPatientForNotes=D(null);patientNotes=D("");ngOnInit(){this.loadPatients(),this.turnosService.notificaciones.pipe(jn(this.destroy$)).subscribe(t=>{this.notificacion.set(t),t&&setTimeout(()=>this.notificacion.set(null),3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadPatients(){return L(this,null,function*(){try{let t=yield this.patientService.getPatients();console.log("DEBUG: Raw data from getPatients() backend:",t),this.patients.set(t),this.filterPatients(),console.log("DEBUG: Patients signal after update:",this.patients()),console.log("DEBUG: FilteredPatients signal after update:",this.filteredPatients())}catch(t){console.error("Error al cargar pacientes",t),this.notificacion.set({tipo:"error",mensaje:"Error al cargar la lista de pacientes."})}})}openRegisterModal(){this.firstName.set(""),this.lastName.set(""),this.phoneNumber.set(""),this.email.set(""),this.showModal.set(!0)}closeModal(){this.showModal.set(!1)}registerPatient(){if(!this.firstName()||!this.lastName()||!this.phoneNumber()){this.notificacion.set({tipo:"error",mensaje:"Por favor complete los campos obligatorios: Nombre, Apellido y Tel\xE9fono."});return}let t={firstName:this.firstName(),lastName:this.lastName(),phoneNumber:this.phoneNumber(),email:this.email()};console.log("Datos a enviar:",t),this.patientService.createPatient(t).subscribe({next:n=>{console.log("Paciente registrado:",n),this.notificacion.set({tipo:"success",mensaje:"Paciente registrado con \xE9xito!"}),this.loadPatients(),this.closeModal()},error:n=>{console.error("Error completo:",n);let r=n.error?.message||n.message||"Error desconocido al registrar el paciente.";this.notificacion.set({tipo:"error",mensaje:`Error al registrar: ${r}`})}})}onSearch(t){let r=t.target.value.toLowerCase();this.searchTerm.set(r),this.filterPatients()}filterPatients(){let t=this.searchTerm().toLowerCase(),r=this.patients().filter(o=>{let i=o.firstName?.toLowerCase().includes(t),s=o.lastName?.toLowerCase().includes(t),a=o.email?.toLowerCase().includes(t),l=o.phoneNumber?.toString().includes(t);return i||s||a||l});this.filteredPatients.set(r)}assignAppointment(t){console.log("DEBUG (assignAppointment): M\xE9todo llamado para patientPhoneNumber:",t);let n=this.patients().find(r=>r.phoneNumber===t);n?(console.log("DEBUG (assignAppointment): Paciente encontrado:",n),this.selectedPatientForAppointment.set(n),this.selectedAppointmentDate.set(null),this.selectedAppointmentTime.set(null),this.availableTimeSlots.set([]),this.selectedDuration.set(null),this.showAssignAppointmentModal.set(!0),console.log("DEBUG (assignAppointment): showAssignAppointmentModal se establece a true.")):(console.error(`ERROR (assignAppointment): Paciente con tel\xE9fono ${t} no encontrado en la lista local.`),this.notificacion.set({tipo:"error",mensaje:"Error interno: El paciente no pudo ser seleccionado para asignar un turno."}))}closeAssignAppointmentModal(){this.showAssignAppointmentModal.set(!1),this.selectedPatientForAppointment.set(null),this.selectedDuration.set(null)}onDateSelected(t){return L(this,null,function*(){this.selectedAppointmentDate.set(t),this.selectedAppointmentTime.set(null),this.availableTimeSlots.set([]);let n=this.turnosService.formatearFecha(t);try{let r=yield this.turnosService.getTurnosPorFecha(n);console.log("DEBUG: Turnos fusionados para la fecha seleccionada:",r);let o=r.filter(i=>i.estado==="DISPONIBLE").map(i=>i.hora);this.availableTimeSlots.set(o),o.length===0&&this.notificacion.set({tipo:"info",mensaje:"No hay horarios disponibles para esta fecha."})}catch(r){console.error("Error al cargar turnos para filtrar:",r),this.notificacion.set({tipo:"error",mensaje:"Error al cargar la disponibilidad de turnos."}),this.availableTimeSlots.set([])}})}saveAppointment(){return L(this,null,function*(){let t=this.selectedPatientForAppointment(),n=this.selectedAppointmentDate(),r=this.selectedAppointmentTime(),o=Number(this.selectedDuration());if(console.log("DEBUG (saveAppointment): Duraci\xF3n seleccionada:",o,typeof o),console.log("DEBUG (saveAppointment): Horario seleccionado para guardar:",r),console.log("DEBUG (saveAppointment): Horarios disponibles en el frontend (availableTimeSlots) en el momento de la submission:",this.availableTimeSlots()),r&&!this.availableTimeSlots().includes(r)){this.notificacion.set({tipo:"error",mensaje:"El horario seleccionado no est\xE1 disponible. Por favor, elija otro."});return}if(!t||!t.phoneNumber||!n||!r||isNaN(o)||o===null){this.notificacion.set({tipo:"error",mensaje:"Por favor, complete todos los campos: paciente, fecha, hora y duraci\xF3n."});return}let i=this.turnosService.formatearFecha(n),s=`${r}:00`,a=yield this.turnosService.getTurnosPorFecha(i);console.log("DEBUG (saveAppointment): turnosDelDia (fusionados) en el momento de la submission:",a);let l=a.find(p=>p.hora.substring(0,5)===r);if(l){if(l.estado==="BLOQUEADO"){this.notificacion.set({tipo:"error",mensaje:"Error: La franja horaria seleccionada est\xE1 bloqueada y no se puede asignar un turno."});return}else if(l.estado==="CONFIRMADO"){this.notificacion.set({tipo:"error",mensaje:"Error: La fecha y hora seleccionadas ya est\xE1n ocupadas por otro turno confirmado."});return}}else{this.notificacion.set({tipo:"error",mensaje:"El horario seleccionado no es v\xE1lido o no se encontr\xF3 en la agenda."});return}let f={id:t.id||null,firstName:t.firstName||"",lastName:t.lastName||"",phoneNumber:t.phoneNumber||"",email:t.email||"",state:"CONFIRMADO"};if(l.apiId){let p=R(A({},l),{estado:"CONFIRMADO",paciente:t,duracion:o,observaciones:""});console.log("Intentando actualizar turno existente:",p);try{let h=yield this.turnosService.saveOrUpdateAppointment(p,f);console.log("Turno actualizado exitosamente:",h),this.notificacion.set({tipo:"success",mensaje:`Turno actualizado para el ${i} correctamente.`}),this.closeAssignAppointmentModal()}catch(h){console.error("Error al actualizar turno:",h);let v=h.message||"Error desconocido al actualizar el turno.";this.notificacion.set({tipo:"error",mensaje:v})}}else{let p={duration:o,fecha:i,hora:s,patient:f,state:"CONFIRMADO",sessionNotes:""};console.log("Intentando crear turno nuevo:",p);try{let h=yield this.turnosService.createAppointment(R(A({},p),{patient:f}));console.log("Turno creado exitosamente:",h),this.notificacion.set({tipo:"success",mensaje:`Turno agendado para el ${h.fecha} correctamente.`}),this.closeAssignAppointmentModal()}catch(h){console.error("Error al agendar turno:",h);let v=h.message||"Error desconocido al agendar el turno.";this.notificacion.set({tipo:"error",mensaje:v})}}})}addNotes(t){let n=this.patients().find(r=>r.phoneNumber===t);if(!n){this.notificacion.set({tipo:"error",mensaje:"Error interno: No se pudo seleccionar el paciente correctamente para agregar notas."});return}this.selectedPatientForNotes.set(n),this.patientNotes.set(""),this.patientService.getPatientObservations(n.phoneNumber).subscribe({next:r=>{this.patientNotes.set(r||""),console.log(`[addNotes] Notas cargadas para ${n.firstName}:`,r),this.showAddNotesModal.set(!0)},error:r=>{console.error(`Error al cargar notas para el paciente ${n.firstName}:`,r),this.notificacion.set({tipo:"error",mensaje:"Error al cargar notas del paciente."}),this.patientNotes.set(""),this.showAddNotesModal.set(!0)}})}closeAddNotesModal(){this.showAddNotesModal.set(!1),this.selectedPatientForNotes.set(null),this.patientNotes.set("")}saveNotes(){let t=this.selectedPatientForNotes(),n=this.patientNotes();if(n.trim()===""){this.notificacion.set({tipo:"error",mensaje:"La nota no puede estar vac\xEDa."});return}if(!t||!t.phoneNumber){this.notificacion.set({tipo:"error",mensaje:"Error interno: No se pudo identificar al paciente correctamente para guardar la nota."});return}let r={phoneNumber:t.phoneNumber,observations:n};this.patientService.savePatientObservation(r).subscribe({next:o=>{console.log("DEBUG (saveNotes): Backend success response:",o),this.notificacion.set({tipo:"success",mensaje:`Nota guardada para ${t.firstName} ${t.lastName} correctamente.`}),this.closeAddNotesModal()},error:o=>{console.error("ERROR (saveNotes): Error al guardar la nota (backend):",o);let i=o.error?.message||o.message||"Error desconocido al guardar la nota.";this.notificacion.set({tipo:"error",mensaje:i})}})}static \u0275fac=function(n){return new(n||e)(F(lr),F(fn))};static \u0275cmp=Ce({type:e,selectors:[["app-pacientes-list"]],decls:101,vars:20,consts:[[1,"main-container"],[1,"modal-overlay",3,"click"],[1,"modal-content","register-patient-modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"submit"],[1,"form-group"],["for","name"],["type","text","id","name","name","firstname","required","",3,"ngModelChange","ngModel"],["for","lastName"],["type","text","id","lastName","name","lastName","required","",3,"ngModelChange","ngModel"],["for","phone"],["type","tel","id","phone","name","phone","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-submit"],[1,"modal-content",3,"click"],["for","appointmentDate"],[3,"dateSelected"],[4,"ngIf"],["class","form-group",4,"ngIf"],[1,"modal-content","notes-modal-content",3,"click"],[1,"modal-display-info"],["for","notes"],["id","notes","rows","5","name","patientNotes","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],[1,"patient-btn",3,"click"],[1,"search-container"],["type","text","placeholder","Buscar paciente...",1,"search-input",3,"input"],[1,"search-button"],[1,"patients-container"],[1,"patients-header"],[1,"header-name"],[1,"header-email"],[1,"header-id"],[1,"header-actions"],[1,"patients-list"],["style","text-align: center; padding: 20px; color: gray",4,"ngIf"],["class","patient-item",4,"ngFor","ngForOf"],["for","appointmentTime"],["id","appointmentTime","name","appointmentTime","required","",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["class","no-slots-message",4,"ngIf"],[3,"value"],[1,"no-slots-message"],["for","appointmentDuration"],["id","appointmentDuration","name","appointmentDuration","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","30"],["value","50"],["value","60"],[2,"text-align","center","padding","20px","color","gray"],[1,"patient-item"],[1,"patient-info-link",3,"routerLink"],[1,"patient-name"],[1,"patient-email"],[1,"patient-id"],[1,"patient-actions"],[1,"action-button","assign-button",3,"click"],[1,"material-symbols-outlined"],[1,"action-button","notes-button",3,"click"]],template:function(n,r){if(n&1&&(u(0,"div",0),ue(1,"app-header"),u(2,"div",1),_("click",function(){return r.closeModal()}),u(3,"div",2),_("click",function(i){return i.stopPropagation()}),u(4,"div",3)(5,"h2"),c(6,"Registrar Nuevo Paciente"),d(),u(7,"button",4),_("click",function(){return r.closeModal()}),c(8,"\xD7"),d()(),u(9,"div",5)(10,"form",6),_("submit",function(){return r.registerPatient()}),u(11,"div",7)(12,"label",8),c(13,"Nombre*"),d(),u(14,"input",9),je("ngModelChange",function(i){return $e(r.firstName,i)||(r.firstName=i),i}),d()(),u(15,"div",7)(16,"label",10),c(17,"Apellido*"),d(),u(18,"input",11),je("ngModelChange",function(i){return $e(r.lastName,i)||(r.lastName=i),i}),d()(),u(19,"div",7)(20,"label",12),c(21,"Tel\xE9fono*"),d(),u(22,"input",13),je("ngModelChange",function(i){return $e(r.phoneNumber,i)||(r.phoneNumber=i),i}),d()(),u(23,"div",7)(24,"label",14),c(25,"Email (opcional)"),d(),u(26,"input",15),je("ngModelChange",function(i){return $e(r.email,i)||(r.email=i),i}),d()(),u(27,"div",16)(28,"button",17),_("click",function(){return r.closeModal()}),c(29," Cancelar "),d(),u(30,"button",18),c(31,"Registrar"),d()()()()()(),u(32,"div",1),_("click",function(){return r.closeAssignAppointmentModal()}),u(33,"div",19),_("click",function(i){return i.stopPropagation()}),u(34,"div",3)(35,"h2"),c(36,"Asignar Turno"),d(),u(37,"button",4),_("click",function(){return r.closeAssignAppointmentModal()}),c(38,"\xD7"),d()(),u(39,"div",5)(40,"form",6),_("submit",function(){return r.saveAppointment()}),u(41,"div",7)(42,"label"),c(43,"Paciente:"),d(),u(44,"span"),c(45),d()(),u(46,"div",7)(47,"label",20),c(48,"Fecha del Turno:"),d(),u(49,"app-calendar",21),_("dateSelected",function(i){return r.onDateSelected(i)}),d(),N(50,eN,2,1,"div",22),d(),N(51,rN,8,4,"div",23)(52,oN,12,2,"div",23),u(53,"div",16)(54,"button",17),_("click",function(){return r.closeAssignAppointmentModal()}),c(55," Cancelar "),d(),u(56,"button",18),c(57,"Guardar Turno"),d()()()()()(),u(58,"div",1),_("click",function(){return r.closeAddNotesModal()}),u(59,"div",24),_("click",function(i){return i.stopPropagation()}),u(60,"div",3)(61,"h2"),c(62,"Notas del Paciente"),d(),u(63,"button",4),_("click",function(){return r.closeAddNotesModal()}),c(64,"\xD7"),d()(),u(65,"div",5)(66,"form",6),_("submit",function(){return r.saveNotes()}),u(67,"div",7)(68,"label"),c(69,"Paciente:"),d(),u(70,"p",25),c(71),d()(),u(72,"div",7)(73,"label",26),c(74,"Notas:"),d(),u(75,"textarea",27),je("ngModelChange",function(i){return $e(r.patientNotes,i)||(r.patientNotes=i),i}),d()(),u(76,"div",16)(77,"button",17),_("click",function(){return r.closeAddNotesModal()}),c(78," Cancelar "),d(),u(79,"button",18),c(80,"Guardar Notas"),d()()()()()(),u(81,"div",28)(82,"button",29),_("click",function(){return r.openRegisterModal()}),c(83," Registrar Paciente "),d()(),u(84,"div",30)(85,"input",31),_("input",function(i){return r.onSearch(i)}),d(),u(86,"button",32),c(87,"Buscar"),d()(),u(88,"div",33)(89,"div",34)(90,"div",35),c(91,"Nombre"),d(),u(92,"div",36),c(93,"Email"),d(),u(94,"div",37),c(95,"Tel\xE9fono"),d(),u(96,"div",38),c(97,"Acciones"),d()(),u(98,"div",39),N(99,iN,3,0,"div",40)(100,sN,17,6,"div",41),d()()()),n&2){let o,i;m(2),Oe("active",r.showModal()),m(12),Ve("ngModel",r.firstName),m(4),Ve("ngModel",r.lastName),m(4),Ve("ngModel",r.phoneNumber),m(4),Ve("ngModel",r.email),m(6),Oe("active",r.showAssignAppointmentModal()),m(13),Re("",(o=r.selectedPatientForAppointment())==null?null:o.firstName," ",(o=r.selectedPatientForAppointment())==null?null:o.lastName,""),m(5),C("ngIf",r.selectedAppointmentDate()),m(),C("ngIf",r.selectedAppointmentDate()),m(),C("ngIf",r.selectedAppointmentTime()),m(6),Oe("active",r.showAddNotesModal()),m(13),Re("",(i=r.selectedPatientForNotes())==null?null:i.firstName," ",(i=r.selectedPatientForNotes())==null?null:i.lastName,""),m(4),Ve("ngModel",r.patientNotes),m(24),C("ngIf",r.filteredPatients().length===0),m(),C("ngForOf",r.filteredPatients())}},dependencies:[Se,qe,ze,Mt,cn,St,un,uC,bc,Dc,ir,Wo,sr,oC,Wp,Fn,qp,ar],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}.main-container[_ngcontent-%COMP%]{padding:1rem;margin-top:6rem;width:100%}.search-container[_ngcontent-%COMP%]{display:flex;margin-bottom:1.5rem;width:100%}.search-input[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:1px solid #ddd;border-radius:4px 0 0 4px;font-size:1rem;min-width:0}.search-button[_ngcontent-%COMP%]{padding:0 1rem;background-color:var(--color-header);color:#fff;border:none;border-radius:0 4px 4px 0;cursor:pointer;font-size:1rem;white-space:nowrap}.search-button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--color-header) 85%,white 15%)}.patients-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.patients-header[_ngcontent-%COMP%]{display:none}.patient-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-bottom:1px solid #eee;gap:.5rem;transition:background-color .2s ease}.patient-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.patient-info-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:flex;flex-direction:column;cursor:pointer;padding:.2rem 0}.patient-info-link[_ngcontent-%COMP%]:hover   .patient-name[_ngcontent-%COMP%]{text-decoration:underline}.patient-info-link[_ngcontent-%COMP%]   .patient-email[_ngcontent-%COMP%]{font-size:.97em}.patient-name[_ngcontent-%COMP%]{flex:1 1 100%;font-weight:500}.patient-email[_ngcontent-%COMP%]{flex:1 1 100%;color:#555;font-size:.9em}.patient-id[_ngcontent-%COMP%]{flex:1;color:#666;min-width:100px}.patient-actions[_ngcontent-%COMP%]{flex:1 1 100%;display:flex;gap:.5rem;margin-top:.5rem}.action-button[_ngcontent-%COMP%]{padding:.5rem;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;display:flex;align-items:center;justify-content:center;flex:1}.assign-button[_ngcontent-%COMP%]{background-color:#079070;color:#fff}.assign-button[_ngcontent-%COMP%]:hover{background-color:#15b992;transition:.7s ease}.notes-button[_ngcontent-%COMP%]{background:var(--light-purple);color:#fff}.notes-button[_ngcontent-%COMP%]:hover{background:var(--purple);transition:.7s ease}.material-symbols-outlined[_ngcontent-%COMP%]{font-size:1.2rem;margin-right:.3rem}.patients-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.patients-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.patients-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.patients-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:none;justify-content:center;align-items:center;z-index:1050;opacity:0;visibility:hidden;transition:all .3s ease}.modal-overlay.active[_ngcontent-%COMP%]{display:flex;opacity:1;visibility:visible}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 4px 20px #00000026;transform:translateY(-20px);transition:transform .3s ease}.modal-overlay.active[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transform:translateY(0)}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--color-header)}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#aaa;font-weight:700}.close-btn[_ngcontent-%COMP%]:active{color:#333}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--color-header)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #535252;border-radius:4px;font-size:1rem;background-color:#f8f8f8}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus{outline:none}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;padding-top:1.5rem;border-top:1px solid #eee}.btn-cancel[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;transition:all .3s ease}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-submit[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;transition:all .3s ease}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#218838}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 auto auto;padding:0}.patient-btn[_ngcontent-%COMP%]{background-color:var(--celeste);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1rem;transition:background-color .6s ease;margin-bottom:1.5rem;margin-top:0}.patient-btn[_ngcontent-%COMP%]:hover{background-color:var(--light-celeste)}.form-control[_ngcontent-%COMP%]{width:100%;height:max-content;border-color:var(--color-header)}.register-patient-modal-content[_ngcontent-%COMP%]{background-color:#f8f8f8;border:1px solid #ccc;box-shadow:0 6px 12px #0003;max-width:450px;padding:1.5rem}.register-patient-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background-color:var(--celeste);color:#fff;padding:1rem 1.5rem;border-bottom:none;border-radius:8px 8px 0 0}.register-patient-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}.register-patient-modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#fff}.register-patient-modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#eee}.register-patient-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.register-patient-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333}.register-patient-modal-content[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .register-patient-modal-content[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .register-patient-modal-content[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px;padding:.8rem;font-size:.95rem}.register-patient-modal-content[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .register-patient-modal-content[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]:focus, .register-patient-modal-content[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{border-color:var(--celeste);box-shadow:0 0 0 .2rem #237ab540}.register-patient-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid #e9ecef;padding-top:1.5rem}.notes-modal-content[_ngcontent-%COMP%]{background-color:#f8f8f8;border:1px solid #ccc;box-shadow:0 6px 12px #0003;max-width:450px;padding:1.5rem}.notes-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background-color:var(--celeste);color:#fff;padding:1rem 1.5rem;border-bottom:none;border-radius:8px 8px 0 0}.notes-modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}.notes-modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#fff}.notes-modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#eee}.notes-modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.notes-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333}.notes-modal-content[_ngcontent-%COMP%]   .modal-display-info[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;background-color:#e9ecef;padding:.75rem;border-radius:4px;margin-bottom:1rem}.notes-modal-content[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px;padding:.8rem;font-size:.95rem;min-height:120px}.notes-modal-content[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:focus{border-color:var(--celeste);box-shadow:0 0 0 .2rem #237ab540}.notes-modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid #e9ecef;padding-top:1.5rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@media (min-width: 768px){.main-container[_ngcontent-%COMP%]{margin-top:6rem;padding:2rem;max-width:1200px;margin-left:auto;margin-right:auto}.patients-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 3fr 1fr 2fr;padding:1rem 1.5rem;background-color:#f8f9fa;border-bottom:1px solid #eee;font-weight:700;gap:.5rem;align-items:center}.patient-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 3fr 1fr 2fr;align-items:center;padding:1rem;border-bottom:1px solid #eee;gap:.5rem;transition:background-color .2s ease}.patient-info-link[_ngcontent-%COMP%]{display:contents;text-decoration:none;color:inherit;cursor:pointer;padding:0}.patient-name[_ngcontent-%COMP%]{font-weight:500}.patient-email[_ngcontent-%COMP%]{color:#555;font-size:.9em}.patient-id[_ngcontent-%COMP%]{color:#666;min-width:100px;text-align:center}.patient-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:0;justify-content:flex-end}.header-name[_ngcontent-%COMP%]{min-width:150px;color:var(--color-header)}.header-email[_ngcontent-%COMP%]{min-width:200px;color:var(--color-header)}.header-id[_ngcontent-%COMP%]{min-width:100px;text-align:center;color:var(--color-header)}.header-actions[_ngcontent-%COMP%]{min-width:200px;text-align:center;color:var(--color-header)}.action-button[_ngcontent-%COMP%]{padding:.5rem 1rem;flex:0;white-space:nowrap}.search-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto 2rem}.notes-modal-content[_ngcontent-%COMP%], .register-patient-modal-content[_ngcontent-%COMP%]{margin:8% auto;width:50%;max-width:500px}.notes-modal-content[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%], .notes-modal-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .register-patient-modal-content[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%], .register-patient-modal-content[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{padding:.85rem 1.5rem;font-size:1rem;flex-grow:0}}@media (min-width: 992px){.notes-modal-content[_ngcontent-%COMP%], .register-patient-modal-content[_ngcontent-%COMP%]{margin:8% auto;width:50%}}"]})};var aN=(e,t,n)=>({"notification-success":e,"notification-error":t,"notification-info":n}),lN=(e,t,n,r,o)=>({"status-confirmed":e,"status-in-progress":t,"status-cancelled":n,"status-blocked":r,"status-realizado":o});function cN(e,t){if(e&1){let n=U();u(0,"div",6)(1,"div",7)(2,"span",8),c(3),d(),u(4,"p",9),c(5),d(),u(6,"button",10),_("click",function(){w(n);let o=y();return x(o.clearNotification())}),u(7,"span",11),c(8,"close"),d()()()()}if(e&2){let n,r,o,i=y();m(),C("ngClass",So(3,aN,((n=i.notification())==null?null:n.tipo)==="success",((n=i.notification())==null?null:n.tipo)==="error",((n=i.notification())==null?null:n.tipo)==="info")),m(2),ne(" ",((r=i.notification())==null?null:r.tipo)==="success"?"check_circle":((r=i.notification())==null?null:r.tipo)==="error"?"error":"info"," "),m(2),B((o=i.notification())==null?null:o.mensaje)}}function uN(e,t){e&1&&(u(0,"div",12),ue(1,"div",13),u(2,"p",14),c(3,"Cargando datos del paciente..."),d()())}function dN(e,t){if(e&1&&(u(0,"div",27)(1,"div")(2,"p",28),c(3,"Nombre:"),d(),u(4,"p",29),c(5),d()(),u(6,"div")(7,"p",28),c(8,"Apellido:"),d(),u(9,"p",29),c(10),d()(),u(11,"div")(12,"p",28),c(13,"Tel\xE9fono:"),d(),u(14,"p",29),c(15),d()(),u(16,"div")(17,"p",28),c(18,"Email:"),d(),u(19,"p",29),c(20),d()()()),e&2){let n,r,o,i,s=y(2);m(5),B((n=s.patient())==null?null:n.firstName),m(5),B((r=s.patient())==null?null:r.lastName),m(5),B((o=s.patient())==null?null:o.phoneNumber),m(5),B(((i=s.patient())==null?null:i.email)||"N/A")}}function fN(e,t){if(e&1){let n=U();u(0,"div",30)(1,"div",31)(2,"label",32),c(3,"Nombre"),d(),u(4,"input",33),je("ngModelChange",function(o){w(n);let i=y(2);return $e(i.editedFirstName,o)||(i.editedFirstName=o),x(o)}),d()(),u(5,"div",31)(6,"label",34),c(7,"Apellido"),d(),u(8,"input",35),je("ngModelChange",function(o){w(n);let i=y(2);return $e(i.editedLastName,o)||(i.editedLastName=o),x(o)}),d()(),u(9,"div",31)(10,"label",36),c(11,"Tel\xE9fono"),d(),u(12,"input",37),je("ngModelChange",function(o){w(n);let i=y(2);return $e(i.editedPhoneNumber,o)||(i.editedPhoneNumber=o),x(o)}),d()(),u(13,"div",31)(14,"label",38),c(15,"Email"),d(),u(16,"input",39),je("ngModelChange",function(o){w(n);let i=y(2);return $e(i.editedEmail,o)||(i.editedEmail=o),x(o)}),d()()()}if(e&2){let n=y(2);m(4),Ve("ngModel",n.editedFirstName),m(4),Ve("ngModel",n.editedLastName),m(4),Ve("ngModel",n.editedPhoneNumber),m(4),Ve("ngModel",n.editedEmail)}}function pN(e,t){if(e&1){let n=U();u(0,"button",40),_("click",function(){w(n);let o=y(2);return x(o.toggleEditPatient())}),u(1,"span",41),c(2,"edit"),d(),c(3,"Editar Datos "),d()}}function hN(e,t){if(e&1){let n=U();u(0,"button",42),_("click",function(){w(n);let o=y(2);return x(o.savePatient())}),u(1,"span",41),c(2,"save"),d(),c(3,"Guardar "),d()}}function mN(e,t){if(e&1){let n=U();u(0,"button",43),_("click",function(){w(n);let o=y(2);return x(o.cancelEditPatient())}),u(1,"span",41),c(2,"cancel"),d(),c(3,"Cancelar "),d()}}function gN(e,t){e&1&&(u(0,"div",44)(1,"span",45),c(2,"event_busy"),d(),u(3,"p",46),c(4,"No hay turnos registrados para este paciente."),d(),u(5,"p",47),c(6,"Puedes asignar un nuevo turno desde la lista de pacientes."),d()())}function vN(e,t){if(e&1){let n=U();u(0,"div",50)(1,"div",51)(2,"div",52)(3,"span",53),c(4,"calendar_today"),d(),c(5),Ee(6,"date"),u(7,"span",53),c(8,"access_time"),d(),c(9),Ee(10,"date"),d(),u(11,"div",54),c(12," Duraci\xF3n: "),u(13,"span"),c(14),d()(),u(15,"div",55),c(16," Estado: "),u(17,"span",56),c(18),d()()(),u(19,"div",20)(20,"button",57),_("click",function(){let o=w(n).$implicit,i=y(3);return x(i.openNotesModal(o))}),u(21,"span",41),c(22,"note_alt"),d(),c(23,"Notas de Sesi\xF3n "),d()()()}if(e&2){let n=t.$implicit,r=y(3);m(5),ne(" ",He(6,5,n.fecha,"dd/MM/yyyy")," "),m(4),ne(" ",He(10,8,n.fecha+"T"+n.hora,"shortTime")," "),m(5),ne("",n.duration," minutos"),m(3),C("ngClass",dl(11,lN,r.getAppointmentDisplayStatus(n)==="Confirmado",r.getAppointmentDisplayStatus(n)==="En curso",r.getAppointmentDisplayStatus(n)==="Cancelado",r.getAppointmentDisplayStatus(n)==="Bloqueado",r.getAppointmentDisplayStatus(n)==="Realizado")),m(),B(r.getAppointmentDisplayStatus(n))}}function yN(e,t){if(e&1&&(u(0,"div",48),N(1,vN,24,17,"div",49),d()),e&2){let n=y(2);m(),C("ngForOf",n.displayedAppointments())}}function _N(e,t){if(e&1&&(J(0),u(1,"div",15)(2,"h2",16)(3,"span",17),c(4,"person"),d(),c(5," Detalle del Paciente "),d(),N(6,dN,21,4,"div",18)(7,fN,17,4,"div",19),u(8,"div",20),N(9,pN,4,0,"button",21)(10,hN,4,0,"button",22)(11,mN,4,0,"button",23),d()(),u(12,"div",24)(13,"h2",16)(14,"span",17),c(15,"history"),d(),c(16," Historial de Turnos "),d(),N(17,gN,7,0,"div",25)(18,yN,2,1,"div",26),d(),ee()),e&2){let n=y();m(6),C("ngIf",!n.isEditingPatient()),m(),C("ngIf",n.isEditingPatient()),m(2),C("ngIf",!n.isEditingPatient()),m(),C("ngIf",n.isEditingPatient()),m(),C("ngIf",n.isEditingPatient()),m(6),C("ngIf",n.displayedAppointments().length===0),m(),C("ngIf",n.displayedAppointments().length>0)}}function CN(e,t){if(e&1){let n=U();u(0,"div",58)(1,"div",59)(2,"h3",60),c(3,"Notas de Sesi\xF3n"),d(),u(4,"p",61),c(5," Turno del "),u(6,"span",62),c(7),Ee(8,"date"),d(),c(9," a las "),u(10,"span",62),c(11),Ee(12,"slice"),d()(),u(13,"textarea",63),je("ngModelChange",function(o){w(n);let i=y();return $e(i.currentNotes,o)||(i.currentNotes=o),x(o)}),d(),u(14,"div",64)(15,"button",42),_("click",function(){w(n);let o=y();return x(o.saveNotes())}),u(16,"span",41),c(17,"save"),d(),c(18,"Guardar Notas "),d(),u(19,"button",43),_("click",function(){w(n);let o=y();return x(o.closeNotesModal())}),u(20,"span",41),c(21,"cancel"),d(),c(22,"Cerrar "),d()()()()}if(e&2){let n,r,o=y();m(7),B(He(8,3,(n=o.selectedAppointmentForNotes())==null?null:n.fecha,"fullDate")),m(4),B(Lv(12,6,(r=o.selectedAppointmentForNotes())==null?null:r.hora,0,5)),m(2),Ve("ngModel",o.currentNotes)}}var Sc=class e{route=E(ct);router=E(ut);patientService=E(lr);turnosService=E(fn);patientId=D(null);patient=D(null);isEditingPatient=D(!1);editedFirstName=D("");editedLastName=D("");editedPhoneNumber=D("");editedEmail=D("");appointments=D([]);showNotesModal=D(!1);selectedAppointmentForNotes=D(null);currentNotes=D("");displayedAppointments=re(()=>{let t=new Date;return t.setSeconds(0),t.setMilliseconds(0),this.appointments().map(n=>{let r=n.fecha;if(r&&r.includes("/")){let i=r.split("/");i.length===3&&(r=`${i[2]}-${i[1].padStart(2,"0")}-${i[0].padStart(2,"0")}`)}let o=new Date(`${r}T${n.hora}`);return o.setSeconds(0),o.setMilliseconds(0),console.log(`DEBUG: Turno ID: ${n.id}`),console.log(`DEBUG: Fecha original (del backend): ${n.fecha}, Hora original: ${n.hora}`),console.log(`DEBUG: Fecha formateada (para Date obj): ${r}`),console.log(`DEBUG: appointmentDateTime (parsed): ${o.toISOString()}`),console.log(`DEBUG: now (current): ${t.toISOString()}`),console.log(`DEBUG: Comparaci\xF3n (appointmentDateTime < now): ${o<t}`),console.log(`DEBUG: Estado original: ${n.state}`),n.state==="CONFIRMADO"&&o<t?(console.log(`DEBUG: Turno ${n.id} es CONFIRMADO y pasado. Cambiando a REALIZADO.`),R(A({},n),{estado:"REALIZADO"})):(console.log(`DEBUG: Turno ${n.id} NO cambia. Estado final: ${n.state}`),n)})});notification=D(null);loading=D(!1);constructor(){}ngOnInit(){this.route.paramMap.subscribe(t=>{let n=t.get("id"),r;if(n){let o=n.replace(/\D/g,"");r=Number(o)}else r=NaN;if(!isNaN(r))this.patientId.set(r),this.loadPatientDetails(r),this.loadPatientAppointments(r);else{let o="No se proporcion\xF3 un ID de paciente v\xE1lido en la URL.";n===null?o="El ID del paciente est\xE1 ausente en la URL. Aseg\xFArate de pasar un ID.":n&&isNaN(r)&&(o=`El ID del paciente en la URL ('${n}') no es un n\xFAmero v\xE1lido.`),console.error(o),this.showNotification("error",o+" Redirigiendo a la lista de pacientes."),setTimeout(()=>{this.router.navigate(["/pacientes"])},2e3)}})}loadPatientDetails(t){return L(this,null,function*(){this.loading.set(!0);try{let n=yield this.patientService.getPatientById(t);this.patient.set(n),this.editedFirstName.set(n.firstName||""),this.editedLastName.set(n.lastName||""),this.editedPhoneNumber.set(n.phoneNumber||""),this.editedEmail.set(n.email||""),console.log("Detalles del paciente cargados:",n)}catch(n){console.error("Error al cargar los detalles del paciente:",n),this.showNotification("error","Error al cargar los detalles del paciente."),this.patient.set(null)}finally{this.loading.set(!1)}})}loadPatientAppointments(t){return L(this,null,function*(){this.loading.set(!0);try{let r=(yield this.turnosService.getAppointmentsByPatientId(t)).sort((o,i)=>{let s=new Date(`${o.fecha}T${o.hora}`);return new Date(`${i.fecha}T${i.hora}`).getTime()-s.getTime()});this.appointments.set(r),console.log("Historial de turnos del paciente cargado:",r)}catch(n){console.error("Error al cargar el historial de turnos:",n),this.showNotification("error","Error al cargar el historial de turnos."),this.appointments.set([])}finally{this.loading.set(!1)}})}toggleEditPatient(){this.isEditingPatient.set(!this.isEditingPatient()),!this.isEditingPatient()&&this.patient()&&(this.editedFirstName.set(this.patient().firstName||""),this.editedLastName.set(this.patient().lastName||""),this.editedPhoneNumber.set(this.patient().phoneNumber||""),this.editedEmail.set(this.patient().email||""))}savePatient(){return L(this,null,function*(){let t=this.patient();if(!t||!t.id){this.showNotification("error","No hay datos de paciente para guardar.");return}let n={id:t.id,firstName:this.editedFirstName(),lastName:this.editedLastName(),phoneNumber:this.editedPhoneNumber(),email:this.editedEmail()};try{yield this.patientService.updatePatient(n),this.patient.set(n),this.isEditingPatient.set(!1),this.showNotification("success","Datos del paciente actualizados exitosamente.")}catch(r){console.error("Error al guardar los datos del paciente:",r),this.showNotification("error","Error al guardar los datos del paciente.")}})}cancelEditPatient(){this.toggleEditPatient()}openNotesModal(t){return L(this,null,function*(){if(console.log("DEBUG [openNotesModal]: Abriendo modal de notas para turno:",t),this.selectedAppointmentForNotes.set(t),this.currentNotes.set(t.notes||""),t.id!==void 0&&t.id!==null){console.log(`DEBUG [openNotesModal]: Intentando cargar notas de sesi\xF3n para el turno ID: ${t.id}`);try{let n=yield this.turnosService.getAppointmentNotes(t.id);n!==null||n==""?(this.currentNotes.set(n),console.log("DEBUG [openNotesModal]: Notas de sesi\xF3n cargadas y actualizadas desde el backend.")):console.log("DEBUG [openNotesModal]: No se encontraron notas de sesi\xF3n en el backend para este turno.")}catch(n){console.error("ERROR [openNotesModal]: Error al cargar notas de sesi\xF3n del turno:",n),this.notification.set({tipo:"error",mensaje:"Error al cargar las notas de sesi\xF3n del turno."})}}else console.log("DEBUG [openNotesModal]: El turno no tiene un ID de API v\xE1lido para buscar notas de sesi\xF3n.");this.showNotesModal.set(!0),console.log("DEBUG [openNotesModal]: Notas finales cargadas en el modal:",this.currentNotes())})}closeNotesModal(){this.showNotesModal.set(!1),this.selectedAppointmentForNotes.set(null),this.currentNotes.set(""),console.log("DEBUG [closeNotesModal]: Modal de notas cerrado y campos reseteados.")}saveNotes(){return L(this,null,function*(){let t=this.selectedAppointmentForNotes();if(!t||t.id===void 0||t.id===null){this.notification.set({tipo:"error",mensaje:"No se ha seleccionado un turno v\xE1lido para guardar las notas."});return}let n=this.currentNotes();console.log(`DEBUG [saveNotes]: Guardando notas para turno ID ${t.id}:`,n);try{yield this.turnosService.updateAppointmentNotes(t.id,n),this.closeNotesModal(),this.notification.set({tipo:"success",mensaje:"Notas guardadas exitosamente."}),yield this.turnosService.refreshCurrentDayAppointments()}catch(r){console.error("ERROR [saveNotes]: Error al guardar las notas:",r),this.notification.set({tipo:"error",mensaje:"Error al guardar las notas."})}})}showNotification(t,n){this.notification.set({tipo:t,mensaje:n}),setTimeout(()=>this.notification.set(null),3e3)}clearNotification(){this.notification.set(null)}getTextoEstado(t){switch(t){case"DISPONIBLE":return"Disponible";case"CONFIRMADO":return"Confirmado";case"BLOQUEADO":return"Bloqueado";case"CANCELADO":return"Cancelado";case"EN_CURSO":return"En curso";case"REALIZADO":return"Realizado";default:return"Estado desconocido"}}getAppointmentDisplayStatus(t){if(t.state==="CANCELADO")return this.getTextoEstado("CANCELADO");if(t.state==="CONFIRMADO"){let n=t.fecha;if(n&&n.includes("/")){let i=n.split("/");i.length===3&&(n=`${i[2]}-${i[1].padStart(2,"0")}-${i[0].padStart(2,"0")}`)}let r=new Date(`${n}T${t.hora}`),o=new Date;if(r.setSeconds(0),r.setMilliseconds(0),o.setSeconds(0),o.setMilliseconds(0),r<o)return this.getTextoEstado("REALIZADO")}return this.getTextoEstado(t.state)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-patient-details"]],decls:7,vars:4,consts:[[1,"app-container"],["class","notification-area",4,"ngIf"],[1,"patient-card-container"],["class","loading-indicator",4,"ngIf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"notification-area"],["role","alert",1,"notification-card",3,"ngClass"],[1,"material-symbols-outlined","notification-icon"],[1,"notification-message"],[1,"notification-close-btn",3,"click"],[1,"material-symbols-outlined"],[1,"loading-indicator"],[1,"spinner"],[1,"loading-text"],[1,"patient-info-section"],[1,"section-header"],[1,"material-symbols-outlined","header-icon"],["class","info-grid",4,"ngIf"],["class","edit-grid",4,"ngIf"],[1,"button-group"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"appointment-history-section"],["class","empty-state",4,"ngIf"],["class","appointment-list",4,"ngIf"],[1,"info-grid"],[1,"info-label"],[1,"info-value"],[1,"edit-grid"],[1,"form-group"],["for","firstName",1,"form-label"],["type","text","id","firstName",1,"form-input",3,"ngModelChange","ngModel"],["for","lastName",1,"form-label"],["type","text","id","lastName",1,"form-input",3,"ngModelChange","ngModel"],["for","phoneNumber",1,"form-label"],["type","text","id","phoneNumber",1,"form-input",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"material-symbols-outlined","btn-icon"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"empty-state"],[1,"material-symbols-outlined","empty-state-icon"],[1,"empty-state-title"],[1,"empty-state-message"],[1,"appointment-list"],["class","appointment-item",4,"ngFor","ngForOf"],[1,"appointment-item"],[1,"appointment-details"],[1,"appointment-date-time"],[1,"material-symbols-outlined","appointment-icon"],[1,"appointment-duration"],[1,"appointment-status"],[3,"ngClass"],[1,"btn","btn-purple",3,"click"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"modal-appointment-info"],[1,"font-semibold"],["rows","8","placeholder","Escribe aqu\xED las notas de la sesi\xF3n...",1,"modal-textarea",3,"ngModelChange","ngModel"],[1,"button-group","modal-button-group"]],template:function(n,r){n&1&&(u(0,"div",0),ue(1,"app-header"),N(2,cN,9,7,"div",1),u(3,"div",2),N(4,uN,4,0,"div",3)(5,_N,19,7,"ng-container",4),d(),N(6,CN,23,10,"div",5),d()),n&2&&(m(2),C("ngIf",r.notification()),m(2),C("ngIf",r.loading()),m(),C("ngIf",!r.loading()),m(),C("ngIf",r.showNotesModal()))},dependencies:[Se,Ut,qe,ze,qf,Pn,un,ir,sr,Fn,St],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--background-light),#e0e7ff);padding:1rem;font-family:Inter,sans-serif;color:var(--text-dark)}@media (min-width: 640px){.app-container[_ngcontent-%COMP%]{padding:1.5rem}}@media (min-width: 1024px){.app-container[_ngcontent-%COMP%]{padding:2rem}}.patient-card-container[_ngcontent-%COMP%]{max-width:64rem;margin:2rem auto;background-color:var(--card-background);border-radius:1rem;box-shadow:0 20px 25px -5px var(--shadow-color),0 10px 10px -5px #0000000a;overflow:hidden;border:1px solid var(--border-color)}.patient-info-section[_ngcontent-%COMP%], .appointment-history-section[_ngcontent-%COMP%]{padding:1.5rem}.patient-info-section[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color);background-color:#f8fafc}@media (min-width: 640px){.patient-info-section[_ngcontent-%COMP%], .appointment-history-section[_ngcontent-%COMP%]{padding:2rem}}.section-header[_ngcontent-%COMP%]{font-size:1.575rem;margin-bottom:1rem;color:var(--color-header);font-weight:600;padding-bottom:.5rem;border-bottom:1px solid #eee;display:flex;align-items:center;gap:.5rem}.section-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:2.25rem;color:var(--color-header)}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;font-size:1.125rem;color:var(--text-medium)}@media (min-width: 768px){.info-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.info-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-dark);margin-bottom:.25rem;display:flex;align-items:center;gap:1rem}.info-value[_ngcontent-%COMP%]{margin-left:.5rem;margin-top:.25rem;color:var(--text-dark)}.edit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}@media (min-width: 768px){.edit-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.form-group[_ngcontent-%COMP%]{margin-bottom:.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--text-medium);margin-bottom:.25rem}.form-input[_ngcontent-%COMP%]{display:block;width:100%;padding:.625rem 1rem;margin-top:.25rem;border:1px solid var(--border-color);border-radius:.5rem;box-shadow:0 1px 2px #0000000d;font-size:1rem;transition:all .15s ease-in-out;color:var(--text-dark)}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px #237ab540}.button-group[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:flex-end;gap:.75rem}.btn[_ngcontent-%COMP%]{padding:.625rem 1.5rem;border-radius:9999px;font-weight:600;text-align:center;cursor:pointer;display:flex;align-items:center;transition:all .3s ease-in-out;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:none}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--primary-blue)}.btn-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.25rem}.btn-primary[_ngcontent-%COMP%]{background:var(--dark-blue);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-blue)}.btn-primary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--primary-blue)}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(to right,var(--success-green),var(--light-success-green));color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,var(--light-success-green),var(--success-green))}.btn-success[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--success-green)}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--error-red);color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--light-error-red)}.btn-secondary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--secondary-gray)}.btn-purple[_ngcontent-%COMP%]{background:var(--light-purple);color:#fff}.btn-purple[_ngcontent-%COMP%]:hover{background:var(--purple)}.btn-purple[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--purple)}.appointment-history-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{font-size:1.5rem}.appointment-history-section[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.875rem}.empty-state[_ngcontent-%COMP%]{text-align:center;color:var(--text-light);padding:2.5rem;border:2px dashed var(--border-color);border-radius:.5rem;background-color:#f9fafb;margin-top:1.5rem}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#cbd5e0;margin-bottom:1rem}.empty-state-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.empty-state-message[_ngcontent-%COMP%]{font-size:1rem;margin-top:.5rem}.appointment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem;margin-top:1.5rem}.appointment-item[_ngcontent-%COMP%]{background-color:var(--card-background);padding:1.25rem;border-radius:.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;border:1px solid #F3F4F6;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;transition:all .2s ease-in-out}.appointment-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000d;border-color:#bfdbfe}@media (min-width: 640px){.appointment-item[_ngcontent-%COMP%]{flex-direction:row;align-items:center}}.appointment-details[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:.75rem}@media (min-width: 640px){.appointment-details[_ngcontent-%COMP%]{margin-bottom:0}}.appointment-date-time[_ngcontent-%COMP%]{color:var(--text-dark);font-weight:600;font-size:1.125rem;display:flex;align-items:center}.appointment-icon[_ngcontent-%COMP%]{color:var(--primary-blue);font-size:1.25rem;vertical-align:middle;margin-right:.5rem}.appointment-date-time[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]:nth-of-type(2){margin-left:1rem}.appointment-duration[_ngcontent-%COMP%], .appointment-status[_ngcontent-%COMP%]{color:var(--text-medium);margin-left:.25rem;margin-top:.25rem}.appointment-duration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .appointment-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.status-confirmed[_ngcontent-%COMP%]{color:var(--success-green);font-weight:700}.status-in-progress[_ngcontent-%COMP%]{color:var(--warning-yellow);font-weight:700}.status-cancelled[_ngcontent-%COMP%]{color:var(--error-red);font-weight:700}.status-blocked[_ngcontent-%COMP%]{color:var(--secondary-gray);font-weight:700}.status-completed[_ngcontent-%COMP%]{color:var(--primary-blue);font-weight:700}.status-realizado[_ngcontent-%COMP%]{color:#007bff;font-weight:700}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;padding:1rem;z-index:50;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.modal-content[_ngcontent-%COMP%]{background-color:var(--card-background);border-radius:1rem;box-shadow:0 20px 25px -5px var(--shadow-color),0 10px 10px -5px #0000000a;padding:2rem;width:100%;max-width:28rem;transform:scale(.95);animation:_ngcontent-%COMP%_scaleIn .3s ease-out forwards}.modal-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-dark);margin-bottom:1rem}.modal-appointment-info[_ngcontent-%COMP%]{color:var(--text-medium);margin-bottom:1.5rem}.modal-appointment-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.modal-textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;border:1px solid var(--border-color);border-radius:.5rem;font-size:1rem;color:var(--text-dark);resize:vertical;box-shadow:0 1px 2px #0000000d;transition:all .15s ease-in-out}.modal-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px #237ab540}.modal-button-group[_ngcontent-%COMP%]{margin-top:2rem}.notification-area[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:50}.notification-card[_ngcontent-%COMP%]{color:#fff;padding:.75rem 1.5rem;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;display:flex;align-items:center;gap:.75rem;transform:translate(100%);animation:_ngcontent-%COMP%_slideInRight .3s ease-out forwards}.notification-icon[_ngcontent-%COMP%]{font-size:1.5rem}.notification-message[_ngcontent-%COMP%]{font-weight:600}.notification-close-btn[_ngcontent-%COMP%]{margin-left:auto;color:#fff;background:none;border:none;cursor:pointer;opacity:.7;transition:opacity .2s ease-in-out}.notification-close-btn[_ngcontent-%COMP%]:hover{opacity:1}.notification-success[_ngcontent-%COMP%]{background-color:var(--success-green)}.notification-error[_ngcontent-%COMP%]{background-color:var(--error-red)}.notification-info[_ngcontent-%COMP%]{background-color:var(--primary-blue)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.95);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.loading-indicator[_ngcontent-%COMP%]{text-align:center;padding:4rem;color:var(--text-medium)}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-top:4px solid var(--primary-blue);border-radius:50%;width:3rem;height:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500}"]})};var Ic=class e{platformId=E(tn);http=E(wt);API_BASE_URL=dn.apiBaseUrl;loading=D(!1);error=D(null);getTurnosFromBackend(){return L(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let t=yield ri(this.http.get(`${this.API_BASE_URL}/appointments`).pipe(se(n=>this.handleError(n,"getTurnosFromBackend"))));return console.log("[ProfessionalService] All appointments fetched successfully:",t),this.loading.set(!1),t}catch(t){throw console.error("[ProfessionalService] Error in getTurnosFromBackend promise:",t),this.loading.set(!1),this.error.set(t.message||"Error al cargar los turnos del historial."),t}})}handleError(t,n="operation"){let r="";return t.error instanceof ErrorEvent?(r=`Error: ${t.error.message}`,console.error(`[ProfessionalService] Client-side error in ${n}:`,t.error.message)):(r=`Server returned code ${t.status}, body was: ${JSON.stringify(t.error)}`,console.error(`[ProfessionalService] Backend returned error in ${n}:`,t.status,t.error)),this.error.set(`Error al ${n}: ${r}`),Fe(()=>new Error(`Something bad happened; please try again later. ${r}`))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var EN=(e,t,n)=>({"notification-success":e,"notification-error":t,"notification-info":n}),bN=(e,t,n,r,o)=>({"status-confirmed":e,"status-in-progress":t,"status-cancelled":n,"status-blocked":r,"status-realizado":o}),DN=e=>["/patient-details",e];function AN(e,t){if(e&1){let n=U();u(0,"div",12)(1,"div",13)(2,"span",14),c(3),d(),u(4,"p",15),c(5),d(),u(6,"button",16),_("click",function(){w(n);let o=y();return x(o.clearNotification())}),u(7,"span",17),c(8,"close"),d()()()()}if(e&2){let n,r,o,i=y();m(),C("ngClass",So(3,EN,((n=i.notification())==null?null:n.tipo)==="success",((n=i.notification())==null?null:n.tipo)==="error",((n=i.notification())==null?null:n.tipo)==="info")),m(2),ne(" ",((r=i.notification())==null?null:r.tipo)==="success"?"check_circle":((r=i.notification())==null?null:r.tipo)==="error"?"error":"info"," "),m(2),B((o=i.notification())==null?null:o.mensaje)}}function wN(e,t){e&1&&(u(0,"div",18),ue(1,"div",19),u(2,"p",20),c(3,"Cargando historial de turnos..."),d()())}function xN(e,t){e&1&&(u(0,"div",24)(1,"span",25),c(2,"event_busy"),d(),u(3,"p",26),c(4,"No hay turnos que coincidan con la b\xFAsqueda."),d(),u(5,"p",27),c(6,"Intenta ajustar tus criterios de b\xFAsqueda."),d()())}function MN(e,t){if(e&1&&(u(0,"a",41),c(1),d()),e&2){let n=y().$implicit;C("routerLink",Mn(3,DN,n.patientId)),m(),Re(" ",n.patientName," ",n.patientLastName," ")}}function SN(e,t){if(e&1&&(J(0),c(1),ee()),e&2){let n=y().$implicit;m(),Re(" ",n.patientName," ",n.patientLastName," ")}}function IN(e,t){if(e&1){let n=U();u(0,"div",30)(1,"div",31)(2,"div",32)(3,"span",33),c(4,"person"),d(),c(5," Paciente: "),N(6,MN,2,5,"a",34)(7,SN,2,2,"ng-container",10),d(),u(8,"div",35)(9,"span",33),c(10,"calendar_today"),d(),c(11),Ee(12,"date"),u(13,"span",33),c(14,"access_time"),d(),c(15),Ee(16,"date"),d(),u(17,"div",36),c(18," Duraci\xF3n: "),u(19,"span"),c(20),d()(),u(21,"div",37),c(22," Estado: "),u(23,"span",38),c(24),d()()(),u(25,"div",39)(26,"button",40),_("click",function(){let o=w(n).$implicit,i=y(3);return x(i.openNotesModal(o))}),u(27,"span",8),c(28,"note_alt"),d(),c(29,"Notas de Sesi\xF3n "),d()()()}if(e&2){let n=t.$implicit,r=y(3);m(6),C("ngIf",n.patientId),m(),C("ngIf",!n.patientId),m(4),ne(" ",He(12,7,n.fecha,"dd-MM-yyyy")," "),m(4),ne(" ",He(16,10,n.fecha+"T"+n.hora,"shortTime")," "),m(5),ne("",n.duration," minutos"),m(3),C("ngClass",dl(13,bN,r.getAppointmentDisplayStatus(n)==="Confirmado",r.getAppointmentDisplayStatus(n)==="En curso",r.getAppointmentDisplayStatus(n)==="Cancelado",r.getAppointmentDisplayStatus(n)==="Bloqueado",r.getAppointmentDisplayStatus(n)==="Realizado")),m(),B(r.getAppointmentDisplayStatus(n))}}function TN(e,t){if(e&1&&(u(0,"div",28),N(1,IN,30,19,"div",29),d()),e&2){let n=y(2);m(),C("ngForOf",n.pagedAppointments())}}function PN(e,t){if(e&1){let n=U();u(0,"div",42)(1,"button",43),_("click",function(){w(n);let o=y(2);return x(o.previousPage())}),u(2,"span",17),c(3,"chevron_left"),d(),c(4," Anterior "),d(),u(5,"span",44),c(6),d(),u(7,"button",43),_("click",function(){w(n);let o=y(2);return x(o.nextPage())}),c(8," Siguiente "),u(9,"span",17),c(10,"chevron_right"),d()()()}if(e&2){let n=y(2);m(),C("disabled",n.currentPage()===1),m(5),Re("P\xE1gina ",n.currentPage()," de ",n.totalPages(),""),m(),C("disabled",n.currentPage()===n.totalPages())}}function NN(e,t){if(e&1&&(J(0),N(1,xN,7,0,"div",21)(2,TN,2,1,"div",22)(3,PN,11,4,"div",23),ee()),e&2){let n=y();m(),C("ngIf",n.filteredAppointments().length===0),m(),C("ngIf",n.pagedAppointments().length>0),m(),C("ngIf",n.filteredAppointments().length>n.itemsPerPage())}}function ON(e,t){if(e&1){let n=U();u(0,"div",45)(1,"div",46)(2,"div",47)(3,"h2"),c(4,"Notas del Turno"),d(),u(5,"button",48),_("click",function(){w(n);let o=y();return x(o.closeNotesModal())}),u(6,"span",17),c(7,"close"),d()()(),u(8,"div",49)(9,"div",50),c(10," Turno del "),u(11,"span"),c(12),Ee(13,"date"),d(),c(14," a las "),u(15,"span"),c(16),Ee(17,"date"),d()(),u(18,"textarea",51),je("ngModelChange",function(o){w(n);let i=y();return $e(i.currentNotes,o)||(i.currentNotes=o),x(o)}),d(),u(19,"div",52)(20,"button",53),_("click",function(){w(n);let o=y();return x(o.closeNotesModal())}),u(21,"span",8),c(22,"cancel"),d(),c(23,"Cancelar "),d(),u(24,"button",54),_("click",function(){w(n);let o=y();return x(o.saveNotes())}),u(25,"span",8),c(26,"save"),d(),c(27,"Guardar Notas "),d()()()()()}if(e&2){let n,r,o=y();m(12),B(He(13,3,(n=o.selectedAppointmentForNotes())==null?null:n.fecha,"dd/MM/yyyy")),m(4),B(He(17,6,((r=o.selectedAppointmentForNotes())==null?null:r.fecha)+"T"+((r=o.selectedAppointmentForNotes())==null?null:r.hora),"shortTime")),m(2),Ve("ngModel",o.currentNotes)}}var Tc=class e{professionalService=E(Ic);turnosService=E(fn);allAppointments=D([]);filteredAppointments=D([]);searchQuery=D("");loading=D(!1);notification=D(null);currentPage=D(1);itemsPerPage=D(10);pagedAppointments=re(()=>{let t=(this.currentPage()-1)*this.itemsPerPage(),n=t+this.itemsPerPage();return this.filteredAppointments().slice(t,n)});totalPages=re(()=>Math.ceil(this.filteredAppointments().length/this.itemsPerPage()));showNotesModal=D(!1);selectedAppointmentForNotes=D(null);currentNotes=D("");constructor(){}ngOnInit(){this.loadAllAppointments()}loadAllAppointments(){return L(this,null,function*(){this.loading.set(!0);try{let o=(yield this.professionalService.getTurnosFromBackend()).map(i=>{let s=i.fecha;if(s&&s.includes("/")){let a=s.split("/");a.length===3&&(s=`${a[2]}-${a[1].padStart(2,"0")}-${a[0].padStart(2,"0")}`)}return R(A({},i),{fecha:s})}).filter(i=>{let s=this.getAppointmentDisplayStatus(i);return s==="Realizado"||s==="Cancelado"}).sort((i,s)=>{let a=new Date(`${i.fecha}T${i.hora}`);return new Date(`${s.fecha}T${s.hora}`).getTime()-a.getTime()});this.allAppointments.set(o),this.applyFilter(),console.log("[TurnosHistoryComponent] All relevant appointments loaded:",this.allAppointments())}catch(t){console.error("Error al cargar todos los turnos:",t),this.showNotification("error","Error al cargar el historial de turnos."),this.allAppointments.set([]),this.filteredAppointments.set([])}finally{this.loading.set(!1)}})}applyFilter(){let t=this.searchQuery().toLowerCase().trim();if(!t)this.filteredAppointments.set(this.allAppointments());else{let n=this.allAppointments().filter(r=>{let o=`${r.patientName||""} ${r.patientLastName||""}`.toLowerCase(),i=r.fecha.toLowerCase(),s=r.hora.toLowerCase(),a=this.getAppointmentDisplayStatus(r).toLowerCase();return o.includes(t)||i.includes(t)||s.includes(t)||a.includes(t)});this.filteredAppointments.set(n)}this.currentPage.set(1)}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.update(t=>t+1)}previousPage(){this.currentPage()>1&&this.currentPage.update(t=>t-1)}getTextoEstado(t){switch(t){case"DISPONIBLE":return"Disponible";case"CONFIRMADO":return"Confirmado";case"BLOQUEADO":return"Bloqueado";case"CANCELADO":return"Cancelado";case"EN_CURSO":return"En curso";case"REALIZADO":return"Realizado";default:return"Estado desconocido"}}getAppointmentDisplayStatus(t){if(t.state==="CANCELADO")return this.getTextoEstado("CANCELADO");if(t.state==="CONFIRMADO"){let n=new Date(`${t.fecha}T${t.hora}`),r=new Date;if(n.setSeconds(0),n.setMilliseconds(0),r.setSeconds(0),r.setMilliseconds(0),n<r)return this.getTextoEstado("REALIZADO")}return this.getTextoEstado(t.state)}openNotesModal(t){return L(this,null,function*(){if(console.log("DEBUG [openNotesModal]: Abriendo modal de notas para turno:",t),this.selectedAppointmentForNotes.set(t),this.currentNotes.set(t.notes||""),t.id!==void 0&&t.id!==null){console.log(`DEBUG [openNotesModal]: Intentando cargar notas de sesi\xF3n para el turno ID: ${t.id}`);try{let n=yield this.turnosService.getAppointmentNotes(t.id);n!==null||n==""?(this.currentNotes.set(n),console.log("DEBUG [openNotesModal]: Notas de sesi\xF3n cargadas y actualizadas desde el backend.")):console.log("DEBUG [openNotesModal]: No se encontraron notas de sesi\xF3n en el backend para este turno.")}catch(n){console.error("ERROR [openNotesModal]: Error al cargar notas de sesi\xF3n del turno:",n),this.notification.set({tipo:"error",mensaje:"Error al cargar las notas de sesi\xF3n del turno."})}}else console.log("DEBUG [openNotesModal]: El turno no tiene un ID de API v\xE1lido para buscar notas de sesi\xF3n.");this.showNotesModal.set(!0),console.log("DEBUG [openNotesModal]: Notas finales cargadas en el modal:",this.currentNotes())})}closeNotesModal(){this.showNotesModal.set(!1),this.selectedAppointmentForNotes.set(null),this.currentNotes.set(""),console.log("DEBUG [closeNotesModal]: Modal de notas cerrado y campos reseteados.")}saveNotes(){return L(this,null,function*(){let t=this.selectedAppointmentForNotes();if(!t||t.id===void 0||t.id===null){this.notification.set({tipo:"error",mensaje:"No se ha seleccionado un turno v\xE1lido para guardar las notas."});return}let n=this.currentNotes();console.log(`DEBUG [saveNotes]: Guardando notas para turno ID ${t.id}:`,n);try{yield this.turnosService.updateAppointmentNotes(t.id,n),this.closeNotesModal(),this.notification.set({tipo:"success",mensaje:"Notas guardadas exitosamente."}),yield this.turnosService.refreshCurrentDayAppointments()}catch(r){console.error("ERROR [saveNotes]: Error al guardar las notas:",r),this.notification.set({tipo:"error",mensaje:"Error al guardar las notas."})}})}showNotification(t,n){this.notification.set({tipo:t,mensaje:n}),setTimeout(()=>this.notification.set(null),3e3)}clearNotification(){this.notification.set(null)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-turnos-history"]],decls:17,vars:5,consts:[[1,"app-container"],["class","notification-area",4,"ngIf"],[1,"history-container"],[1,"section-header"],[1,"material-symbols-outlined","header-icon"],[1,"search-bar"],["type","text","placeholder","Buscar por paciente, fecha o estado...",1,"form-input","search-input",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary","search-button",3,"click"],[1,"material-symbols-outlined","btn-icon"],["class","loading-indicator",4,"ngIf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"notification-area"],["role","alert",1,"notification-card",3,"ngClass"],[1,"material-symbols-outlined","notification-icon"],[1,"notification-message"],[1,"notification-close-btn",3,"click"],[1,"material-symbols-outlined"],[1,"loading-indicator"],[1,"spinner"],[1,"loading-text"],["class","empty-state",4,"ngIf"],["class","appointment-list",4,"ngIf"],["class","pagination-controls",4,"ngIf"],[1,"empty-state"],[1,"material-symbols-outlined","empty-state-icon"],[1,"empty-state-title"],[1,"empty-state-message"],[1,"appointment-list"],["class","appointment-item",4,"ngFor","ngForOf"],[1,"appointment-item"],[1,"appointment-details"],[1,"appointment-patient-info"],[1,"material-symbols-outlined","appointment-icon"],["class","patient-info-link",3,"routerLink",4,"ngIf"],[1,"appointment-date-time"],[1,"appointment-duration"],[1,"appointment-status"],[3,"ngClass"],[1,"button-group"],[1,"btn","btn-purple",3,"click"],[1,"patient-info-link",3,"routerLink"],[1,"pagination-controls"],[1,"btn","btn-secondary","pagination-btn",3,"click","disabled"],[1,"page-info"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-appointment-info"],["rows","8","placeholder","Escribe aqu\xED las notas de la sesi\xF3n...","name","currentNotes",1,"modal-textarea",3,"ngModelChange","ngModel"],[1,"button-group","modal-button-group"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(n,r){n&1&&(u(0,"div",0),ue(1,"app-header"),N(2,AN,9,7,"div",1),u(3,"div",2)(4,"h2",3)(5,"span",4),c(6,"history"),d(),c(7," Historial Completo de Turnos "),d(),u(8,"div",5)(9,"input",6),je("ngModelChange",function(i){return $e(r.searchQuery,i)||(r.searchQuery=i),i}),_("input",function(){return r.applyFilter()}),d(),u(10,"button",7),_("click",function(){return r.applyFilter()}),u(11,"span",8),c(12,"search"),d(),c(13,"Buscar "),d()(),N(14,wN,4,0,"div",9)(15,NN,4,3,"ng-container",10),d(),N(16,ON,28,9,"div",11),d()),n&2&&(m(2),C("ngIf",r.notification()),m(7),Ve("ngModel",r.searchQuery),m(5),C("ngIf",r.loading()),m(),C("ngIf",!r.loading()),m(),C("ngIf",r.showNotesModal()))},dependencies:[Se,Ut,qe,ze,Pn,un,ir,sr,Fn,Mt,cn,St],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--background-light),#e0e7ff);padding:1rem;font-family:Inter,sans-serif;color:var(--text-dark)}@media (min-width: 640px){.app-container[_ngcontent-%COMP%]{padding:1.5rem}}@media (min-width: 1024px){.app-container[_ngcontent-%COMP%]{padding:2rem}}.history-container[_ngcontent-%COMP%]{max-width:72rem;margin:4.5rem auto 2rem;padding:1.5rem;background-color:var(--card-background);border-radius:1rem;box-shadow:0 20px 25px -5px var(--shadow-color),0 10px 10px -5px #0000000a;overflow:hidden;border:1px solid var(--border-color)}@media (min-width: 640px){.history-container[_ngcontent-%COMP%]{padding:2rem}}.section-header[_ngcontent-%COMP%]{font-size:1.575rem;margin-bottom:1rem;color:var(--color-header);font-weight:600;padding-bottom:.5rem;border-bottom:1px solid #eee;display:flex;align-items:center;gap:.5rem;justify-self:center}.section-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:2.25rem;color:var(--color-header)}.search-bar[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:2rem;align-items:center;flex-wrap:wrap}.search-input[_ngcontent-%COMP%]{flex-grow:1;min-width:200px;padding:.625rem 1rem;border:1px solid var(--border-color);border-radius:.5rem;box-shadow:0 1px 2px #0000000d;font-size:1rem;transition:all .15s ease-in-out;color:var(--text-dark)}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px #237ab540}.search-button[_ngcontent-%COMP%]{flex-shrink:0}.empty-state[_ngcontent-%COMP%]{text-align:center;color:var(--text-light);padding:2.5rem;border:2px dashed var(--border-color);border-radius:.5rem;background-color:#f9fafb;margin-top:1.5rem}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#cbd5e0;margin-bottom:1rem}.empty-state-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.empty-state-message[_ngcontent-%COMP%]{font-size:1rem;margin-top:.5rem}.appointment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem;margin-top:1.5rem}.appointment-item[_ngcontent-%COMP%]{background-color:var(--card-background);padding:1.25rem;border-radius:.5rem;box-shadow:0 1px 3px #0006,0 1px 2px #0000000f;border:1px solid #F3F4F6;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;transition:all .2s ease-in-out}.appointment-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0006,0 2px 4px -1px #0000000d;border-color:#b9cde7}@media (min-width: 768px){.appointment-item[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:2rem;padding:1.5rem 1.25rem}}.appointment-details[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:.75rem;display:flex;flex-direction:column;gap:.75rem;padding:.5rem 0}@media (min-width: 768px){.appointment-details[_ngcontent-%COMP%]{margin-bottom:0;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));grid-auto-rows:minmax(min-content,max-content);gap:1.5rem 2rem;align-items:center}}.appointment-patient-info[_ngcontent-%COMP%], .appointment-date-time[_ngcontent-%COMP%], .appointment-duration[_ngcontent-%COMP%], .appointment-status[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1rem;color:var(--text-dark);white-space:normal;padding:.25rem .5rem}.appointment-date-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{margin-left:.5rem}.appointment-patient-info[_ngcontent-%COMP%]{font-weight:600}.patient-info-link[_ngcontent-%COMP%]{color:var(--primary-blue);text-decoration:none;font-weight:600;transition:color .2s ease;margin-left:.25rem}.patient-info-link[_ngcontent-%COMP%]:hover{color:var(--dark-blue);text-decoration:underline}.appointment-date-time[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;display:flex;align-items:center}.appointment-icon[_ngcontent-%COMP%]{color:var(--primary-blue);font-size:1.25rem;vertical-align:middle;margin-right:.5rem}.appointment-date-time[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:nth-of-type(2){margin-left:1rem}.appointment-duration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .appointment-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.appointment-status[_ngcontent-%COMP%]   .status-confirmed[_ngcontent-%COMP%]{color:var(--success-green);font-weight:700}.appointment-status[_ngcontent-%COMP%]   .status-in-progress[_ngcontent-%COMP%]{color:var(--warning-yellow);font-weight:700}.appointment-status[_ngcontent-%COMP%]   .status-cancelled[_ngcontent-%COMP%]{color:var(--error-red);font-weight:700}.appointment-status[_ngcontent-%COMP%]   .status-blocked[_ngcontent-%COMP%]{color:var(--secondary-gray);font-weight:700}.appointment-status[_ngcontent-%COMP%]   .status-completed[_ngcontent-%COMP%]{color:var(--primary-blue);font-weight:700}.appointment-status[_ngcontent-%COMP%]   .status-realizado[_ngcontent-%COMP%]{color:#2aa446;font-weight:700}.button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:1rem;flex-wrap:wrap;justify-content:flex-start}@media (min-width: 768px){.button-group[_ngcontent-%COMP%]{margin-top:0;justify-content:flex-end}}.btn[_ngcontent-%COMP%]{padding:.625rem 1.5rem;border-radius:9999px;font-weight:600;text-align:center;cursor:pointer;display:flex;align-items:center;transition:all .3s ease-in-out;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:none}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--primary-blue)}.btn-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.25rem}.btn-primary[_ngcontent-%COMP%]{background:var(--dark-blue);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-blue)}.btn-primary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--primary-blue)}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(to right,var(--success-green),var(--light-success-green));color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,var(--light-success-green),var(--success-green))}.btn-success[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--success-green)}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--error-red);color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--light-error-red)}.btn-secondary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--secondary-gray)}.btn-purple[_ngcontent-%COMP%]{background:var(--light-purple);color:#fff}.btn-purple[_ngcontent-%COMP%]:hover{background:var(--purple)}.btn-purple[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px var(--purple)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0009;display:flex;align-items:center;justify-content:center;padding:1rem;z-index:50;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}.modal-content[_ngcontent-%COMP%]{background-color:var(--card-background);border-radius:1rem;box-shadow:0 20px 25px -5px var(--shadow-color),0 10px 10px -5px #0000000a;padding:2rem;width:100%;max-width:28rem;transform:scale(.95);animation:_ngcontent-%COMP%_scaleIn .3s ease-out forwards}.modal-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-dark);margin-bottom:1rem}.modal-appointment-info[_ngcontent-%COMP%]{color:var(--text-medium);margin-bottom:1.5rem}.modal-appointment-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.modal-textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;border:1px solid var(--border-color);border-radius:.5rem;font-size:1rem;color:var(--text-dark);resize:vertical;box-shadow:0 1px 2px #0000000d;transition:all .15s ease-in-out}.modal-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-blue);box-shadow:0 0 0 3px #237ab540}.modal-button-group[_ngcontent-%COMP%]{margin-top:2rem}.notification-area[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:50}.notification-card[_ngcontent-%COMP%]{color:#fff;padding:.75rem 1.5rem;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;display:flex;align-items:center;gap:.75rem;transform:translate(100%);animation:_ngcontent-%COMP%_slideInRight .3s ease-out forwards}.notification-icon[_ngcontent-%COMP%]{font-size:1.5rem}.notification-message[_ngcontent-%COMP%]{font-weight:600}.notification-close-btn[_ngcontent-%COMP%]{margin-left:auto;color:#fff;background:none;border:none;cursor:pointer;opacity:.7;transition:opacity .2s ease-in-out}.notification-close-btn[_ngcontent-%COMP%]:hover{opacity:1}.notification-success[_ngcontent-%COMP%]{background-color:var(--success-green)}.notification-error[_ngcontent-%COMP%]{background-color:var(--error-red)}.notification-info[_ngcontent-%COMP%]{background-color:var(--primary-blue)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.95);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.loading-indicator[_ngcontent-%COMP%]{text-align:center;padding:4rem;color:var(--text-medium)}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-top:4px solid var(--primary-blue);border-radius:50%;width:3rem;height:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;gap:10px;font-family:Inter,sans-serif}.pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 16px;font-size:14px;font-weight:500;color:#495057;background-color:#e9ecef;border:1px solid #ced4da;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .2s ease,box-shadow .2s ease}.pagination-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px;margin-right:5px;transition:transform .2s ease}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#dee2e6;transform:translateY(-2px);box-shadow:0 4px 6px #0000001a}.pagination-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:#f8f9fa;color:#adb5bd;border-color:#e9ecef;transform:none;box-shadow:none}.page-info[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#495057;white-space:nowrap}"]})};function RN(e,t){if(e&1){let n=U();u(0,"button",7),_("click",function(){w(n);let o=y().$implicit,i=y();return x(i.goToPage(o))}),c(1),d()}if(e&2){let n=y().$implicit,r=y();Oe("active",r.currentPage()===n),m(),ne(" ",n," ")}}function kN(e,t){e&1&&(u(0,"span",8),c(1,"..."),d())}function FN(e,t){if(e&1&&(J(0),N(1,RN,2,3,"button",6)(2,kN,2,0,"ng-template",null,0,Vv),ee()),e&2){let n=t.$implicit,r=Tv(3);m(),C("ngIf",n!=="...")("ngIfElse",r)}}var Pc=class e{currentPage;totalPages;itemsPerPage=D(10);pageChange=new he;pageNumbers=re(()=>{let t=[],n=this.currentPage(),r=this.totalPages(),o=2,i=Math.max(1,n-o),s=Math.min(r,n+o);for(let a=i;a<=s;a++)t.push(a);return i>1&&t.unshift(1,"..."),s<r&&t.push("...",r),t});goToPage(t){typeof t=="number"&&t>=1&&t<=this.totalPages()&&this.pageChange.emit(t)}nextPage(){this.currentPage()<this.totalPages()&&this.pageChange.emit(this.currentPage()+1)}prevPage(){this.currentPage()>1&&this.pageChange.emit(this.currentPage()-1)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-paginator"]],inputs:{currentPage:"currentPage",totalPages:"totalPages",itemsPerPage:"itemsPerPage"},outputs:{pageChange:"pageChange"},decls:11,vars:3,consts:[["dots",""],[1,"pagination-container"],[1,"pagination-btn",3,"click","disabled"],[1,"material-symbols-outlined"],[1,"page-numbers-group"],[4,"ngFor","ngForOf"],["class","page-number-btn",3,"active","click",4,"ngIf","ngIfElse"],[1,"page-number-btn",3,"click"],[1,"dots"]],template:function(n,r){n&1&&(u(0,"nav",1)(1,"button",2),_("click",function(){return r.prevPage()}),u(2,"span",3),c(3,"chevron_left"),d(),c(4," Anterior "),d(),u(5,"div",4),N(6,FN,4,2,"ng-container",5),d(),u(7,"button",2),_("click",function(){return r.nextPage()}),c(8," Siguiente "),u(9,"span",3),c(10,"chevron_right"),d()()()),n&2&&(m(),C("disabled",r.currentPage()===1),m(5),C("ngForOf",r.pageNumbers()),m(),C("disabled",r.currentPage()===r.totalPages()))},dependencies:[Se,qe,ze],styles:[".pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;padding:1rem 0;margin-top:1rem;background-color:#f7f9fc;border-radius:12px;box-shadow:0 2px 4px #0000000d}.pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem 1rem;border-radius:8px;border:1px solid #e2e8f0;background-color:#fff;color:#4a5568;font-weight:500;cursor:pointer;transition:all .2s ease-in-out}.pagination-btn[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#f0f4f8;border-color:#cbd5e1}.pagination-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6;background-color:#f7f9fc;color:#a0aec0}.page-numbers-group[_ngcontent-%COMP%]{display:flex;gap:.25rem}.page-number-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:1px solid #e2e8f0;background-color:#fff;color:#4a5568;font-weight:500;cursor:pointer;transition:all .2s ease-in-out}.page-number-btn[_ngcontent-%COMP%]:hover:not(.active){background-color:#f0f4f8}.page-number-btn.active[_ngcontent-%COMP%]{background-color:#4a90e2;color:#fff;border-color:#4a90e2;font-weight:700}.dots[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;color:#a0aec0}"]})};var Nc=class e{constructor(t){this.http=t}apiUrl=dn.apiBaseUrl+"/reports";generateReport(t){return this.http.post(`${this.apiUrl}/generate`,t).pipe(se(this.handleError))}getAllReportMetadata(){return this.http.get(this.apiUrl).pipe(se(this.handleError))}downloadReport(t){let n=`${this.apiUrl}/download/${t}`;return this.http.get(n,{responseType:"blob"})}handleError(t){if(t.error instanceof ErrorEvent)console.error("Ocurri\xF3 un error:",t.error.message);else{let n=t.error?.error||`Backend returned code ${t.status}, body was: ${t.error}`;console.error(n)}return Fe(()=>new Error("Algo sali\xF3 mal; por favor, int\xE9ntelo de nuevo m\xE1s tarde."))}static \u0275fac=function(n){return new(n||e)(O(wt))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var VN=(e,t,n)=>({"notification-success":e,"notification-error":t,"notification-info":n}),jN=(e,t)=>({"pdf-badge":e,"excel-badge":t});function BN(e,t){if(e&1){let n=U();u(0,"div",17),c(1," \xA0 \xA0 "),u(2,"div",18),c(3," \xA0 \xA0 \xA0 "),u(4,"span",19),c(5),d(),c(6," \xA0 \xA0 \xA0 "),u(7,"p",20),c(8),d(),c(9," \xA0 \xA0 \xA0 "),u(10,"button",21),_("click",function(){w(n);let o=y();return x(o.clearNotification())}),c(11," \xA0 \xA0 \xA0 \xA0 "),u(12,"span",22),c(13,"close"),d(),c(14," \xA0 \xA0 \xA0 "),d(),c(15," \xA0 \xA0 "),d(),c(16," \xA0 "),d()}if(e&2){let n,r,o,i=y();m(2),C("ngClass",So(3,VN,((n=i.notification())==null?null:n.tipo)==="success",((n=i.notification())==null?null:n.tipo)==="error",((n=i.notification())==null?null:n.tipo)==="info")),m(3),ne(" \xA0 \xA0 \xA0 \xA0 ",((r=i.notification())==null?null:r.tipo)==="success"?"check_circle":((r=i.notification())==null?null:r.tipo)==="error"?"error":"info"," \xA0 \xA0 \xA0 "),m(3),B((o=i.notification())==null?null:o.mensaje)}}function UN(e,t){e&1&&(u(0,"div",23),c(1," \xA0 \xA0 \xA0 "),ue(2,"div",24),c(3," \xA0 \xA0 \xA0 "),u(4,"p",25),c(5,"Generando reporte..."),d(),c(6," \xA0 \xA0 "),d())}function $N(e,t){if(e&1){let n=U();u(0,"div",26),c(1," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(2," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(3,"div",27),c(4," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(5,"span",28),c(6,"Total de Pacientes"),d(),c(7," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(8,"div",29),c(9," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(10,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.PACIENTES_TOTAL,o.ReportFormat.PDF))}),c(11," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(12,"span",31),c(13,"picture_as_pdf"),d(),c(14,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(15," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(16,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.PACIENTES_TOTAL,o.ReportFormat.EXCEL))}),c(17," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(18,"span",31),c(19,"table_chart"),d(),c(20,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(21," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(22," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(23," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(24," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(25,"div",27),c(26," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(27,"span",28),c(28,"Paciente con M\xE1s Turnos"),d(),c(29," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(30,"div",29),c(31," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(32,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.PACIENTE_MAS_TURNOS,o.ReportFormat.PDF))}),c(33," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(34,"span",31),c(35,"picture_as_pdf"),d(),c(36,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(37," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(38,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.PACIENTE_MAS_TURNOS,o.ReportFormat.EXCEL))}),c(39," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(40,"span",31),c(41,"table_chart"),d(),c(42,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(43," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(44," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(45," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(46," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(47,"div",27),c(48," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(49,"span",28),c(50,"Cantidad de turnos este mes"),d(),c(51," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(52,"div",29),c(53," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(54,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.CANT_TURNOS_MES,o.ReportFormat.PDF))}),c(55," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(56,"span",31),c(57,"picture_as_pdf"),d(),c(58,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(59," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(60,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.CANT_TURNOS_MES,o.ReportFormat.EXCEL))}),c(61," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(62,"span",31),c(63,"table_chart"),d(),c(64,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(65," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(66," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(67," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(68," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(69,"div",27),c(70," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(71,"span",28),c(72,"Paciente con M\xE1s Turnos (Mes)"),d(),c(73," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(74,"div",29),c(75," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(76,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.PACIENTE_MAS_TURNOS_MES,o.ReportFormat.PDF))}),c(77," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(78,"span",31),c(79,"picture_as_pdf"),d(),c(80,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(81," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(82,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.PACIENTE_MAS_TURNOS_MES,o.ReportFormat.EXCEL))}),c(83," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(84,"span",31),c(85,"table_chart"),d(),c(86,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(87," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(88," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(89," \xA0 \xA0 \xA0 \xA0 "),d()}}function HN(e,t){if(e&1){let n=U();u(0,"div",26),c(1," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(2," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(3,"div",27),c(4," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(5,"span",28),c(6,"D\xEDa con Mayor Cant. de Turnos"),d(),c(7," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(8,"div",29),c(9," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(10,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.DIA_MAYOR_CANT_TURNOS,o.ReportFormat.PDF))}),c(11," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(12,"span",31),c(13,"picture_as_pdf"),d(),c(14,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(15," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(16,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.DIA_MAYOR_CANT_TURNOS,o.ReportFormat.EXCEL))}),c(17," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(18,"span",31),c(19,"table_chart"),d(),c(20,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(21," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(22," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(23," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(24," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(25,"div",27),c(26," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(27,"span",28),c(28,"Turnos para un D\xEDa Espec\xEDfico"),d(),c(29," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(30,"div",29),c(31," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(32,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_DIA_DADO,o.ReportFormat.PDF))}),c(33," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(34,"span",31),c(35,"picture_as_pdf"),d(),c(36,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(37," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(38,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_DIA_DADO,o.ReportFormat.EXCEL))}),c(39," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(40,"span",31),c(41,"table_chart"),d(),c(42,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(43," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(44," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(45," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(46," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(47,"div",27),c(48," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(49,"span",28),c(50,"Turnos en un Rango de Fechas"),d(),c(51," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(52,"div",29),c(53," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(54,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_RANGO_FECHAS,o.ReportFormat.PDF))}),c(55," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(56,"span",31),c(57,"picture_as_pdf"),d(),c(58,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(59," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(60,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_RANGO_FECHAS,o.ReportFormat.EXCEL))}),c(61," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(62,"span",31),c(63,"table_chart"),d(),c(64,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(65," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(66," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(67," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(68," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(69,"div",27),c(70," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(71,"span",28),c(72,"Total de Turnos Cancelados"),d(),c(73," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(74,"div",29),c(75," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(76,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_CANCELADOS_TOTAL,o.ReportFormat.PDF))}),c(77," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(78,"span",31),c(79,"picture_as_pdf"),d(),c(80,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(81," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(82,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_CANCELADOS_TOTAL,o.ReportFormat.EXCEL))}),c(83," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(84,"span",31),c(85,"table_chart"),d(),c(86,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(87," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(88," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(89," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(90," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(91,"div",27),c(92," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(93,"span",28),c(94,"Total de Turnos Realizados"),d(),c(95," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(96,"div",29),c(97," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(98,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_REALIZADOS_TOTAL,o.ReportFormat.PDF))}),c(99," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(100,"span",31),c(101,"picture_as_pdf"),d(),c(102,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(103," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(104,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_REALIZADOS_TOTAL,o.ReportFormat.EXCEL))}),c(105," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(106,"span",31),c(107,"table_chart"),d(),c(108,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(109," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(110," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(111," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(112," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(113,"div",27),c(114," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(115,"span",28),c(116,"Promedio Duraci\xF3n de Turnos"),d(),c(117," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(118,"div",29),c(119," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(120,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.PROMEDIO_DURACION_TURNOS,o.ReportFormat.PDF))}),c(121," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(122,"span",31),c(123,"picture_as_pdf"),d(),c(124,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(125," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(126,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.PROMEDIO_DURACION_TURNOS,o.ReportFormat.EXCEL))}),c(127," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(128,"span",31),c(129,"table_chart"),d(),c(130,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(131," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(132," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(133," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(134," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(135,"div",27),c(136," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(137,"span",28),c(138,"Turnos del Mes Actual"),d(),c(139," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(140,"div",29),c(141," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(142,"button",30),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_MES_ACTUAL,o.ReportFormat.PDF))}),c(143," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(144,"span",31),c(145,"picture_as_pdf"),d(),c(146,"PDF \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(147," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(148,"button",32),_("click",function(){w(n);let o=y();return x(o.openReportParamsModal(o.ReportType.TURNOS_MES_ACTUAL,o.ReportFormat.EXCEL))}),c(149," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(150,"span",31),c(151,"table_chart"),d(),c(152,"Excel \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(153," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(154," \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(155," \xA0 \xA0 \xA0 \xA0 "),d()}}function zN(e,t){if(e&1&&(u(0,"p",47),c(1),Ee(2,"date"),d()),e&2){let n=y(3);m(),ne(" \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 Fecha seleccionada: ",He(2,1,n.modalParamStartDate(),"fullDate")," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 ")}}function GN(e,t){if(e&1){let n=U();J(0),c(1," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(2,"div",44),c(3," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(4,"label"),c(5,"Seleccionar Fecha:"),d(),c(6," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(7,"app-calendar",45),_("dateSelected",function(o){w(n);let i=y(2);return x(i.onModalDateSelected(o,"startDate"))}),d(),c(8," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),N(9,zN,3,4,"p",46),c(10," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(11," \xA0 \xA0 \xA0 \xA0 \xA0 "),ee()}if(e&2){let n=y(2);m(7),C("initialDate",n.modalParamStartDate()||void 0)("showToggle",!1)("allowAnyDate",!0),m(2),C("ngIf",n.modalParamStartDate())}}function qN(e,t){if(e&1&&(u(0,"p",47),c(1),Ee(2,"date"),d()),e&2){let n=y(3);m(),ne(" \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 Inicio: ",He(2,1,n.modalParamStartDate(),"dd/MM/yyyy")," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 ")}}function WN(e,t){if(e&1&&(u(0,"p",47),c(1),Ee(2,"date"),d()),e&2){let n=y(3);m(),ne(" \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 Fin: ",He(2,1,n.modalParamEndDate(),"dd/MM/yyyy")," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 ")}}function ZN(e,t){if(e&1){let n=U();J(0),c(1," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(2,"div",44),c(3," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(4,"label"),c(5,"Fecha de Inicio:"),d(),c(6," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(7,"app-calendar",45),_("dateSelected",function(o){w(n);let i=y(2);return x(i.onModalDateSelected(o,"startDate"))}),d(),c(8," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),N(9,qN,3,4,"p",46),c(10," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(11," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(12,"div",44),c(13," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(14,"label"),c(15,"Fecha de Fin:"),d(),c(16," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),u(17,"app-calendar",45),_("dateSelected",function(o){w(n);let i=y(2);return x(i.onModalDateSelected(o,"endDate"))}),d(),c(18," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),N(19,WN,3,4,"p",46),c(20," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(21," \xA0 \xA0 \xA0 \xA0 \xA0 "),ee()}if(e&2){let n=y(2);m(7),C("initialDate",n.modalParamStartDate()||void 0)("showToggle",!1)("allowAnyDate",!0),m(2),C("ngIf",n.modalParamStartDate()),m(8),C("initialDate",n.modalParamEndDate()||void 0)("showToggle",!1)("allowAnyDate",!0),m(2),C("ngIf",n.modalParamEndDate())}}function YN(e,t){if(e&1){let n=U();u(0,"div",33),c(1," \xA0 \xA0 "),u(2,"div",34),c(3," \xA0 \xA0 \xA0 "),u(4,"div",35),c(5," \xA0 \xA0 \xA0 \xA0 "),u(6,"h2"),c(7,"Par\xE1metros del Reporte"),d(),c(8," \xA0 \xA0 \xA0 \xA0 "),u(9,"button",36),_("click",function(){w(n);let o=y();return x(o.closeReportParamsModal())}),c(10," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(11,"span",22),c(12,"close"),d(),c(13," \xA0 \xA0 \xA0 \xA0 "),d(),c(14," \xA0 \xA0 \xA0 "),d(),c(15," \xA0 \xA0 \xA0 "),u(16,"div",37),c(17," \xA0 \xA0 \xA0 \xA0 "),u(18,"p",38),c(19," \xA0 \xA0 \xA0 \xA0 \xA0 Generando reporte: "),u(20,"strong"),c(21),Ee(22,"titlecase"),d(),c(23," en formato "),u(24,"strong"),c(25),d(),c(26," \xA0 \xA0 \xA0 \xA0 "),d(),c(27," \xA0 \xA0 \xA0 \xA0 "),c(28," \xA0 \xA0 \xA0 \xA0 "),u(29,"div",39),c(30," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(31," \xA0 \xA0 \xA0 \xA0 \xA0 "),N(32,GN,12,4,"ng-container",40),c(33," \xA0 \xA0 \xA0 \xA0 \xA0 "),c(34," \xA0 \xA0 \xA0 \xA0 \xA0 "),N(35,ZN,22,8,"ng-container",40),c(36," \xA0 \xA0 \xA0 \xA0 "),d(),c(37," \xA0 \xA0 \xA0 "),d(),c(38," \xA0 \xA0 \xA0 "),u(39,"div",41),c(40," \xA0 \xA0 \xA0 \xA0 "),u(41,"button",42),_("click",function(){w(n);let o=y();return x(o.closeReportParamsModal())}),c(42," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(43,"span",31),c(44,"cancel"),d(),c(45,"Cancelar \xA0 \xA0 \xA0 \xA0 "),d(),c(46," \xA0 \xA0 \xA0 \xA0 "),u(47,"button",43),_("click",function(){w(n);let o=y();return x(o.confirmGenerateReport())}),c(48," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(49,"span",31),c(50,"download"),d(),c(51,"Generar Reporte \xA0 \xA0 \xA0 \xA0 "),d(),c(52," \xA0 \xA0 \xA0 "),d(),c(53," \xA0 \xA0 "),d(),c(54," \xA0 "),d()}if(e&2){let n=y();m(21),B(Io(22,5,n.currentReportType())),m(4),B(n.currentReportFormat()),m(7),C("ngIf",n.getRequiredParams().includes("singleDate")),m(3),C("ngIf",n.getRequiredParams().includes("startDate")&&n.getRequiredParams().includes("endDate")),m(12),C("disabled",!n.isFormValid())}}function QN(e,t){e&1&&(u(0,"div",48),c(1," \xA0 \xA0 \xA0 "),u(2,"p"),c(3,"No se han generado reportes a\xFAn."),d(),c(4," \xA0 \xA0 "),d())}function KN(e,t){if(e&1){let n=U();u(0,"div",51),c(1," \xA0 \xA0 \xA0 \xA0 "),u(2,"div",52),c(3," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(4,"p",53),c(5),d(),c(6," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(7,"span",54),c(8),Ee(9,"date"),u(10,"span",55),c(11),d(),c(12,") \xA0 \xA0 \xA0 \xA0 \xA0 "),d(),c(13," \xA0 \xA0 \xA0 \xA0 "),d(),c(14," \xA0 \xA0 \xA0 \xA0 "),u(15,"button",56),_("click",function(){let o=w(n).$implicit,i=y(2);return x(i.downloadReport(o.id,i.StringToEnum(o.format)))}),c(16," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(17,"span",31),c(18,"cloud_download"),d(),c(19,"Descargar \xA0 \xA0 \xA0 \xA0 "),d(),c(20," \xA0 \xA0 \xA0 "),d()}if(e&2){let n=t.$implicit;m(5),B(n.professionalEmail),m(3),ne(" \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 Generado el ",He(9,4,n.date,"longDate")," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 ("),m(2),C("ngClass",ul(7,jN,n.format==="PDF",n.format==="EXCEL")),m(),B(n.format)}}function XN(e,t){if(e&1&&(u(0,"div",49),c(1," \xA0 \xA0 \xA0 "),c(2," \xA0 \xA0 \xA0 "),N(3,KN,21,10,"div",50),c(4," \xA0 \xA0 "),d()),e&2){let n=y();m(3),C("ngForOf",n.paginatedReports())}}var pC=(h=>(h.PACIENTES_TOTAL="PACIENTES_TOTAL",h.PACIENTE_MAS_TURNOS="PACIENTE_MAS_TURNOS",h.PACIENTE_MAS_TURNOS_MES="PACIENTE_MAS_TURNOS_MES",h.CANT_TURNOS_MES="CANT_TURNOS_MES",h.TURNOS_DIA_DADO="TURNOS_DIA_DADO",h.TURNOS_CANCELADOS_TOTAL="TURNOS_CANCELADOS_TOTAL",h.TURNOS_REALIZADOS_TOTAL="TURNOS_REALIZADOS_TOTAL",h.PROMEDIO_DURACION_TURNOS="PROMEDIO_DURACION_TURNOS",h.TURNOS_MES_ACTUAL="TURNOS_MES_ACTUAL",h.TURNOS_RANGO_FECHAS="TURNOS_RANGO_FECHAS",h.DIA_MAYOR_CANT_TURNOS="DIA_MAYOR_CANT_TURNOS",h))(pC||{}),hC=(n=>(n.PDF="PDF",n.EXCEL="EXCEL",n))(hC||{}),Oc=class e{constructor(t){this.reportService=t}StringToEnum(t){if(t==="PDF")return"PDF";if(t==="EXCEL")return"EXCEL";throw new Error(`Invalid ReportFormat: ${t}`)}loading=D(!1);allReports=D([]);notification=D(null);currentPage=D(1);itemsPerPage=D(5);totalPages=re(()=>Math.ceil(this.allReports().length/this.itemsPerPage()));paginatedReports=re(()=>{let t=(this.currentPage()-1)*this.itemsPerPage(),n=t+this.itemsPerPage();return this.allReports().slice(t,n)});ReportType=pC;ReportFormat=hC;isPatientsExpanded=D(!0);isAppointmentsExpanded=D(!0);isDatesExpanded=D(!0);showReportParamsModal=D(!1);currentReportType=D(null);currentReportFormat=D(null);modalParamStartDate=D(null);modalParamEndDate=D(null);ngOnInit(){this.fetchReports()}fetchReports(){this.loading.set(!0),this.reportService.getAllReportMetadata().subscribe({next:t=>{this.allReports.set(t),this.loading.set(!1),this.currentPage.set(1)},error:t=>{this.showNotification("error","Error al cargar la lista de reportes."),this.loading.set(!1),console.error(t)}})}onPageChange(t){this.currentPage.set(t)}toggleCategory(t){t==="patients"?this.isPatientsExpanded.update(n=>!n):t==="appointments"?this.isAppointmentsExpanded.update(n=>!n):this.isDatesExpanded.update(n=>!n)}getRequiredParams=re(()=>{let t=this.currentReportType();if(!t)return[];switch(t){case"PACIENTES_TOTAL":return[];case"PACIENTE_MAS_TURNOS":return[];case"CANT_TURNOS_MES":return["singleDate"];case"TURNOS_CANCELADOS_TOTAL":return[];case"TURNOS_REALIZADOS_TOTAL":return[];case"PROMEDIO_DURACION_TURNOS":return[];case"PACIENTE_MAS_TURNOS_MES":case"TURNOS_DIA_DADO":return["singleDate"];case"TURNOS_MES_ACTUAL":return[];case"DIA_MAYOR_CANT_TURNOS":return[];case"TURNOS_RANGO_FECHAS":return["startDate","endDate"];default:return[]}});isFormValid=re(()=>{let t=this.getRequiredParams();if(t.length===0)return!0;if(t.includes("singleDate")&&this.modalParamStartDate()===null||t.includes("startDate")&&this.modalParamStartDate()===null||t.includes("endDate")&&this.modalParamEndDate()===null)return!1;let n=this.modalParamStartDate(),r=this.modalParamEndDate();return!(n&&r&&r<n)});openReportParamsModal(t,n){this.currentReportType.set(t),this.currentReportFormat.set(n),this.modalParamStartDate.set(null),this.modalParamEndDate.set(null),this.getRequiredParams().includes("singleDate")&&this.modalParamStartDate.set(new Date),this.showReportParamsModal.set(!0)}onModalDateSelected(t,n){n==="startDate"?this.modalParamStartDate.set(t):n==="endDate"&&this.modalParamEndDate.set(t)}closeReportParamsModal(){this.showReportParamsModal.set(!1),this.currentReportType.set(null),this.currentReportFormat.set(null),this.clearNotification()}confirmGenerateReport(){if(!this.isFormValid()){this.showNotification("error","Por favor, complete todos los par\xE1metros requeridos.");return}let t=this.currentReportType(),n=this.currentReportFormat();if(!t||!n){this.showNotification("error","No se pudo determinar el tipo o formato del reporte. Por favor, intente de nuevo."),this.closeReportParamsModal();return}this.loading.set(!0),this.showNotification("info","Generando reporte...");let r={reportType:t,reportFormat:n,professionalId:1},o=this.modalParamStartDate()?.toISOString().split("T")[0],i=this.modalParamEndDate()?.toISOString().split("T")[0],s=this.getRequiredParams();s.includes("singleDate")&&o?r.startDate=o:s.includes("startDate")&&o&&i&&(r.startDate=o,r.endDate=i),this.reportService.generateReport(r).subscribe({next:a=>{this.showNotification("success",a.message),console.log(`Reporte generado con \xE9xito. Intentando descargar el archivo con ID: ${a.reportId}`),this.downloadReport(a.reportId,n),this.closeReportParamsModal(),this.fetchReports()},error:a=>{this.showNotification("error",`Error al generar el reporte: ${a.error?.message||"Error desconocido"}`),this.loading.set(!1),console.error(a)},complete:()=>{this.loading.set(!1)}})}downloadReport(t,n){this.showNotification("info","Iniciando descarga..."),this.reportService.downloadReport(t).subscribe({next:r=>{let o=document.createElement("a"),i=URL.createObjectURL(r);o.href=i,o.download=`reporte-${t}.${n.toLowerCase()}`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i),this.showNotification("success","Reporte descargado exitosamente.")},error:r=>{this.showNotification("error","Error al descargar el reporte."),console.error(r)},complete:()=>{this.loading.set(!1)}})}showNotification(t,n){this.notification.set({tipo:t,mensaje:n}),setTimeout(()=>this.notification.set(null),3e3)}clearNotification(){this.notification.set(null)}static \u0275fac=function(n){return new(n||e)(F(Nc))};static \u0275cmp=Ce({type:e,selectors:[["app-reports"]],decls:76,vars:11,consts:[[1,"app-container"],["class","notification-area",4,"ngIf"],[1,"reports-container"],[1,"main-header"],[1,"material-symbols-outlined","header-icon"],["class","loading-indicator",4,"ngIf"],[1,"reports-grid"],[1,"report-category-card"],[1,"category-header",3,"click"],[1,"material-symbols-outlined","toggle-icon"],["class","category-content",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"reports-generated-container"],[1,"generated-header"],["class","no-reports-message",4,"ngIf"],["class","reports-list",4,"ngIf"],[3,"pageChange","currentPage","totalPages"],[1,"notification-area"],["role","alert",1,"notification-card",3,"ngClass"],[1,"material-symbols-outlined","notification-icon"],[1,"notification-message"],[1,"notification-close-btn",3,"click"],[1,"material-symbols-outlined"],[1,"loading-indicator"],[1,"spinner"],[1,"loading-text"],[1,"category-content"],[1,"report-item"],[1,"report-name"],[1,"report-actions"],[1,"btn","btn-pdf",3,"click"],[1,"material-symbols-outlined","btn-icon"],[1,"btn","btn-excel",3,"click"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-report-info"],[1,"params-form-grid"],[4,"ngIf"],[1,"modal-footer","modal-button-group"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"form-group","full-width"],[3,"dateSelected","initialDate","showToggle","allowAnyDate"],["class","selected-date-display",4,"ngIf"],[1,"selected-date-display"],[1,"no-reports-message"],[1,"reports-list"],["class","report-generated-item",4,"ngFor","ngForOf"],[1,"report-generated-item"],[1,"report-info"],[1,"generated-report-name"],[1,"generated-report-details"],[3,"ngClass"],[1,"btn","btn-success",3,"click"]],template:function(n,r){n&1&&(u(0,"div",0),c(1," \xA0 "),ue(2,"app-header"),c(3," \xA0 "),c(4," \xA0 "),N(5,BN,17,7,"div",1),c(6," \xA0 "),u(7,"div",2),c(8," \xA0 \xA0 "),u(9,"h2",3),c(10," \xA0 \xA0 \xA0 "),u(11,"span",4),c(12,"assessment"),d(),c(13," \xA0 \xA0 \xA0 Generador de Reportes \xA0 \xA0 "),d(),c(14," \xA0 \xA0 "),c(15," \xA0 \xA0 "),N(16,UN,7,0,"div",5),c(17," \xA0 \xA0 "),u(18,"div",6),c(19," \xA0 \xA0 \xA0 "),c(20," \xA0 \xA0 \xA0 "),u(21,"div",7),c(22," \xA0 \xA0 \xA0 \xA0 "),u(23,"div",8),_("click",function(){return r.toggleCategory("patients")}),c(24," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(25,"span",4),c(26,"group"),d(),c(27," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(28,"h3"),c(29,"Reportes de Pacientes"),d(),c(30," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(31,"span",9),c(32),d(),c(33," \xA0 \xA0 \xA0 \xA0 "),d(),c(34," \xA0 \xA0 \xA0 \xA0 "),N(35,$N,90,0,"div",10),c(36," \xA0 \xA0 \xA0 "),d(),c(37," \xA0 \xA0 \xA0 "),c(38," \xA0 \xA0 \xA0 "),u(39,"div",7),c(40," \xA0 \xA0 \xA0 \xA0 "),u(41,"div",8),_("click",function(){return r.toggleCategory("appointments")}),c(42," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(43,"span",4),c(44,"event_available"),d(),c(45," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(46,"h3"),c(47,"Reportes de Turnos"),d(),c(48," \xA0 \xA0 \xA0 \xA0 \xA0 "),u(49,"span",9),c(50),d(),c(51," \xA0 \xA0 \xA0 \xA0 "),d(),c(52," \xA0 \xA0 \xA0 \xA0 "),N(53,HN,156,0,"div",10),c(54," \xA0 \xA0 \xA0 "),d(),c(55," \xA0 \xA0 "),d(),c(56," \xA0 "),d(),c(57," \xA0 "),c(58," \xA0 "),N(59,YN,55,7,"div",11),c(60," \xA0 "),c(61," \xA0 "),u(62,"div",12),c(63," \xA0 \xA0 "),u(64,"h3",13),c(65," \xA0 \xA0 \xA0 "),u(66,"span",4),c(67,"file_download"),d(),c(68," \xA0 \xA0 \xA0 Reportes Generados \xA0 \xA0 "),d(),c(69," \xA0 \xA0 "),N(70,QN,5,0,"div",14),c(71," \xA0 \xA0 "),N(72,XN,5,1,"div",15),c(73," \xA0 \xA0 "),u(74,"app-paginator",16),_("pageChange",function(i){return r.onPageChange(i)}),d(),c(75," \xA0 "),d()()),n&2&&(m(5),C("ngIf",r.notification()),m(11),C("ngIf",r.loading()),m(16),B(r.isPatientsExpanded()?"expand_less":"expand_more"),m(3),C("ngIf",r.isPatientsExpanded()),m(15),B(r.isAppointmentsExpanded()?"expand_less":"expand_more"),m(3),C("ngIf",r.isAppointmentsExpanded()),m(6),C("ngIf",r.showReportParamsModal()),m(11),C("ngIf",r.paginatedReports().length===0),m(2),C("ngIf",r.paginatedReports().length>0),m(2),C("currentPage",r.currentPage)("totalPages",r.totalPages))},dependencies:[Se,Ut,qe,ze,Ii,Pn,un,St,ar,Pc],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--background-light),#e0e7ff);padding:1rem;font-family:Inter,sans-serif;color:var(--text-dark)}@media (min-width: 640px){.app-container[_ngcontent-%COMP%]{padding:1.5rem}}@media (min-width: 1024px){.app-container[_ngcontent-%COMP%]{padding:2rem}}.reports-container[_ngcontent-%COMP%]{max-width:90rem;margin:2rem auto;padding:1.5rem;background-color:var(--card-background);border-radius:1rem;box-shadow:0 20px 25px -5px var(--shadow-color),0 10px 10px -5px #0000000a;overflow:hidden;border:1px solid var(--border-color)}@media (min-width: 640px){.reports-container[_ngcontent-%COMP%]{padding:2rem}}.main-header[_ngcontent-%COMP%]{font-size:1.575rem;margin-bottom:1rem;color:var(--color-header);font-weight:600;padding-bottom:.5rem;border-bottom:1px solid #eee;display:flex;align-items:center;justify-self:center;gap:.5rem}.main-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:2.25rem;color:var(--color-header)}.reports-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width: 768px){.reports-grid[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:wrap;gap:1.5rem}}.report-category-card[_ngcontent-%COMP%]{background-color:#f8fafc;border-radius:.75rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:1px solid #E5E7EB;overflow:hidden;display:flex;flex-direction:column}.category-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;background-color:var(--primary-blue);color:#fff;font-size:1.3rem;font-weight:700;cursor:pointer;transition:background-color .2s ease-in-out}.category-header[_ngcontent-%COMP%]:hover{background-color:var(--dark-blue)}.category-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.8rem;color:#fff;margin-right:.75rem}.category-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;flex-grow:1}.toggle-icon[_ngcontent-%COMP%]{font-size:2rem;transition:transform .3s ease-in-out}.report-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1.5rem;border-bottom:1px solid #E5E7EB;background-color:#fff}.report-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.report-name[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-dark);font-weight:500;flex-grow:1;margin-right:1rem}.report-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.btn-pdf[_ngcontent-%COMP%], .btn-excel[_ngcontent-%COMP%]{padding:.5rem .75rem;border-radius:.375rem;font-weight:600;text-align:center;cursor:pointer;display:flex;align-items:center;transition:all .2s ease-in-out;box-shadow:0 1px 2px #0000000d;border:none;font-size:.875rem}.btn-pdf[_ngcontent-%COMP%]{background-color:#dc2626;color:#fff}.btn-pdf[_ngcontent-%COMP%]:hover{background-color:#b91c1c;transform:translateY(-1px);box-shadow:0 2px 4px -1px #0000001a,0 1px 2px -1px #0000000f}.btn-excel[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.btn-excel[_ngcontent-%COMP%]:hover{background-color:#059669;transform:translateY(-1px);box-shadow:0 2px 4px -1px #0000001a,0 1px 2px -1px #0000000f}.btn-pdf[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%], .btn-excel[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:.25rem}.loading-indicator[_ngcontent-%COMP%]{text-align:center;padding:4rem;color:var(--text-medium)}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-top:4px solid var(--primary-blue);border-radius:50%;width:3rem;height:3rem;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500}.notification-area[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:50}.notification-card[_ngcontent-%COMP%]{color:#fff;padding:.75rem 1.5rem;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;display:flex;align-items:center;gap:.75rem;transform:translate(100%);animation:_ngcontent-%COMP%_slideInRight .3s ease-out forwards}.notification-icon[_ngcontent-%COMP%]{font-size:1.5rem}.notification-message[_ngcontent-%COMP%]{font-weight:600}.notification-close-btn[_ngcontent-%COMP%]{margin-left:auto;color:#fff;background:none;border:none;cursor:pointer;opacity:.7;transition:opacity .2s ease-in-out}.notification-close-btn[_ngcontent-%COMP%]:hover{opacity:1}.notification-success[_ngcontent-%COMP%]{background-color:var(--success-green)}.notification-error[_ngcontent-%COMP%]{background-color:var(--error-red)}.notification-info[_ngcontent-%COMP%]{background-color:var(--primary-blue)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.95);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.modal-button-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:1rem}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--error-red)}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#ca2f2f}.btn-secondary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 4px #ffffff80,0 0 0 6px #ca2f2f}.modal-report-info[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-dark);margin-bottom:1.5rem;text-align:center}.modal-report-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--dark-blue)}.params-form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}@media (min-width: 600px){.params-form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.params-form-grid[_ngcontent-%COMP%]   .form-group.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.selected-date-display[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.9rem;color:var(--text-medium);font-style:italic;text-align:center}app-calendar[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:.5rem auto;display:block}@media (min-width: 600px){.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-width:35rem}}"]})};function JN(e,t){if(e&1){let n=U();J(0),u(1,"h1",3),c(2,"Cancelar Turno"),d(),u(3,"p",4),c(4," \xBFEst\xE1s seguro de que deseas cancelar este turno? Esta acci\xF3n no se puede deshacer. "),d(),u(5,"form",5),_("ngSubmit",function(){w(n);let o=y();return x(o.confirmCancellation())}),u(6,"button",6),c(7," S\xED, Cancelar "),d()(),u(8,"button",7),_("click",function(){w(n);let o=y();return x(o.abortCancellation())}),c(9," No, volver "),d(),ee()}}function eO(e,t){e&1&&(J(0),ue(1,"div",8),u(2,"h1",9),c(3,"Procesando..."),d(),u(4,"p",4),c(5,"Por favor, espera un momento."),d(),ee())}function tO(e,t){if(e&1&&(J(0),u(1,"div",10),c(2,"\u2705"),d(),u(3,"h1",11),c(4,"\xA1Turno Cancelado!"),d(),u(5,"p",4),c(6),d(),u(7,"a",12),c(8,"Volver al inicio"),d(),ee()),e&2){let n=y();m(6),B(n.message)}}function nO(e,t){if(e&1&&(J(0),u(1,"div",13),c(2,"\u274C"),d(),u(3,"h1",3),c(4,"Error"),d(),u(5,"p",4),c(6),d(),u(7,"a",12),c(8,"Volver al inicio"),d(),ee()),e&2){let n=y();m(6),B(n.message)}}var Rc=class e{constructor(t,n,r){this.route=t;this.http=n;this.router=r}reminderId=null;status="initial";message="";ngOnInit(){this.route.paramMap.subscribe(t=>{this.reminderId=t.get("reminderId"),this.reminderId?console.log("Reminder ID obtenido de la URL:",this.reminderId):(this.status="error",this.message="No se encontr\xF3 un ID de recordatorio v\xE1lido en la URL.",console.error("No se encontr\xF3 reminderId en la URL."))})}confirmCancellation(){if(this.reminderId){this.status="loading";let t=`${dn.apiBaseUrl}/reminders/cancel/${this.reminderId}`;console.log("Llamando a la API para cancelar:",t),this.http.get(t).pipe(mn(()=>{console.log("Llamada a la API finalizada.")})).subscribe({next:n=>{this.status=n.status,this.message=n.message,console.log("Respuesta de la API (\xE9xito):",n),this.handlePostCancellationAction()},error:n=>{this.status="error",this.message=n.error?.message||"Ocurri\xF3 un error inesperado al cancelar.",console.error("Error en la llamada a la API:",n),this.handlePostCancellationAction()}})}else console.error("No se puede confirmar la cancelaci\xF3n: reminderId es nulo.")}abortCancellation(){console.log("Cancelaci\xF3n abortada."),this.router.navigate(["/"]);try{window.close()}catch(t){console.warn("No se pudo cerrar la pesta\xF1a autom\xE1ticamente al abortar:",t)}}handlePostCancellationAction(){try{window.opener&&!window.opener.closed?window.close():(console.warn("No se pudo cerrar la pesta\xF1a autom\xE1ticamente. Redirigiendo a la p\xE1gina principal."),this.router.navigate(["/"]))}catch(t){console.warn("Error al intentar cerrar la pesta\xF1a, redirigiendo:",t),this.router.navigate(["/"])}}static \u0275fac=function(n){return new(n||e)(F(ct),F(wt),F(ut))};static \u0275cmp=Ce({type:e,selectors:[["app-cancellation"]],decls:6,vars:4,consts:[[1,"main-container"],[1,"card"],[4,"ngIf"],[1,"card-title","text-red"],[1,"card-message"],[3,"ngSubmit"],["type","submit",1,"button-confirm"],[1,"button-abort",3,"click"],[1,"spinner"],[1,"card-title"],[1,"icon-success"],[1,"card-title","text-green"],["routerLink","/",1,"link-home"],[1,"icon-error"]],template:function(n,r){n&1&&(u(0,"div",0)(1,"div",1),N(2,JN,10,0,"ng-container",2)(3,eO,6,0,"ng-container",2)(4,tO,9,1,"ng-container",2)(5,nO,9,1,"ng-container",2),d()()),n&2&&(m(2),C("ngIf",r.status==="initial"),m(),C("ngIf",r.status==="loading"),m(),C("ngIf",r.status==="success"),m(),C("ngIf",r.status==="error"))},dependencies:[Se,ze],styles:[".main-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:1rem;background-color:#f3f4f6;font-family:Inter,sans-serif}.card[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;max-width:24rem;width:100%;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;margin-bottom:1rem}.card-title.text-red[_ngcontent-%COMP%]{color:#dc2626}.card-title.text-green[_ngcontent-%COMP%]{color:#16a34a}.card-message[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#4b5563}.button-confirm[_ngcontent-%COMP%]{width:100%;background-color:#ef4444;color:#fff;font-weight:700;padding:.75rem 1rem;border-radius:.75rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transition-duration:.3s;margin-bottom:.5rem;border:none;cursor:pointer}.button-confirm[_ngcontent-%COMP%]:hover{background-color:#dc2626}.button-abort[_ngcontent-%COMP%]{width:100%;color:#6b7280;font-weight:700;padding:.75rem 1rem;border-radius:.75rem;transition-duration:.3s;border:none;background:none;cursor:pointer}.button-abort[_ngcontent-%COMP%]:hover{color:#374151}.link-home[_ngcontent-%COMP%]{display:inline-block;margin-top:1.5rem;color:#6b7280;text-decoration:none;transition-duration:.3s}.link-home[_ngcontent-%COMP%]:hover{color:#374151}.icon-success[_ngcontent-%COMP%], .icon-error[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#3b82f6;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var Zp=[{path:"principal",component:wc,pathMatch:"full"},{path:"pacientes",component:Mc},{path:"patient-details/:id",component:Sc},{path:"historial",component:Tc},{path:"reportes",component:Oc},{path:"cancel/:reminderId",component:Rc}],mC=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Et({type:e});static \u0275inj=Ct({imports:[Mt.forRoot(Zp),Mt]})};var gC={providers:[Uv({eventCoalescing:!0}),kp(Zp),$y(Uy()),ip()]};tp(fc,gC).catch(e=>console.error(e));
